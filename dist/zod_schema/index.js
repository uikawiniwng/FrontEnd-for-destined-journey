import{registerMvuSchema as r}from'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';const t=z,e=(r=!1)=>t.z.preprocess(r=>'string'==typeof r?'是'===r:r,t.z.boolean()).prefault(r),a=(r,e,a)=>t.z.coerce.number().prefault(r).transform(r=>_.clamp(r,e,a)),u=t.z.object({品质:t.z.string().prefault(''),标签:t.z.string().optional(),效果:t.z.string().prefault(''),描述:t.z.string().prefault('')}),f=u.extend({类型:t.z.string().prefault(''),消耗:t.z.string().prefault('')}).transform(r=>_.pick(r,['品质','类型','消耗','标签','效果','描述'])),l=u.extend({位置:t.z.string().prefault('')}),p=u.extend({类型:t.z.string().prefault('')}).transform(r=>_.pick(r,['品质','类型','标签','效果','描述'])),n=u.extend({数量:t.z.coerce.number().prefault(1),类型:t.z.string().prefault('')}).transform(r=>_.pick(r,['品质','数量','类型','标签','效果','描述'])),s={力量:0,敏捷:0,体质:0,智力:0,精神:0},o=t.z.object(_.mapValues(s,()=>t.z.coerce.number().prefault(0))).prefault({}),c=t.z.object({..._.mapValues(s,()=>t.z.coerce.number().prefault(0)),属性点:t.z.coerce.number().prefault(0)}).prefault({}),i=t.z.object({名称:t.z.string().prefault(''),描述:t.z.string().prefault('')}).prefault({}),g=(r,t)=>_.fromPairs(_.take(_.toPairs(r),t)),m=t.z.object({是否开启:e(!1),要素:t.z.record(t.z.string(),t.z.string()).prefault({}),权能:t.z.record(t.z.string(),t.z.string()).prefault({}),法则:t.z.record(t.z.string(),t.z.string()).prefault({}),神位:t.z.string().prefault(''),神国:i}).prefault({}).transform(r=>({...r,要素:g(r.要素,3),权能:g(r.权能,1),法则:r.神位?r.法则:g(r.法则,1)})),b=t.z.object({简介:t.z.string().prefault(''),目标:t.z.string().prefault(''),奖励:t.z.string().prefault('')}),d=t.z.object({世界:t.z.object({时间:t.z.string().prefault(''),地点:t.z.string().prefault('')}).prefault({}),事件链:t.z.record(t.z.any(),t.z.any()).prefault({}),任务列表:t.z.record(t.z.string(),b).prefault({}),角色:t.z.object({种族:t.z.string().prefault(''),身份:t.z.array(t.z.string()).prefault([]),职业:t.z.array(t.z.string()).prefault([]),生命层级:t.z.string().prefault('第一层级/普通层级'),等级:a(1,1,25),累计经验值:t.z.coerce.number().prefault(0),升级所需经验:t.z.union([t.z.coerce.number().prefault(120),t.z.literal('MAX')]),冒险者等级:t.z.string().prefault('未评级'),生命值上限:t.z.coerce.number().prefault(0),生命值:t.z.coerce.number().prefault(0),法力值上限:t.z.coerce.number().prefault(0),法力值:t.z.coerce.number().prefault(0),体力值上限:t.z.coerce.number().prefault(0),体力值:t.z.coerce.number().prefault(0),属性:c.prefault({}),技能列表:t.z.record(t.z.string(),f).prefault({})}).prefault({}).transform(r=>({...r,升级所需经验:r.等级>=25?'MAX':r.升级所需经验,生命值:_.clamp(r.生命值,0,r.生命值上限),法力值:_.clamp(r.法力值,0,r.法力值上限),体力值:_.clamp(r.体力值,0,r.体力值上限)})),背包:t.z.record(t.z.string(),n).prefault({}).transform(r=>_.pickBy(r,r=>r.数量>0)),货币:t.z.object({金币:t.z.coerce.number().prefault(0).transform(r=>Math.floor(r)),银币:t.z.coerce.number().prefault(0).transform(r=>Math.floor(r)),铜币:t.z.coerce.number().prefault(0).transform(r=>Math.floor(r))}).prefault({}),装备:t.z.object({武器:t.z.record(t.z.string(),l).prefault({}),防具:t.z.record(t.z.string(),l).prefault({}),饰品:t.z.record(t.z.string(),l).prefault({})}).prefault({}),登神长阶:m,命定系统:t.z.object({命运点数:t.z.coerce.number().prefault(0).transform(r=>Math.floor(Math.max(r,0))),命定之人:t.z.record(t.z.string(),t.z.object({是否在场:e(!0),生命层级:t.z.string().prefault(''),等级:a(1,1,25),种族:t.z.string().prefault(''),身份:t.z.array(t.z.string()).prefault([]),职业:t.z.array(t.z.string()).prefault([]),性格:t.z.string().prefault(''),喜爱:t.z.string().prefault(''),外貌特质:t.z.string().prefault(''),衣物装饰:t.z.string().prefault(''),装备:t.z.record(t.z.string(),p).prefault({}),属性:o,登神长阶:m,是否缔结契约:e(!1),好感度:a(0,-100,100),评价:t.z.string().prefault(''),背景故事:t.z.string().prefault(''),技能:t.z.record(t.z.string(),f).prefault({})})).prefault({})}).prefault({}),新闻:t.z.object({阿斯塔利亚快讯:t.z.object({势力要闻:t.z.string().prefault(''),尊位行迹:t.z.string().prefault(''),军事行动:t.z.string().prefault(''),经济动脉:t.z.string().prefault(''),灾害预警:t.z.string().prefault('')}).prefault({}),酒馆留言板:t.z.object({高额悬赏:t.z.string().prefault(''),冒险发现:t.z.string().prefault(''),怪物异动:t.z.string().prefault(''),通缉要犯:t.z.string().prefault(''),宝物传闻:t.z.string().prefault('')}).prefault({}),午后茶会:t.z.object({社交逸闻:t.z.string().prefault(''),千里远望:t.z.string().prefault(''),命运涟漪:t.z.string().prefault(''),邂逅预兆:t.z.string().prefault('')}).prefault({})}).prefault({})});$(()=>{r(d)});