import{registerMvuSchema as r}from'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';const e=z,t=(r=!1)=>e.z.preprocess(r=>'string'==typeof r?'是'===r:r,e.z.boolean()).prefault(r),n=(r,t,n)=>e.z.coerce.number().prefault(r).transform(((r,e)=>t=>_.clamp(t,r,e))(t,n)),s=e.z.object({品质:e.z.string(),标签:e.z.string().optional(),效果:e.z.string(),描述:e.z.string()}),o=s.extend({类型:e.z.string(),消耗:e.z.string()}).transform(({品质:r,类型:e,消耗:t,标签:n,效果:s,描述:o})=>({品质:r,类型:e,消耗:t,标签:n,效果:s,描述:o})),c=s.extend({位置:e.z.string()}),i=s.extend({类型:e.z.string()}).transform(({品质:r,类型:e,标签:t,效果:n,描述:s})=>({品质:r,类型:e,标签:t,效果:n,描述:s})),g=s.extend({数量:e.z.coerce.number().prefault(1),类型:e.z.string()}).transform(({品质:r,数量:e,类型:t,标签:n,效果:s,描述:o})=>({品质:r,数量:e,类型:t,标签:n,效果:s,描述:o})),a=e.z.object({力量:e.z.coerce.number(),敏捷:e.z.coerce.number(),体质:e.z.coerce.number(),智力:e.z.coerce.number(),精神:e.z.coerce.number()}),b=a.extend({属性点:e.z.coerce.number()}),m=e.z.object({名称:e.z.string().prefault(''),描述:e.z.string().prefault('')}),u=(r,e)=>Object.fromEntries(Object.entries(r).slice(0,e)),f=e.z.object({是否开启:t(!1),要素:e.z.record(e.z.string(),e.z.string()).prefault({}),权能:e.z.record(e.z.string(),e.z.string()).prefault({}),法则:e.z.record(e.z.string(),e.z.string()).prefault({}),神位:e.z.string().prefault(''),神国:m.prefault({})}).transform(r=>({...r,要素:u(r.要素,3),权能:u(r.权能,1),法则:r.神位?r.法则:u(r.法则,1)})),l=e.z.object({简介:e.z.string(),目标:e.z.string(),奖励:e.z.string()}),p=e.z.object({世界:e.z.object({时间:e.z.string(),地点:e.z.string()}),事件链:e.z.object({开启:e.z.boolean().prefault(!1),结束:e.z.boolean().prefault(!1),琥珀事件:e.z.boolean().prefault(!1),标题:e.z.any(),阶段:e.z.any(),已完成事件:e.z.array(e.z.any())}),任务列表:e.z.record(e.z.string(),l),角色:e.z.object({种族:e.z.string(),身份:e.z.array(e.z.string()),职业:e.z.array(e.z.string()),生命层级:e.z.string().prefault('第一层级/普通层级'),等级:n(1,1,25),累计经验值:e.z.coerce.number(),升级所需经验:e.z.coerce.number().prefault(23),冒险者等级:e.z.string().prefault('未评级'),生命值上限:e.z.coerce.number(),生命值:e.z.coerce.number(),法力值上限:e.z.coerce.number(),法力值:e.z.coerce.number(),体力值上限:e.z.coerce.number(),体力值:e.z.coerce.number(),属性:b,技能列表:e.z.record(e.z.string(),o)}).transform(r=>({...r,升级所需经验:r.等级>=25?'MAX':r.升级所需经验,生命值:_.clamp(r.生命值,0,r.生命值上限),法力值:_.clamp(r.法力值,0,r.法力值上限),体力值:_.clamp(r.体力值,0,r.体力值上限)})),背包:e.z.record(e.z.string(),g).transform(r=>Object.fromEntries(Object.entries(r).filter(([,r])=>r.数量>0))),货币:e.z.object({金币:e.z.coerce.number().prefault(0).transform(r=>Math.floor(Math.max(r,0))),银币:e.z.coerce.number().prefault(0).transform(r=>Math.floor(Math.max(r,0))),铜币:e.z.coerce.number().prefault(0).transform(r=>Math.floor(r))}),装备:e.z.object({武器:e.z.record(e.z.string(),c),防具:e.z.record(e.z.string(),c),饰品:e.z.record(e.z.string(),c)}),登神长阶:f,命定系统:e.z.object({命运点数:e.z.coerce.number().transform(r=>Math.floor(Math.max(r,0))),命定之人:e.z.record(e.z.string(),e.z.object({是否在场:t(!0),生命层级:e.z.string(),等级:n(1,1,25),种族:e.z.string(),身份:e.z.array(e.z.string()),职业:e.z.array(e.z.string()),性格:e.z.string(),喜爱:e.z.string(),外貌特质:e.z.string(),衣物装饰:e.z.string(),装备:e.z.record(e.z.string(),i),属性:a,登神长阶:f,是否缔结契约:t(!1),好感度:n(0,-100,100),评价:e.z.string(),背景故事:e.z.string(),技能:e.z.record(e.z.string(),o)}))}),新闻:e.z.object({阿斯塔利亚快讯:e.z.object({势力要闻:e.z.string(),尊位行迹:e.z.string(),军事行动:e.z.string(),经济动脉:e.z.string(),灾害预警:e.z.string()}),酒馆留言板:e.z.object({高额悬赏:e.z.string(),冒险发现:e.z.string(),怪物异动:e.z.string(),通缉要犯:e.z.string(),宝物传闻:e.z.string()}),午后茶会:e.z.object({社交逸闻:e.z.string(),千里远望:e.z.string(),命运涟漪:e.z.string(),邂逅预兆:e.z.string()})})});$(()=>{r(p)});