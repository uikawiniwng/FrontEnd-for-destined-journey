<head><script type="module">import{createPinia as e,defineStore as t,storeToRefs as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{default as l}from'https://testingcf.jsdelivr.net/npm/json5/+esm';import{klona as o}from'https://testingcf.jsdelivr.net/npm/klona/+esm';var n={455(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},c={};const s=Vue,r={class:'creator-app'};var i=function e(t){var a=c[t];if(void 0!==a)return a.exports;var l=c[t]={exports:{}};return n[t](l,l.exports,e),l.exports}(455);const d={},m=(0,i.A)(d,[['render',function(e,t){const a=(0,s.resolveComponent)('RouterView');return(0,s.openBlock)(),(0,s.createElementBlock)('div',r,[(0,s.createVNode)(a)])}],['__scopeId','data-v-15ec88ba']]),u=VueRouter;async function p(e,t){try{const a=await fetch(`https://testingcf.jsdelivr.net/gh/The-poem-of-destiny/FrontEnd-for-destined-journey@1.4.0/public/assets/data/${e}`);if(!a.ok)return console.log(`未找到自定义数据文件 (${e})`),{};const o=await a.text(),n=l.parse(o);return console.log(`成功加载自定义${t}数据`),n}catch(e){return console.log(`未找到自定义${t}数据或格式错误:`,e),{}}}function v(e,t){return _.mergeWith({},e,t,(e,t)=>{if(_.isArray(e))return[...e,...t]})}const V=(0,s.ref)({});(async function(){return p('baseInfo.json','基础信息')})().then(e=>{V.value=e});const f=(0,s.computed)(()=>[...(V.value.genders||[]).filter(e=>'自定义'!==e),'自定义']),k=(0,s.computed)(()=>({...V.value.raceCosts||{},自定义:80})),y=(0,s.computed)(()=>({...V.value.identityCosts||{},自定义:80})),N=(0,s.computed)(()=>[...(V.value.startLocations||[]).filter(e=>'自定义'!==e),'自定义']),E=['力量','敏捷','体质','智力','精神'],g=e=>e>=1&&e<=4?0:e>=5&&e<=8?1:e>=9&&e<=12?2:e>=13&&e<=16?3:e>=17&&e<=20?4:e>=21&&e<=24?5:e>=25?6:0,b=e=>e>=1&&e<=4?'第一层级':e>=5&&e<=8?'第二层级':e>=9&&e<=12?'第三层级':e>=13&&e<=16?'第四层级':e>=17&&e<=20?'第五层级':e>=21&&e<=24?'第六层级':e>=25?'第七层级':'未知层级',h={};let B=null;function C(){return B||h}!async function(){const e=await async function(){return p('skills.json','技能')}();B=v(h,e)}();const D=()=>_.find(_.keys(y.value),e=>_.includes(e,'平民'))||'',x=t('character',()=>{const e=(0,s.ref)({name:'',gender:'男',customGender:'',age:18,race:'人类',customRace:'',identity:D(),customIdentity:'',startLocation:'大陆东南部区域-索伦蒂斯王国',customStartLocation:'',level:1,attributePoints:{力量:0,敏捷:0,体质:0,智力:0,精神:0},reincarnationPoints:1e3,destinyPoints:0,money:0}),t=(0,s.ref)([]),a=(0,s.ref)([]),l=(0,s.ref)([]),o=(0,s.ref)([]),n=(0,s.ref)(null),c=(0,s.computed)(()=>_.sum([_.get(k.value,e.value.race,0),_.get(y.value,e.value.identity,0),r.value,_.sumBy(t.value,'cost'),_.sumBy(a.value,'cost'),_.sumBy(l.value,'cost'),_.sumBy(o.value,'cost'),Math.ceil(e.value.money/10),Math.ceil(e.value.destinyPoints/2)])),r=(0,s.computed)(()=>_.sum(_.values(e.value.attributePoints))),i=(0,s.computed)(()=>{return t=e.value.level,5+Math.max(0,t-1);var t}),d=(0,s.computed)(()=>i.value-r.value),m=(0,s.computed)(()=>{const t=g(e.value.level);return _.fromPairs(_.map(E,a=>[a,4+t+e.value.attributePoints[a]]))});return(0,s.watch)(()=>e.value.level,()=>{e.value.attributePoints={力量:0,敏捷:0,体质:0,智力:0,精神:0}}),(0,s.watch)(()=>[e.value.race,e.value.customRace],()=>{const t='自定义'===e.value.race?e.value.customRace:e.value.race,a=_.without(_.keys(k.value),'自定义'),o=C();_.remove(l.value,e=>{const l=(n=e.name,_.findKey(o,e=>_.some(e,e=>e.name===n))||'');var n;return _.includes(a,l)&&l!==t})},{deep:!0}),(0,s.watch)(y,t=>{e.value.identity||_.isEmpty(t)||(e.value.identity=D())},{immediate:!0}),{character:e,consumedPoints:c,selectedEquipments:t,selectedItems:a,selectedSkills:l,selectedDestinedOnes:o,selectedBackground:n,usedAP:r,maxAP:i,remainingAP:d,finalAttributes:m,updateCharacterField:(t,a)=>{e.value[t]=a},updateAttribute:(t,a)=>{e.value.attributePoints[t]=Math.max(0,a)},addAttributePoint:t=>{d.value>0&&e.value.attributePoints[t]++},removeAttributePoint:t=>{e.value.attributePoints[t]>0&&e.value.attributePoints[t]--},rollInitialPoints:()=>{const t=(e=>{if(e&&(e=>{const t=e.toLowerCase();return['[dev]','[test]'].some(e=>t.includes(e))})(e))return 888888;const t=Math.random(),a=Math.pow(t,3),l=Math.floor(1e3+9001*a);return Math.min(l,1e4)})(e.value.name);return e.value.reincarnationPoints=t,t},resetCharacter:()=>{e.value={name:'',gender:'男',customGender:'',age:18,race:'人类',customRace:'',identity:D(),customIdentity:'',startLocation:'大陆东南部区域-索伦蒂斯王国',customStartLocation:'',level:1,attributePoints:{力量:0,敏捷:0,体质:0,智力:0,精神:0},reincarnationPoints:1e3,destinyPoints:0,money:0}},addEquipment:e=>{t.value.push(e)},removeEquipment:e=>{_.remove(t.value,t=>t.name===e.name)},addItem:e=>{a.value.push(e)},removeItem:e=>{_.remove(a.value,t=>t.name===e.name)},addSkill:e=>{l.value.push(e)},removeSkill:e=>{_.remove(l.value,t=>t.name===e.name)},clearSelections:()=>{t.value=[],a.value=[],l.value=[]},clearDestinedOnes:()=>{o.value=[]},clearAllSelections:()=>{t.value=[],a.value=[],l.value=[],o.value=[],n.value=null},addDestinedOne:e=>{o.value.push(e)},removeDestinedOne:e=>{_.remove(o.value,t=>t.name===e.name)},setBackground:e=>{n.value=e},resetDestinyExchange:()=>{e.value.destinyPoints=0}}}),S='start_presets';function w(){try{const e=getVariables({type:'character'}),t=_.get(e,S);if(t&&_.isArray(t.presets))return t}catch(e){console.warn('读取预设存储失败，返回空存储:',e)}return{presets:[]}}function F(e){try{insertOrAssignVariables({[S]:e},{type:'character'}),console.log('✅ 预设存储已保存到角色卡变量')}catch(e){throw console.error('保存预设存储失败:',e),e}}function I(){const e=w();return _.orderBy(e.presets,['updatedAt'],['desc'])}function q(e,t=!1){const a=w(),l=_.findIndex(a.presets,{name:e.name});if(-1!==l){if(!t)return toastr.warning(`预设「${e.name}」已存在`),!1;a.presets[l]={...e,updatedAt:Date.now()},toastr.success(`预设「${e.name}」已更新`)}else a.presets.push({...e,createdAt:Date.now(),updatedAt:Date.now()}),toastr.success(`预设「${e.name}」已保存`);return a.lastUsedPreset=e.name,F(a),!0}const P=['name','gender','customGender','age','race','customRace','identity','customIdentity','startLocation','customStartLocation','level','attributePoints','reincarnationPoints','destinyPoints','money'];function L(e){return new Date(e).toLocaleString('zh-CN',{year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit'})}const T=['createdAt','updatedAt'];function O(e){const t=I(),a=_.find(t,t=>function(e,t){const a=_.omit(t.character,T),l=_.omit(e.character,T);return _.every([_.isEqual(a,l),_.isEqual(t.selectedEquipments,e.equipments),_.isEqual(t.selectedItems,e.items),_.isEqual(t.selectedSkills,e.skills),_.isEqual(t.selectedDestinedOnes,e.destinedOnes),_.isEqual(t.selectedBackground,e.background)])}(t,e));return a?.name??null}const A=()=>{(0,s.nextTick)(()=>{const e=window.frameElement;e&&e.scrollIntoView({behavior:'smooth',block:'center'})})},U={class:'modal-container'},M={class:'modal-header'},R={class:'modal-title'},j={class:'modal-content'},G={key:0,class:'save-section'},K={class:'save-row'},H={class:'list-section'},Q={key:0,class:'empty-state'},W={key:0,class:'hint'},J={key:1,class:'preset-list'},X={class:'preset-main'},Y={class:'preset-info'},Z={class:'preset-name'},ee={class:'preset-time'},te={class:'preset-meta'},ae={class:'meta-item'},le={class:'meta-item'},oe={class:'meta-item'},ne={class:'meta-item'},ce={class:'meta-item'},se={class:'preset-actions'},re=['onClick'],ie=['onClick'],de=['onClick'],me=(0,s.defineComponent)({__name:'PresetModal',props:{visible:{type:Boolean},mode:{}},emits:['close','loaded','saved'],setup(e,{emit:t}){const a=e,l=t,n=x(),c=(0,s.ref)([]),r=(0,s.ref)(''),i=(0,s.ref)(null),d=()=>{c.value=I()};(0,s.watch)(()=>a.visible,e=>{e&&(d(),r.value='',i.value=null,A())}),(0,s.onMounted)(()=>{a.visible&&(d(),A())});const m=()=>{const e=r.value.trim();if(!e)return void toastr.warning('请输入预设名称');const t=function(e,t){const a=Date.now();return{name:e,createdAt:a,updatedAt:a,character:o(t.character),equipments:o(t.selectedEquipments),items:o(t.selectedItems),skills:o(t.selectedSkills),destinedOnes:o(t.selectedDestinedOnes),background:o(t.selectedBackground)}}(e,n),a=function(e){const t=w();return _.some(t.presets,{name:e})}(e);a?(i.value=null,u.value===e?(q(t,!0),r.value='',u.value=null,d(),l('saved',t)):(u.value=e,toastr.info(`预设「${e}」已存在，再次点击保存确认覆盖`))):(q(t,!1),r.value='',d(),l('saved',t))},u=(0,s.ref)(null),p=e=>{!function(e,t){t.resetCharacter(),t.clearAllSelections(),_.forEach(P,a=>{_.has(e.character,a)&&t.updateCharacterField(a,_.get(e.character,a))}),_.forEach(e.equipments,e=>t.addEquipment(e)),_.forEach(e.items,e=>t.addItem(e)),_.forEach(e.skills,e=>t.addSkill(e)),_.forEach(e.destinedOnes,e=>t.addDestinedOne(e)),t.setBackground(e.background),toastr.success(`已加载预设「${e.name}」`)}(e,n),l('loaded',e),l('close')},v=e=>{i.value===e?(!function(e){const t=w(),a=_.remove(t.presets,{name:e});_.isEmpty(a)?toastr.error(`预设「${e}」不存在`):(t.lastUsedPreset===e&&(t.lastUsedPreset=void 0),F(t),toastr.info(`预设「${e}」已删除`))}(e),i.value=null,d()):(i.value=e,u.value=null)},V=()=>{i.value=null},f=()=>{l('close')},k=(0,s.computed)(()=>'load'===a.mode?'加载预设':'预设管理'),y=(0,s.computed)(()=>'load'!==a.mode);return(t,a)=>((0,s.openBlock)(),(0,s.createBlock)(s.Teleport,{to:'body'},[e.visible?((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:0,class:'modal-overlay',onClick:(0,s.withModifiers)(f,['self'])},[(0,s.createElementVNode)('div',U,[(0,s.createCommentVNode)(' 标题栏 '),(0,s.createElementVNode)('div',M,[(0,s.createElementVNode)('h2',R,(0,s.toDisplayString)(k.value),1),(0,s.createElementVNode)('button',{class:'close-button',title:'关闭',onClick:f},'✕')]),(0,s.createCommentVNode)(' 内容区域 '),(0,s.createElementVNode)('div',j,[(0,s.createCommentVNode)(' 保存新预设区域 '),y.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',G,[a[1]||(a[1]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-floppy-disk'}),(0,s.createTextVNode)(' 保存当前配置')],-1)),(0,s.createElementVNode)('div',K,[(0,s.withDirectives)((0,s.createElementVNode)('input',{'onUpdate:modelValue':a[0]||(a[0]=e=>r.value=e),type:'text',class:'preset-input',placeholder:'输入预设名称...',onKeyup:(0,s.withKeys)(m,['enter'])},null,544),[[s.vModelText,r.value]]),(0,s.createElementVNode)('button',{class:(0,s.normalizeClass)(['action-button save-button',{confirm:u.value===r.value.trim()}]),onClick:m},[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(['fa-solid',u.value===r.value.trim()?'fa-check':'fa-save'])},null,2),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(u.value===r.value.trim()?'确认覆盖':'保存预设'),1)],2)])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 预设列表 '),(0,s.createElementVNode)('div',H,[a[13]||(a[13]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-list'}),(0,s.createTextVNode)(' 已保存的预设')],-1)),0===c.value.length?((0,s.openBlock)(),(0,s.createElementBlock)('div',Q,[a[2]||(a[2]=(0,s.createElementVNode)('i',{class:'fa-solid fa-inbox empty-icon'},null,-1)),a[3]||(a[3]=(0,s.createElementVNode)('p',null,'暂无保存的预设',-1)),y.value?((0,s.openBlock)(),(0,s.createElementBlock)('p',W,'在上方输入名称保存当前配置')):(0,s.createCommentVNode)('v-if',!0)])):((0,s.openBlock)(),(0,s.createElementBlock)('div',J,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(c.value,e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:(0,s.normalizeClass)(['preset-item',{'delete-pending':i.value===e.name}])},[(0,s.createElementVNode)('div',X,[(0,s.createElementVNode)('div',Y,[(0,s.createElementVNode)('span',Z,(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('span',ee,(0,s.toDisplayString)((0,s.unref)(L)(e.updatedAt)),1)]),(0,s.createElementVNode)('div',te,[(0,s.createElementVNode)('span',ae,[a[4]||(a[4]=(0,s.createElementVNode)('i',{class:'fa-solid fa-user'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.character.name||'未命名'),1)]),(0,s.createElementVNode)('span',le,[a[5]||(a[5]=(0,s.createElementVNode)('i',{class:'fa-solid fa-star'},null,-1)),(0,s.createTextVNode)(' Lv.'+(0,s.toDisplayString)(e.character.level),1)]),(0,s.createElementVNode)('span',oe,[a[6]||(a[6]=(0,s.createElementVNode)('i',{class:'fa-solid fa-shield'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.equipments.length),1)]),(0,s.createElementVNode)('span',ne,[a[7]||(a[7]=(0,s.createElementVNode)('i',{class:'fa-solid fa-wand-sparkles'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.skills.length),1)]),(0,s.createElementVNode)('span',ce,[a[8]||(a[8]=(0,s.createElementVNode)('i',{class:'fa-solid fa-heart'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.destinedOnes.length),1)])])]),(0,s.createElementVNode)('div',se,[i.value===e.name?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[(0,s.createElementVNode)('button',{class:'action-button confirm-delete',onClick:t=>v(e.name)},[...a[9]||(a[9]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-check'},null,-1),(0,s.createTextVNode)(' 确认删除 ',-1)])],8,re),(0,s.createElementVNode)('button',{class:'action-button cancel-button',onClick:V},[...a[10]||(a[10]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark'},null,-1),(0,s.createTextVNode)(' 取消 ',-1)])])],64)):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createElementVNode)('button',{class:'action-button load-button',onClick:t=>p(e)},[...a[11]||(a[11]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-download'},null,-1),(0,s.createTextVNode)(' 加载 ',-1)])],8,ie),y.value?((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:0,class:'action-button delete-button',onClick:t=>v(e.name)},[...a[12]||(a[12]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-trash'},null,-1),(0,s.createTextVNode)(' 删除 ',-1)])],8,de)):(0,s.createCommentVNode)('v-if',!0)],64))])],2))),128))]))])]),(0,s.createCommentVNode)(' 底部按钮 '),(0,s.createElementVNode)('div',{class:'modal-footer'},[(0,s.createElementVNode)('button',{class:'footer-button',onClick:f},'关闭')])])])):(0,s.createCommentVNode)('v-if',!0)]))}}),ue=(0,i.A)(me,[['__scopeId','data-v-2397950a']]),pe=t('customContent',()=>{const e=(0,s.ref)(''),t=(0,s.ref)({categoryType:'equipment',customItemType:'',itemName:'',itemRarity:'common',itemTag:[],itemEffect:{},itemDescription:'',itemConsume:'',itemQuantity:1}),a=()=>{t.value={categoryType:'equipment',customItemType:'',itemName:'',itemRarity:'common',itemTag:[],itemEffect:{},itemDescription:'',itemConsume:'',itemQuantity:1}},l={strength:5,dexterity:5,constitution:5,intelligence:5,mind:5},n=(0,s.ref)({itemName:'',itemLevel:1,itemLifeLevel:'',itemGrade:1,itemRace:'',itemIdentity:[],itemCareer:[],itemPersonality:'',itemLike:'',itemApp:'',itemCloth:'',itemEquip:[],itemAttributes:{...l},itemStairway:'',itemIsContract:!0,itemAffinity:0,itemComment:'',itemBackgroundInfo:'',itemSkills:[]}),c=()=>{n.value={itemName:'',itemLevel:1,itemLifeLevel:'',itemGrade:1,itemRace:'',itemIdentity:[],itemCareer:[],itemPersonality:'',itemLike:'',itemApp:'',itemCloth:'',itemEquip:[],itemAttributes:o(l),itemStairway:'',itemIsContract:!0,itemAffinity:0,itemComment:'',itemBackgroundInfo:'',itemSkills:[]}};return{customBackgroundDescription:e,updateCustomBackgroundDescription:t=>{e.value=t},customItemForm:t,updateCustomItemForm:(e,a)=>{t.value[e]=a},resetCustomItemForm:a,customDestinedOneForm:n,updateCustomDestinedOneForm:(e,t)=>{n.value[e]=t},resetCustomDestinedOneForm:c,resetAll:()=>{e.value='',a(),c()}}}),ve=e(),Ve={only:'唯一',common:'普通',uncommon:'优良',rare:'稀有',epic:'史诗',legendary:'传说',mythic:'神话'};function fe(){const e=x(),t=pe(),{character:l}=a(e);return{executeJourney:async()=>{try{await async function(e,t,a,l){await waitGlobalInitialized('Mvu');const o=_.filter(a,e=>!e.isCustom),n=_.filter(t,e=>!e.isCustom),c=_.filter(l,e=>!e.isCustom),s=Mvu.getMvuData({type:'message',message_id:'latest'});_.set(s,'stat_data.命定系统.命运点数',e.destinyPoints);const r=_.fromPairs(_.map(o,e=>[e.name,{品质:_.get(Ve,e.rarity,'普通'),类型:e.type,消耗:e.consume||'',标签:e.tag||[],效果:e.effect||{},描述:e.description}]));_.set(s,'stat_data.主角.技能',r);const i=_.fromPairs(_.map(n,e=>[e.name,{品质:_.get(Ve,e.rarity,'普通'),数量:e.quantity||1,类型:e.type,标签:e.tag||[],效果:e.effect||{},描述:e.description}]));_.set(s,'stat_data.主角.背包',i),_.set(s,'stat_data.主角.金钱',Math.max(0,Math.round(e.money)));const d=_.fromPairs(_.map(c,e=>{const t=_.fromPairs(_.chain(e.equip).filter(e=>!!e.name).map(e=>[e.name,{品质:_.get(Ve,e.rarity||'','普通'),类型:e.type||'',标签:e.tag||[],效果:e.effect||{},描述:e.description||'',位置:e.position||''}]).value()),a=_.fromPairs(_.map(e.skills,e=>[e.name,{品质:_.get(Ve,e.rarity,'普通'),类型:e.type,消耗:e.consume||'',标签:e.tag||[],效果:e.effect||{},描述:e.description}]));return[e.name,{是否在场:!0,生命层级:e.lifeLevel,等级:e.level,种族:e.race,身份:[...e.identity],职业:[...e.career],性格:e.personality,喜爱:e.like,外貌:e.app,着装:e.cloth,属性:{力量:e.attributes.strength,敏捷:e.attributes.dexterity,体质:e.attributes.constitution,智力:e.attributes.intelligence,精神:e.attributes.mind},登神长阶:{是否开启:e.stairway.isOpen,要素:e.stairway.elements??{},权能:e.stairway.powers??{},法则:e.stairway.laws??{},神位:e.stairway.godlyRank??'',神国:e.stairway.godKingdom?{名称:e.stairway.godKingdom.name,描述:e.stairway.godKingdom.description}:{名称:'',描述:''}},是否缔结契约:e.isContract,好感度:e.affinity,心里话:e.comment||'',背景故事:e.backgroundInfo||'',装备:t,技能:a}]}));_.set(s,'stat_data.命定系统.命定之人',d),await Mvu.replaceMvuData(s,{type:'message',message_id:'latest'}),console.log('✅ 预设数据已成功写入消息楼层变量')}(l.value,e.selectedItems,e.selectedSkills,e.selectedDestinedOnes),console.log('✅ 角色数据已写入 MVU 变量');const a=function(e,t,a,l,o,n,c){const s=[],r='自定义'===e.gender?e.customGender:e.gender,i='自定义'===e.race?e.customRace:e.race,d='自定义'===e.identity?e.customIdentity:e.identity,m='自定义'===e.startLocation?e.customStartLocation:e.startLocation,u=g(e.level),p=e=>`4(基础) + ${u}(层级) + ${e}(额外) = ${4+u+e}`;s.push('【角色信息】'),s.push(`姓名: ${e.name}`),s.push(`性别: ${r}`),s.push(`年龄: ${e.age}岁`),s.push(`种族: ${i}`),s.push(`身份: ${d}`),s.push(`出生地: ${m}`),s.push(`生命层级: ${b(e.level)}`),s.push(`等级: Lv.${e.level}`),s.push(''),s.push('【角色属性】'),s.push(`力量: ${p(e.attributePoints.力量)}`),s.push(`敏捷: ${p(e.attributePoints.敏捷)}`),s.push(`体质: ${p(e.attributePoints.体质)}`),s.push(`智力: ${p(e.attributePoints.智力)}`),s.push(`精神: ${p(e.attributePoints.精神)}`),t.length>0&&(s.push(''),s.push('【装备列表】'),t.forEach((e,a)=>{s.push(`- 名称: ${e.name}`),s.push(`  类型: ${e.type}`),s.push(`  品质: ${Ve[e.rarity]||e.rarity}`),e.tag&&e.tag.length>0&&s.push(`  标签: ${e.tag.join('、')}`),_.isEmpty(e.effect)||(s.push('  效果:'),_.forEach(e.effect,(e,t)=>{s.push(`    - ${t}: ${e}`)})),e.description&&s.push(`  描述: ${e.description}`),a<t.length-1&&s.push('')}));const v=_.filter(o,'isCustom');v.length>0&&(s.push(''),s.push('【自定义道具】'),v.forEach((e,t)=>{s.push(`- 名称: ${e.name||'未命名'}`),e.type&&s.push(`  类型: ${e.type}`),e.rarity&&s.push(`  品质: ${Ve[e.rarity]||e.rarity}`),e.quantity&&s.push(`  数量: ${e.quantity}`),e.tag&&e.tag.length>0&&s.push(`  标签: ${e.tag.join('、')}`),_.isEmpty(e.effect)||(s.push('  效果:'),_.forEach(e.effect,(e,t)=>{s.push(`    - ${t}: ${e}`)})),e.description&&s.push(`  描述: ${e.description}`),t<v.length-1&&s.push('')}));const V=_.filter(n,'isCustom');V.length>0&&(s.push(''),s.push('【自定义技能】'),V.forEach((e,t)=>{s.push(`- 名称: ${e.name||'未命名'}`),e.type&&s.push(`  类型: ${e.type}`),e.rarity&&s.push(`  品质: ${Ve[e.rarity]||e.rarity}`),e.tag&&e.tag.length>0&&s.push(`  标签: ${e.tag.join('、')}`),e.consume&&s.push(`  消耗: ${e.consume}`),_.isEmpty(e.effect)||(s.push('  效果:'),_.forEach(e.effect,(e,t)=>{s.push(`    - ${t}: ${e}`)})),e.description&&s.push(`  描述: ${e.description}`),t<V.length-1&&s.push('')}));const f=_.filter(a,'isCustom');if(f.length>0&&(s.push(''),s.push('【命定之人】'),f.forEach(e=>{if(s.push(`◆ 名称: ${e.name}`),s.push(`  种族: ${e.race}`),s.push(`  身份: ${e.identity.join('、')}`),e.career.length>0&&s.push(`  职业: ${e.career.join('、')}`),s.push(`  生命层级: ${e.lifeLevel}`),s.push(`  等级: ${e.level}`),s.push(`  性格: ${e.personality}`),s.push(`  喜爱: ${e.like}`),s.push(`  外貌: ${e.app}`),s.push(`  着装: ${e.cloth}`),s.push('  属性:'),s.push(`    力量: ${e.attributes.strength}`),s.push(`    敏捷: ${e.attributes.dexterity}`),s.push(`    体质: ${e.attributes.constitution}`),s.push(`    智力: ${e.attributes.intelligence}`),s.push(`    精神: ${e.attributes.mind}`),s.push('  是否缔结契约: '+(e.isContract?'是':'否')),s.push(`  好感度: ${e.affinity}`),!_.isEmpty(e.equip)){const t=_.filter(e.equip,'name');t.length>0&&(s.push('  装备:'),t.forEach((e,a)=>{s.push(`    - 名称: ${e.name}`),e.type&&s.push(`      类型: ${e.type}`),e.rarity&&s.push(`      品质: ${Ve[e.rarity]||e.rarity}`),e.tag&&e.tag.length>0&&s.push(`      标签: ${e.tag.join('、')}`),_.isEmpty(e.effect)||(s.push('      效果:'),_.forEach(e.effect,(e,t)=>{s.push(`        - ${t}: ${e}`)})),e.description&&s.push(`      描述: ${e.description}`),a<t.length-1&&s.push('')}))}if(e.stairway.isOpen){s.push('  登神长阶: 已开启');const t=_.get(e.stairway,'elements.custom.desc')||_.chain(e.stairway.elements).values().map(e=>e?.desc||'').find(Boolean).value();t&&s.push(`    描述: ${t}`)}e.comment&&s.push(`  心里话: ${e.comment}`),e.backgroundInfo&&s.push(`  背景: ${e.backgroundInfo}`),e.skills.length>0&&(s.push('  技能:'),e.skills.forEach((t,a)=>{s.push(`    - 名称: ${t.name}`),t.type&&s.push(`      类型: ${t.type}`),t.rarity&&s.push(`      品质: ${Ve[t.rarity]||t.rarity}`),t.tag&&t.tag.length>0&&s.push(`      标签: ${t.tag.join('、')}`),t.consume&&s.push(`      消耗: ${t.consume}`),_.isEmpty(t.effect)||(s.push('      效果:'),_.forEach(t.effect,(e,t)=>{s.push(`        - ${t}: ${e}`)})),t.description&&s.push(`      描述: ${t.description}`),a<e.skills.length-1&&s.push('')}))})),l){s.push(''),s.push('【初始开局剧情】'),s.push(`${l.name}`);const e='【自定义开局】'===l.name&&c?c:l.description;s.push(`描述: ${e}`)}return`\`\`\`text\n${s.join('\n')}\n\`\`\`\n\n---\n根据<status_current_variables>和以上内容，生成一个符合描述和情景的初始剧情！\n（注意：生成初始剧情时，先检查上述内容是否完整，如不完整，必须参考相关设定进行完善。）`}(l.value,e.selectedEquipments,e.selectedDestinedOnes,e.selectedBackground,e.selectedItems,e.selectedSkills,t.customBackgroundDescription);console.log('✅ AI 提示词已生成：\n',a),await createChatMessages([{role:'user',message:a}]),console.log('✅ 角色信息已发送给 AI'),await triggerSlash('/trigger')}catch(e){console.error('❌ 踏上旅程时发生错误：',e)}}}}async function ke(e){const t=o(e),a=async e=>{if(_.isString(e))return async function(e){if(!e)return e;try{return await SillyTavern.substituteParams(e)}catch{return e}}(e);if(_.isArray(e))return Promise.all(e.map(a));if(_.isPlainObject(e)){const t={};for(const[l,o]of Object.entries(e))t[l]=await a(o);return t}return e};return await a(t)}function ye(){const e=x(),{character:t}=a(e);return{availablePoints:(0,s.computed)(()=>{const a=e.consumedPoints;return t.value.reincarnationPoints-a}),canRollPoints:(0,s.computed)(()=>0===e.consumedPoints),rollPoints:()=>e.rollInitialPoints()}}function Ne(){const e=x(),t=(0,s.ref)(!1),a=(0,s.ref)('manage'),l=()=>{a.value='load',t.value=!0};return{showModal:t,modalMode:a,openManageModal:()=>{a.value='manage',t.value=!0},openLoadModal:l,closeModal:()=>{t.value=!1},checkAndShowLoadModal:()=>{(function(){const e=w();return!_.isEmpty(e.presets)})()&&l()},checkMatchingPreset:()=>O(e)}}function Ee(e,t){const a=t=>_.some(e(),{name:t.name}),l=e=>t()>=e.cost;return{isSelected:a,canSelect:l,isDisabled:e=>!a(e)&&!l(e)}}const ge=[{title:'基础信息与属性',shortTitle:'信息/属性',step:1},{title:'装备与技能',shortTitle:'装备/技能',step:2},{title:'命定之人与初始背景',shortTitle:'对象/背景',step:3},{title:'确认提交',shortTitle:'确认',step:4}],be='Layout',he='BasicInfo',Be='Selections',Ce='Background',De='Confirm',xe='/',Se='/basic',we={1:he,2:Be,3:Ce,4:De},_e={[he]:1,[Be]:2,[Ce]:3,[De]:4},Fe=ge.length;function Ie(){const e=x(),{character:t}=a(e),l=(0,s.computed)(()=>t.value.reincarnationPoints),o=(0,s.computed)(()=>e.consumedPoints);return{availablePoints:(0,s.computed)(()=>l.value-o.value),totalPoints:l,consumedPoints:o}}const qe={class:'content-area'},Pe=(0,s.defineComponent)({__name:'ContentArea',props:{transitionName:{}},setup:e=>(t,a)=>{const l=(0,s.resolveComponent)('router-view');return(0,s.openBlock)(),(0,s.createElementBlock)('div',qe,[(0,s.createVNode)(l,null,{default:(0,s.withCtx)(({Component:t,route:a})=>[(0,s.createVNode)(s.Transition,{name:e.transitionName,mode:'out-in'},{default:(0,s.withCtx)(()=>[((0,s.openBlock)(),(0,s.createBlock)((0,s.resolveDynamicComponent)(t),{key:a.path}))]),_:2},1032,['name'])]),_:1})])}}),$e=(0,i.A)(Pe,[['__scopeId','data-v-422e4092']]),Le={class:'header-controls'},Te={class:'points-display'},Oe={class:'points-total'},Ae={class:'control-buttons'},Ue=['disabled','title'],Me=(0,s.defineComponent)({__name:'HeaderControls',emits:['openPreset'],setup(e,{emit:t}){const l=x(),{character:o}=a(l),{availablePoints:n,canRollPoints:c,rollPoints:r}=ye(),i=t;return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Le,[(0,s.createElementVNode)('div',Te,[t[2]||(t[2]=(0,s.createElementVNode)('span',{class:'points-label'},'可用转生点：',-1)),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['points-value',{negative:(0,s.unref)(n)<0}])},(0,s.toDisplayString)((0,s.unref)(n)),3),(0,s.createElementVNode)('span',Oe,'/ '+(0,s.toDisplayString)((0,s.unref)(o).reincarnationPoints),1)]),(0,s.createElementVNode)('div',Ae,[(0,s.createElementVNode)('button',{class:'control-button roll-button',disabled:!(0,s.unref)(c),title:(0,s.unref)(c)?'随机生成新的转生点数':'已消耗点数，无法重新 Roll（请先重置）',onClick:t[0]||(t[0]=(...e)=>(0,s.unref)(r)&&(0,s.unref)(r)(...e))},[...t[3]||(t[3]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-dice'},null,-1),(0,s.createElementVNode)('span',{class:'button-text'},'Roll 点数',-1)])],8,Ue),(0,s.createElementVNode)('button',{class:'control-button preset-button',title:'管理角色预设',onClick:t[1]||(t[1]=e=>i('openPreset'))},[...t[4]||(t[4]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-bookmark'},null,-1),(0,s.createElementVNode)('span',{class:'button-text'},'预设管理',-1)])])])]))}}),Re=(0,i.A)(Me,[['__scopeId','data-v-25795810']]),ze={class:'navigation'},je=['disabled'],Ge=['disabled','title'],Ke={class:'text'},He=(0,s.defineComponent)({__name:'NavigationButtons',props:{canGoPrevious:{type:Boolean},isNextDisabled:{type:Boolean},nextButtonText:{},nextDisabledTitle:{}},emits:['previous','next'],setup(e,{emit:t}){const a=t;return(t,l)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',ze,[(0,s.createElementVNode)('button',{class:'nav-button prev-button',disabled:!e.canGoPrevious,onClick:l[0]||(l[0]=e=>a('previous'))},[...l[2]||(l[2]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-chevron-left'},null,-1),(0,s.createElementVNode)('span',{class:'text'},'上一步',-1)])],8,je),(0,s.createElementVNode)('button',{class:'nav-button next-button',disabled:e.isNextDisabled,title:e.isNextDisabled?e.nextDisabledTitle:void 0,onClick:l[1]||(l[1]=e=>a('next'))},[(0,s.createElementVNode)('span',Ke,(0,s.toDisplayString)(e.nextButtonText),1),l[3]||(l[3]=(0,s.createElementVNode)('i',{class:'fa-solid fa-chevron-right'},null,-1))],8,Ge)]))}}),Qe=(0,i.A)(He,[['__scopeId','data-v-de8f52dc']]),We={class:'confirm-dialog'},Je={class:'confirm-actions'},Xe=(0,s.defineComponent)({__name:'SavePresetConfirm',props:{visible:{type:Boolean}},emits:['save','skip','cancel'],setup(e,{emit:t}){const a=t;return(t,l)=>((0,s.openBlock)(),(0,s.createBlock)(s.Teleport,{to:'body'},[e.visible?((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:0,class:'confirm-overlay',onClick:l[3]||(l[3]=(0,s.withModifiers)(e=>a('cancel'),['self']))},[(0,s.createElementVNode)('div',We,[l[7]||(l[7]=(0,s.createElementVNode)('div',{class:'confirm-header'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-bookmark'}),(0,s.createElementVNode)('h3',null,'保存预设')],-1)),l[8]||(l[8]=(0,s.createElementVNode)('div',{class:'confirm-body'},[(0,s.createElementVNode)('p',null,'是否在踏上旅程前保存当前配置为预设？'),(0,s.createElementVNode)('p',{class:'confirm-hint'},'保存后下次可以快速加载相同配置')],-1)),(0,s.createElementVNode)('div',Je,[(0,s.createElementVNode)('button',{class:'confirm-button save',onClick:l[0]||(l[0]=e=>a('save'))},[...l[4]||(l[4]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-floppy-disk'},null,-1),(0,s.createTextVNode)(' 保存预设 ',-1)])]),(0,s.createElementVNode)('button',{class:'confirm-button skip',onClick:l[1]||(l[1]=e=>a('skip'))},[...l[5]||(l[5]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-forward'},null,-1),(0,s.createTextVNode)(' 不保存 ',-1)])]),(0,s.createElementVNode)('button',{class:'confirm-button cancel',onClick:l[2]||(l[2]=e=>a('cancel'))},[...l[6]||(l[6]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark'},null,-1),(0,s.createTextVNode)(' 取消 ',-1)])])])])])):(0,s.createCommentVNode)('v-if',!0)]))}}),Ye=(0,i.A)(Xe,[['__scopeId','data-v-45c171a6']]),Ze={class:'steps'},et={class:'title'},tt=(0,s.defineComponent)({__name:'Steps',props:{steps:{default:()=>[]},step:{default:1}},setup(e,{expose:t}){const a=e;return t({steps:a.steps,step:a.step}),(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Ze,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.steps,(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:a,class:(0,s.normalizeClass)(['step',{pass:e.step>=a+1}])},[(0,s.createElementVNode)('div',et,(0,s.toDisplayString)(t.title),1)],2))),128))]))}}),at=(0,i.A)(tt,[['__scopeId','data-v-4595f292']]),lt={class:'layout'},ot=(0,s.defineComponent)({__name:'index',setup(e){const t=x(),{currentStep:a,canGoPrevious:l,isLastStep:o,transitionName:n,goToPrevious:c,goToFirst:r,goToStep:i}=function(){const e=(0,u.useRouter)(),t=(0,u.useRoute)(),a=(0,s.ref)('slide-left'),l=(0,s.computed)(()=>{const e=t.meta?.step;if(e)return e;const a=t.name;return _e[a]||1}),o=(0,s.computed)(()=>l.value>1),n=(0,s.computed)(()=>l.value===Fe),c=t=>{if(t>=1&&t<=Fe){const a=we[t];a&&e.push({name:a})}};return(0,s.watch)(()=>t.name,(e,t)=>{const l=_e[e]||1,o=_e[t]||1;a.value=l>o?'slide-left':'slide-right'}),{currentStep:l,totalSteps:Fe,stepConfigs:ge,canGoPrevious:o,isLastStep:n,transitionName:a,goToPrevious:()=>{const e=l.value-1;e>=1&&c(e)},goToNext:()=>{const e=l.value+1;e<=Fe&&c(e)},goToStep:c,goToFirst:()=>{e.push({name:he})}}}(),{showModal:d,modalMode:m,openManageModal:p,closeModal:v,checkAndShowLoadModal:V}=Ne(),f=(0,s.ref)(!1),{executeJourney:k}=fe(),{availablePoints:y}=ye(),N=(0,s.ref)(!1),E=ge.map(e=>({title:e.shortTitle}));(0,s.onMounted)(()=>{setTimeout(()=>{V()},300)});const g=()=>{r()},b=()=>{f.value&&(f.value=!1,v(),k())},h=async()=>{if(o.value){const e=O(t);return void(e?(toastr.info(`当前配置与预设「${e}」相同，直接开始旅程`),k()):(N.value=!0,A()))}i(a.value+1)},B=()=>{N.value=!1,f.value=!0,p()},C=()=>{N.value=!1,k()},D=()=>{N.value=!1},S=()=>{f.value=!1,p()},w=(0,s.computed)(()=>!!o.value&&y.value<0),F=(0,s.computed)(()=>o.value?'踏上旅程':'下一步');return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',lt,[t[0]||(t[0]=(0,s.createElementVNode)('h1',{class:'main-title'},'命定之诗与黄昏之歌',-1)),(0,s.createVNode)(Re,{onOpenPreset:S}),(0,s.createVNode)(at,{steps:(0,s.unref)(E),step:(0,s.unref)(a)},null,8,['steps','step']),(0,s.createVNode)($e,{'transition-name':(0,s.unref)(n)},null,8,['transition-name']),(0,s.createVNode)(Qe,{'can-go-previous':(0,s.unref)(l),'is-next-disabled':(0,s.unref)(w),'next-button-text':(0,s.unref)(F),'next-disabled-title':'可用转生点数不能为负',onPrevious:(0,s.unref)(c),onNext:h},null,8,['can-go-previous','is-next-disabled','next-button-text','onPrevious']),(0,s.createVNode)(ue,{visible:(0,s.unref)(d),mode:(0,s.unref)(m),onClose:(0,s.unref)(v),onLoaded:g,onSaved:b},null,8,['visible','mode','onClose']),(0,s.createVNode)(Ye,{visible:(0,s.unref)(N),onSave:B,onSkip:C,onCancel:D},null,8,['visible'])]))}}),nt=(0,i.A)(ot,[['__scopeId','data-v-3ba0e588']]),ct={class:'category-sidebar'},st={class:'category-list'},rt=['disabled','onClick'],it={class:'content-area'},dt={key:0,class:'filter-area'},mt={class:'content-main'},ut=(0,s.defineComponent)({__name:'CategorySelectionLayout',props:{categories:{},modelValue:{},categoryNameFormatter:{type:Function,default:e=>e},disabledCategories:{default:()=>[]},contentMaxHeight:{default:'500px'},sidebarWidth:{default:'200px'}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=e=>a.disabledCategories.includes(e);return(t,n)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:'category-selection-layout',style:(0,s.normalizeStyle)({'--sidebar-width':e.sidebarWidth,'--content-max-height':e.contentMaxHeight})},[(0,s.createCommentVNode)(' 左侧：分类导航 '),(0,s.createElementVNode)('nav',ct,[(0,s.createElementVNode)('div',st,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.categories,t=>((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:t,class:(0,s.normalizeClass)(['category-item',{active:e.modelValue===t,disabled:o(t)}]),disabled:o(t),onClick:e=>(e=>{a.disabledCategories.includes(e)||l('update:modelValue',e)})(t)},(0,s.toDisplayString)(e.categoryNameFormatter(t)),11,rt))),128)),(0,s.createCommentVNode)(' 分类项插槽，用于在分类后插入额外内容（如二级分类） '),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.categories,a=>((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:`slot-${a}`},[e.modelValue===a?(0,s.renderSlot)(t.$slots,'sub-category',{key:0,category:a}):(0,s.createCommentVNode)('v-if',!0)],64))),128))])]),(0,s.createCommentVNode)(' 右侧：内容区域 '),(0,s.createElementVNode)('div',it,[(0,s.createCommentVNode)(' 顶部筛选区域插槽 '),t.$slots.filter?((0,s.openBlock)(),(0,s.createElementBlock)('div',dt,[(0,s.renderSlot)(t.$slots,'filter')])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 主内容插槽 '),(0,s.createElementVNode)('div',mt,[(0,s.renderSlot)(t.$slots,'content')])])],4))}}),pt=(0,i.A)(ut,[['__scopeId','data-v-0b4afefe']]),vt={通用开局:[{name:'【自定义开局】',description:'自由发挥你的想象力，编写你自己的人物初始背景。'}]};let Vt=null;function ft(){return Vt||vt}!async function(){const e=await async function(){return p('backgrounds.json','初始剧情')}();Vt=v(vt,e)}();const kt={};let yt=null;function Nt(){return yt||kt}!async function(){const e=await async function(){return p('destinedOnes.json','命定之人')}();yt=v(kt,e)}();const Et={class:'form-textarea-wrapper'},gt=['rows','placeholder','disabled','readonly','maxlength'],bt=(0,s.defineComponent)({__name:'FormTextarea',props:{modelValue:{},rows:{default:3},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxlength:{},autoResize:{type:Boolean,default:!1}},emits:['update:modelValue','focus','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.ref)(),n=(0,s.computed)({get:()=>a.modelValue,set:e=>l('update:modelValue',e)}),c=e=>{l('focus',e)},r=e=>{l('blur',e)},i=()=>{a.autoResize&&o.value&&(0,s.nextTick)(()=>{o.value&&(o.value.style.height='auto',o.value.style.height=`${o.value.scrollHeight}px`)})};return(0,s.watch)(()=>a.modelValue,i),(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Et,[(0,s.withDirectives)((0,s.createElementVNode)('textarea',{ref_key:'textareaRef',ref:o,'onUpdate:modelValue':a[0]||(a[0]=e=>n.value=e),rows:e.rows,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,maxlength:e.maxlength,class:(0,s.normalizeClass)(['form-textarea',{'is-disabled':e.disabled,'is-readonly':e.readonly,'auto-resize':e.autoResize}]),onFocus:c,onBlur:r,onInput:i},null,42,gt),[[s.vModelText,n.value]])]))}}),ht=(0,i.A)(bt,[['__scopeId','data-v-517d0cac']]),Bt={class:'requirement-item'},Ct={class:'requirement-label'},Dt=(0,s.defineComponent)({__name:'RequirementBadge',props:{label:{},requiredValue:{},currentValue:{}},setup(e){const t=e,a=(0,s.computed)(()=>t.currentValue===t.requiredValue);return(t,l)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Bt,[(0,s.createElementVNode)('span',Ct,(0,s.toDisplayString)(e.label)+'：',1),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['requirement-value',{'requirement-met':a.value,'requirement-unmet':!a.value}])},(0,s.toDisplayString)(e.requiredValue),3)]))}}),xt=(0,i.A)(Dt,[['__scopeId','data-v-63cb74fc']]),St={class:'background-list'},wt={key:0,class:'empty-message'},_t=['onClick'],Ft={class:'card-header'},It={class:'background-name'},qt=['onClick'],Pt={key:0,class:'requirements'},$t={class:'background-summary'},Lt={key:1,class:'requirement-warning'},Tt=(0,s.defineComponent)({__name:'BackgroundList',props:{items:{},selectedItem:{},characterRace:{},characterLocation:{},characterIdentity:{}},emits:['select','update:customDescription'],setup(e,{emit:t}){const a=e,l=t,o=pe(),n=(0,s.ref)(new Set),c=e=>n.value.has(e),r=e=>a.selectedItem?.name===e.name,i=(e,t)=>!e||e===t,d=e=>{const t=[{type:'race',required:e.requiredRace,current:a.characterRace},{type:'location',required:e.requiredLocation,current:a.characterLocation},{type:'identity',required:e.requiredIdentity,current:a.characterIdentity}];for(const e of t)switch(e.type){case'race':case'location':case'identity':if(!i(e.required,e.current))return!1}return!0},m=(0,s.computed)({get:()=>o.customBackgroundDescription,set:e=>o.updateCustomBackgroundDescription(e)}),u=e=>{o.updateCustomBackgroundDescription(e),l('update:customDescription',e)},p=e=>'【自定义开局】'===e.name,v=(0,s.ref)([]),V=(0,s.ref)('');return(0,s.watch)(()=>a.items,async e=>{const t=e.map(e=>e.name).join('|');t===V.value&&v.value.length>0||(V.value=t,v.value=await Promise.all(e.map(ke)))},{immediate:!0}),(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',St,[0===v.value.length?((0,s.openBlock)(),(0,s.createElementBlock)('div',wt,'该分类暂无初始剧情')):(0,s.createCommentVNode)('v-if',!0),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(v.value,t=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t.name,class:(0,s.normalizeClass)(['background-card',{selected:r(t),disabled:!d(t),expanded:c(t.name)}]),onClick:e=>(e=>{d(e)&&l('select',e)})(t)},[(0,s.createElementVNode)('div',Ft,[(0,s.createElementVNode)('h3',It,(0,s.toDisplayString)(t.name),1),t.description.length>100?((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:0,class:'expand-btn',onClick:e=>{return a=t.name,e.stopPropagation(),void(n.value.has(a)?n.value.delete(a):n.value.add(a));var a}},(0,s.toDisplayString)(c(t.name)?'收起':'展开'),9,qt)):(0,s.createCommentVNode)('v-if',!0)]),(0,s.createCommentVNode)(' 限制要求 '),t.requiredRace||t.requiredLocation||t.requiredIdentity?((0,s.openBlock)(),(0,s.createElementBlock)('div',Pt,[t.requiredRace?((0,s.openBlock)(),(0,s.createBlock)(xt,{key:0,label:'种族要求','required-value':t.requiredRace,'current-value':e.characterRace},null,8,['required-value','current-value'])):(0,s.createCommentVNode)('v-if',!0),t.requiredLocation?((0,s.openBlock)(),(0,s.createBlock)(xt,{key:1,label:'地区要求','required-value':t.requiredLocation,'current-value':e.characterLocation},null,8,['required-value','current-value'])):(0,s.createCommentVNode)('v-if',!0),t.requiredIdentity?((0,s.openBlock)(),(0,s.createBlock)(xt,{key:2,label:'身份要求','required-value':t.requiredIdentity,'current-value':e.characterIdentity},null,8,['required-value','current-value'])):(0,s.createCommentVNode)('v-if',!0)])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 描述内容（过长时可折叠） '),(0,s.createElementVNode)('p',$t,[c(t.name)||t.description.length<=100?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[(0,s.createTextVNode)((0,s.toDisplayString)(t.description),1)],64)):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createTextVNode)((0,s.toDisplayString)(t.description.substring(0,100))+'... ',1)],64))]),(0,s.createCommentVNode)(' 不满足要求时显示提示 '),d(t)?(0,s.createCommentVNode)('v-if',!0):((0,s.openBlock)(),(0,s.createElementBlock)('div',Lt,' ⚠️ 不满足该剧情的限定条件 ')),(0,s.createCommentVNode)(' 自定义开局输入框 '),(0,s.withDirectives)((0,s.createElementVNode)('div',{class:'custom-input-area',onClick:a[0]||(a[0]=(0,s.withModifiers)(()=>{},['stop']))},[a[1]||(a[1]=(0,s.createElementVNode)('div',{class:'custom-input-label'},'请编写您的自定义开局剧情：',-1)),(0,s.createVNode)(ht,{'model-value':m.value,rows:6,placeholder:'在这里发挥您的想象力，编写您自己的人物初始剧情...\n\n例如：您可以描述角色的出身、经历的事件、当前的处境等等。','onUpdate:modelValue':u},null,8,['model-value'])],512),[[s.vShow,p(t)&&r(t)]])],10,_t))),128))]))}}),Ot=(0,i.A)(Tt,[['__scopeId','data-v-36777a4c']]),At={class:'confirm-header'},Ut={class:'confirm-title'},Mt={class:'confirm-content'},Rt={class:'confirm-message'},zt={class:'confirm-actions'},jt=(0,s.defineComponent)({__name:'ConfirmModal',props:{visible:{type:Boolean},title:{default:'确认操作'},message:{},confirmText:{default:'确认'},cancelText:{default:'取消'},type:{default:'warning'}},emits:['confirm','cancel'],setup(e,{emit:t}){const a=e,l=t;(0,s.watch)(()=>a.visible,e=>{e&&A()});const o=(0,s.computed)(()=>{switch(a.type){case'danger':return'fa-solid fa-triangle-exclamation';case'info':return'fa-solid fa-circle-info';default:return'fa-solid fa-circle-question'}}),n=()=>{l('confirm')},c=()=>{l('cancel')};return(t,a)=>((0,s.openBlock)(),(0,s.createBlock)(s.Teleport,{to:'body'},[e.visible?((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:0,class:'confirm-overlay',onClick:(0,s.withModifiers)(c,['self'])},[(0,s.createElementVNode)('div',{class:(0,s.normalizeClass)(['confirm-container',`type-${e.type}`])},[(0,s.createCommentVNode)(' 标题栏 '),(0,s.createElementVNode)('div',At,[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(['confirm-icon',o.value])},null,2),(0,s.createElementVNode)('h3',Ut,(0,s.toDisplayString)(e.title),1)]),(0,s.createCommentVNode)(' 内容区域 '),(0,s.createElementVNode)('div',Mt,[(0,s.createElementVNode)('p',Rt,(0,s.toDisplayString)(e.message),1)]),(0,s.createCommentVNode)(' 按钮区域 '),(0,s.createElementVNode)('div',zt,[(0,s.createElementVNode)('button',{class:'btn-cancel',onClick:c},[a[0]||(a[0]=(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.cancelText),1)]),(0,s.createElementVNode)('button',{class:(0,s.normalizeClass)(['btn-confirm',`btn-${e.type}`]),onClick:n},[a[1]||(a[1]=(0,s.createElementVNode)('i',{class:'fa-solid fa-check'},null,-1)),(0,s.createTextVNode)(' '+(0,s.toDisplayString)(e.confirmText),1)],2)])],2)])):(0,s.createCommentVNode)('v-if',!0)]))}}),Gt=(0,i.A)(jt,[['__scopeId','data-v-62de9d7e']]),Kt={key:0,class:'array-items'},Ht={class:'item-index'},Qt=['value','placeholder','onInput'],Wt=['onDblclick'],Jt={class:'item-actions'},Xt=['disabled','onClick'],Yt=['disabled','onClick'],Zt=['disabled','onClick'],ea=['disabled','onClick'],ta={class:'empty-state'},aa={class:'empty-text'},la={key:2,class:'add-item-section'},oa=['placeholder','disabled'],na=['disabled'],ca={class:'add-text'},sa={class:'count-info'},ra={class:'count-current'},ia={class:'count-max'},da=(0,s.defineComponent)({__name:'FormArrayInput',props:{modelValue:{},placeholder:{default:'请输入内容'},maxItems:{default:10},minItems:{default:0},disabled:{type:Boolean,default:!1},addButtonText:{default:'添加项目'},emptyText:{default:'暂无项目，点击下方按钮添加'}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.ref)(''),n=(0,s.ref)(null),c=(0,s.computed)(()=>!a.disabled&&a.modelValue.length<a.maxItems),r=(0,s.computed)(()=>!a.disabled&&a.modelValue.length>a.minItems),i=()=>{if(!c.value)return;const e=o.value.trim();e&&!a.modelValue.includes(e)&&(l('update:modelValue',[...a.modelValue,e]),o.value='')},d=e=>{a.disabled||(n.value=e)},m=()=>{n.value=null},u=(e,t)=>{if(a.disabled)return;const o='up'===t?e-1:e+1;if(o<0||o>=a.modelValue.length)return;const n=[...a.modelValue];[n[e],n[o]]=[n[o],n[e]],l('update:modelValue',n)},p=e=>{'Enter'===e.key&&(e.preventDefault(),i())};return(t,v)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['form-array-input',{'is-disabled':e.disabled}])},[(0,s.createCommentVNode)(' 已有项目列表 '),e.modelValue.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Kt,[(0,s.createVNode)(s.TransitionGroup,{name:'list'},{default:(0,s.withCtx)(()=>[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.modelValue,(t,o)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:`item-${o}-${t}`,class:'array-item'},[(0,s.createCommentVNode)(' 序号标识 '),(0,s.createElementVNode)('span',Ht,(0,s.toDisplayString)(o+1),1),(0,s.createCommentVNode)(' 编辑模式 '),n.value===o?((0,s.openBlock)(),(0,s.createElementBlock)('input',{key:0,value:t,class:'item-input editing',placeholder:e.placeholder,onInput:e=>((e,t)=>{const o=[...a.modelValue];o[e]=t,l('update:modelValue',o)})(o,e.target.value),onBlur:m,onKeydown:(0,s.withKeys)(m,['enter'])},null,40,Qt)):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createCommentVNode)(' 显示模式 '),(0,s.createElementVNode)('span',{class:'item-text',onDblclick:e=>d(o)},(0,s.toDisplayString)(t),41,Wt)],2112)),(0,s.createCommentVNode)(' 操作按钮组 '),(0,s.createElementVNode)('div',Jt,[(0,s.createElementVNode)('button',{type:'button',class:'action-btn edit-btn',title:'编辑',disabled:e.disabled,onClick:e=>d(o)},[...v[1]||(v[1]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-pen'},null,-1)])],8,Xt),(0,s.createElementVNode)('button',{type:'button',class:'action-btn move-btn',title:'上移',disabled:e.disabled||0===o,onClick:e=>u(o,'up')},[...v[2]||(v[2]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-arrow-up'},null,-1)])],8,Yt),(0,s.createElementVNode)('button',{type:'button',class:'action-btn move-btn',title:'下移',disabled:e.disabled||o===e.modelValue.length-1,onClick:e=>u(o,'down')},[...v[3]||(v[3]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-arrow-down'},null,-1)])],8,Zt),(0,s.createElementVNode)('button',{type:'button',class:'action-btn remove-btn',title:'删除',disabled:!r.value,onClick:e=>(e=>{if(!r.value)return;const t=[...a.modelValue];t.splice(e,1),l('update:modelValue',t)})(o)},[...v[4]||(v[4]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark'},null,-1)])],8,ea)])]))),128))]),_:1})])):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createCommentVNode)(' 空状态 '),(0,s.createElementVNode)('div',ta,[v[5]||(v[5]=(0,s.createElementVNode)('span',{class:'empty-icon'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-clipboard-list'})],-1)),(0,s.createElementVNode)('span',aa,(0,s.toDisplayString)(e.emptyText),1)])],2112)),(0,s.createCommentVNode)(' 添加新项 '),c.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',la,[(0,s.withDirectives)((0,s.createElementVNode)('input',{'onUpdate:modelValue':v[0]||(v[0]=e=>o.value=e),type:'text',class:'add-input',placeholder:e.placeholder,disabled:e.disabled,onKeydown:p},null,40,oa),[[s.vModelText,o.value]]),(0,s.createElementVNode)('button',{type:'button',class:'add-btn',disabled:e.disabled||!o.value.trim(),onClick:i},[v[6]||(v[6]=(0,s.createElementVNode)('span',{class:'add-icon'},'+',-1)),(0,s.createElementVNode)('span',ca,(0,s.toDisplayString)(e.addButtonText),1)],8,na)])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 数量提示 '),(0,s.createElementVNode)('div',sa,[(0,s.createElementVNode)('span',ra,(0,s.toDisplayString)(e.modelValue.length),1),v[7]||(v[7]=(0,s.createElementVNode)('span',{class:'count-separator'},'/',-1)),(0,s.createElementVNode)('span',ia,(0,s.toDisplayString)(e.maxItems),1),v[8]||(v[8]=(0,s.createElementVNode)('span',{class:'count-label'},'项',-1))])],2))}}),ma=(0,i.A)(da,[['__scopeId','data-v-0a1882c2']]),ua={class:'form-input-wrapper'},pa=['type','placeholder','disabled','readonly','maxlength'],va=(0,s.defineComponent)({__name:'FormInput',props:{modelValue:{},type:{default:'text'},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxlength:{}},emits:['update:modelValue','focus','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.computed)({get:()=>a.modelValue,set:e=>l('update:modelValue',e)}),n=e=>{l('focus',e)},c=e=>{l('blur',e)};return(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',ua,[(0,s.withDirectives)((0,s.createElementVNode)('input',{'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),type:e.type,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,maxlength:e.maxlength,class:(0,s.normalizeClass)(['form-input',{'is-disabled':e.disabled,'is-readonly':e.readonly}]),onFocus:n,onBlur:c},null,42,pa),[[s.vModelDynamic,o.value]])]))}}),Va=(0,i.A)(va,[['__scopeId','data-v-68bda4ea']]),fa={key:0,class:'kv-list'},ka={class:'row-index'},ya={class:'row-inputs'},Na=['placeholder'],Ea=['placeholder'],ga={class:'row-text'},ba={class:'kv-key'},ha={class:'kv-value'},Ba={class:'row-actions'},Ca=['disabled','onClick'],Da=['disabled','onClick'],xa={key:1,class:'empty-state'},Sa={class:'empty-text'},wa={key:2,class:'add-row'},_a=['placeholder','disabled'],Fa=['placeholder','disabled'],Ia=['disabled'],qa={class:'count-info'},Pa={class:'count-current'},$a={class:'count-max'},La=(0,s.defineComponent)({__name:'FormKeyValueInput',props:{modelValue:{},placeholderKey:{default:'请输入字段名'},placeholderValue:{default:'请输入对应内容'},maxItems:{default:20},minItems:{default:0},disabled:{type:Boolean,default:!1},addButtonText:{default:'添加条目'},emptyText:{default:'暂无条目，点击下方按钮添加'}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.ref)([]),n=(0,s.ref)(''),c=(0,s.ref)(''),r=(0,s.ref)(null),i=(0,s.ref)(null),d=(0,s.computed)(()=>!a.disabled&&o.value.length<a.maxItems),m=(0,s.computed)(()=>!a.disabled&&o.value.length>a.minItems),u=e=>{const t={};e.forEach(e=>{e.key.trim()&&(t[e.key.trim()]=e.value?.trim()??'')}),l('update:modelValue',t)};(0,s.watch)(()=>a.modelValue,e=>{o.value=Object.entries(e||{}).map(([e,t])=>({key:e,value:t??''}))},{immediate:!0,deep:!0});const p=()=>{if(!d.value)return;const e=n.value.trim();if(!e)return;const t=c.value.trim(),a=o.value.findIndex(t=>t.key===e);if(a>=0){const l=[...o.value];l[a]={key:e,value:t},o.value=l,u(l)}else{const a=[...o.value,{key:e,value:t}];o.value=a,u(a)}n.value='',c.value=''},v=()=>{r.value=null,i.value=null},V=()=>{if(null===r.value||!i.value)return;const e=i.value.key.trim(),t=i.value.value.trim();if(!e)return;if(o.value.some((t,a)=>a!==r.value&&t.key===e))return;const a=[...o.value];a[r.value]={key:e,value:t},o.value=a,u(a),v()},f=e=>{'Enter'===e.key&&(e.preventDefault(),p())};return(t,l)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['form-key-value',{'is-disabled':e.disabled}])},[o.value.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',fa,[(0,s.createVNode)(s.TransitionGroup,{name:'kv-list'},{default:(0,s.withCtx)(()=>[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o.value,(t,n)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:`kv-${n}-${t.key}`,class:'kv-row'},[(0,s.createElementVNode)('span',ka,(0,s.toDisplayString)(n+1),1),r.value===n&&i.value?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[(0,s.createElementVNode)('div',ya,[(0,s.withDirectives)((0,s.createElementVNode)('input',{'onUpdate:modelValue':l[0]||(l[0]=e=>i.value.key=e),class:'kv-input',placeholder:e.placeholderKey,onKeydown:(0,s.withKeys)(V,['enter'])},null,40,Na),[[s.vModelText,i.value.key]]),(0,s.withDirectives)((0,s.createElementVNode)('input',{'onUpdate:modelValue':l[1]||(l[1]=e=>i.value.value=e),class:'kv-input',placeholder:e.placeholderValue,onKeydown:(0,s.withKeys)(V,['enter'])},null,40,Ea),[[s.vModelText,i.value.value]])]),(0,s.createElementVNode)('div',{class:'row-actions'},[(0,s.createElementVNode)('button',{type:'button',class:'action-btn',onClick:V},'保存'),(0,s.createElementVNode)('button',{type:'button',class:'action-btn subtle',onClick:v},'取消')])],64)):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createElementVNode)('div',ga,[(0,s.createElementVNode)('span',ba,(0,s.toDisplayString)(t.key),1),l[4]||(l[4]=(0,s.createElementVNode)('span',{class:'kv-separator'},':',-1)),(0,s.createElementVNode)('span',ha,(0,s.toDisplayString)(t.value),1)]),(0,s.createElementVNode)('div',Ba,[(0,s.createElementVNode)('button',{type:'button',class:'action-btn',disabled:e.disabled,onClick:e=>(e=>{a.disabled||(r.value=e,i.value={...o.value[e]})})(n)},' 编辑 ',8,Ca),(0,s.createElementVNode)('button',{type:'button',class:'action-btn danger',disabled:!m.value,onClick:e=>(e=>{if(!m.value)return;const t=[...o.value];t.splice(e,1),o.value=t,u(t)})(n)},' 删除 ',8,Da)])],64))]))),128))]),_:1})])):((0,s.openBlock)(),(0,s.createElementBlock)('div',xa,[(0,s.createElementVNode)('span',Sa,(0,s.toDisplayString)(e.emptyText),1)])),d.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',wa,[(0,s.withDirectives)((0,s.createElementVNode)('input',{'onUpdate:modelValue':l[2]||(l[2]=e=>n.value=e),class:'kv-input',placeholder:e.placeholderKey,disabled:e.disabled,onKeydown:f},null,40,_a),[[s.vModelText,n.value]]),(0,s.withDirectives)((0,s.createElementVNode)('input',{'onUpdate:modelValue':l[3]||(l[3]=e=>c.value=e),class:'kv-input',placeholder:e.placeholderValue,disabled:e.disabled,onKeydown:f},null,40,Fa),[[s.vModelText,c.value]]),(0,s.createElementVNode)('button',{type:'button',class:'add-btn',disabled:e.disabled||!n.value.trim(),onClick:p},(0,s.toDisplayString)(e.addButtonText),9,Ia)])):(0,s.createCommentVNode)('v-if',!0),(0,s.createElementVNode)('div',qa,[(0,s.createElementVNode)('span',Pa,(0,s.toDisplayString)(o.value.length),1),l[5]||(l[5]=(0,s.createElementVNode)('span',{class:'count-separator'},'/',-1)),(0,s.createElementVNode)('span',$a,(0,s.toDisplayString)(e.maxItems),1),l[6]||(l[6]=(0,s.createElementVNode)('span',{class:'count-label'},'项',-1))])],2))}}),Ta=(0,i.A)(La,[['__scopeId','data-v-a1444030']]),Oa=['for'],Aa={key:0,class:'required-mark'},Ua=(0,s.defineComponent)({__name:'FormLabel',props:{label:{},required:{type:Boolean,default:!1},htmlFor:{}},setup:e=>(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('label',{for:e.htmlFor,class:(0,s.normalizeClass)(['form-label',{'is-required':e.required}])},[(0,s.renderSlot)(t.$slots,'icon'),(0,s.createElementVNode)('span',null,(0,s.toDisplayString)(e.label),1),e.required?((0,s.openBlock)(),(0,s.createElementBlock)('span',Aa,'*')):(0,s.createCommentVNode)('v-if',!0)],10,Oa))}),Ma=(0,i.A)(Ua,[['__scopeId','data-v-11a19624']]),Ra={class:'form-number-wrapper'},za=['min','max','step','placeholder','disabled','readonly'],ja={key:0,class:'number-controls'},Ga=['disabled'],Ka=['disabled'],Ha=(0,s.defineComponent)({__name:'FormNumber',props:{modelValue:{},min:{default:1},max:{default:1e4},step:{default:1},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},showControls:{type:Boolean,default:!0}},emits:['update:modelValue','change','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.ref)(),n=(0,s.computed)({get:()=>a.modelValue,set:e=>{const t=Number(e);if(!isNaN(t)){const e=Math.max(a.min,Math.min(a.max,t));l('update:modelValue',e),l('change',e)}}}),c=()=>{if(!a.disabled&&!a.readonly){const e=Math.min(a.max,a.modelValue+a.step);l('update:modelValue',e),l('change',e)}},r=()=>{if(!a.disabled&&!a.readonly){const e=Math.max(a.min,a.modelValue-a.step);l('update:modelValue',e),l('change',e)}},i=e=>{let t;t=isNaN(a.modelValue)||null===a.modelValue?a.min:Math.max(a.min,Math.min(a.max,a.modelValue)),t!==a.modelValue&&(l('update:modelValue',t),l('change',t)),o.value&&(o.value.value=String(t)),l('blur',e)};return(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Ra,[(0,s.withDirectives)((0,s.createElementVNode)('input',{ref_key:'inputRef',ref:o,'onUpdate:modelValue':a[0]||(a[0]=e=>n.value=e),type:'number',min:e.min,max:e.max,step:e.step,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,class:(0,s.normalizeClass)(['form-number',{'is-disabled':e.disabled,'is-readonly':e.readonly,'has-controls':e.showControls}]),onBlur:i},null,42,za),[[s.vModelText,n.value,void 0,{number:!0}]]),e.showControls?((0,s.openBlock)(),(0,s.createElementBlock)('div',ja,[(0,s.createElementVNode)('button',{type:'button',class:'control-btn up',disabled:e.disabled||e.readonly||e.modelValue>=e.max,onClick:c},' ▲ ',8,Ga),(0,s.createElementVNode)('button',{type:'button',class:'control-btn down',disabled:e.disabled||e.readonly||e.modelValue<=e.min,onClick:r},' ▼ ',8,Ka)])):(0,s.createCommentVNode)('v-if',!0)]))}}),Qa=(0,i.A)(Ha,[['__scopeId','data-v-48d2dd58']]),Wa=['value','disabled'],Ja={class:'radio-label'},Xa=(0,s.defineComponent)({__name:'FormRadio',props:{modelValue:{type:[String,Number,Boolean]},options:{},disabled:{type:Boolean,default:!1},layout:{default:'vertical'}},emits:['update:modelValue','change'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.computed)({get:()=>a.modelValue,set:e=>{l('update:modelValue',e),l('change',e)}}),n=(0,s.computed)(()=>a.options.map(e=>'string'==typeof e?{label:e,value:e,disabled:!1}:e));return(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['form-radio-group',[`layout-${e.layout}`]])},[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.value,(t,l)=>((0,s.openBlock)(),(0,s.createElementBlock)('label',{key:l,class:(0,s.normalizeClass)(['radio-option',{'is-checked':o.value===t.value,'is-disabled':e.disabled||t.disabled}])},[(0,s.withDirectives)((0,s.createElementVNode)('input',{'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),type:'radio',value:t.value,disabled:e.disabled||t.disabled,class:'radio-input'},null,8,Wa),[[s.vModelRadio,o.value]]),a[1]||(a[1]=(0,s.createElementVNode)('span',{class:'radio-indicator'},null,-1)),(0,s.createElementVNode)('span',Ja,(0,s.toDisplayString)(t.label),1)],2))),128))],2))}}),Ya=(0,i.A)(Xa,[['__scopeId','data-v-588d959c']]),Za={class:'form-select-wrapper'},el=['disabled'],tl={key:0,value:'',disabled:''},al=['value','disabled'],ll=(0,s.defineComponent)({__name:'FormSelect',props:{modelValue:{},options:{},placeholder:{default:'请选择'},disabled:{type:Boolean,default:!1}},emits:['update:modelValue','change'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.computed)({get:()=>a.modelValue,set:e=>{l('update:modelValue',e),l('change',e)}}),n=(0,s.computed)(()=>a.options.map(e=>'string'==typeof e?{label:e,value:e,disabled:!1}:e));return(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Za,[(0,s.withDirectives)((0,s.createElementVNode)('select',{'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),disabled:e.disabled,class:(0,s.normalizeClass)(['form-select',{'is-disabled':e.disabled}])},[e.placeholder?((0,s.openBlock)(),(0,s.createElementBlock)('option',tl,(0,s.toDisplayString)(e.placeholder),1)):(0,s.createCommentVNode)('v-if',!0),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(n.value,e=>((0,s.openBlock)(),(0,s.createElementBlock)('option',{key:e.value,value:e.value,disabled:e.disabled},(0,s.toDisplayString)(e.label),9,al))),128))],10,el),[[s.vModelSelect,o.value]]),a[1]||(a[1]=(0,s.createElementVNode)('span',{class:'select-arrow'},'▼',-1))]))}}),ol=(0,i.A)(ll,[['__scopeId','data-v-39002e0d']]),nl={class:'form-stepper'},cl={key:0,class:'stepper-label'},sl={class:'stepper-controls'},rl=['disabled'],il={class:'stepper-value'},dl=['disabled'],ml=(0,s.defineComponent)({__name:'FormStepper',props:{modelValue:{},min:{default:0},max:{default:100},step:{default:1},disabled:{type:Boolean,default:!1},disableIncrement:{type:Boolean,default:!1},label:{}},emits:['update:modelValue','increment','decrement'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.computed)(()=>!a.disabled&&a.modelValue>a.min),n=(0,s.computed)(()=>!a.disabled&&!a.disableIncrement&&a.modelValue<a.max),c=()=>{if(n.value){const e=Math.min(a.max,a.modelValue+a.step);l('update:modelValue',e),l('increment')}},r=()=>{if(o.value){const e=Math.max(a.min,a.modelValue-a.step);l('update:modelValue',e),l('decrement')}};return(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',nl,[e.label?((0,s.openBlock)(),(0,s.createElementBlock)('span',cl,(0,s.toDisplayString)(e.label),1)):(0,s.createCommentVNode)('v-if',!0),(0,s.createElementVNode)('div',sl,[(0,s.createElementVNode)('button',{type:'button',class:'stepper-btn decrement',disabled:!o.value,onClick:r},' − ',8,rl),(0,s.createElementVNode)('span',il,(0,s.toDisplayString)(e.modelValue),1),(0,s.createElementVNode)('button',{type:'button',class:'stepper-btn increment',disabled:!n.value,onClick:c},' + ',8,dl)])]))}}),ul=(0,i.A)(ml,[['__scopeId','data-v-bf006b3c']]),pl={common:{min:5,max:30},uncommon:{min:20,max:60},rare:{min:35,max:100},epic:{min:80,max:200},legendary:{min:150,max:400},mythic:{min:300,max:1e3},only:{min:666,max:666}};const vl=[100,213,456,2678,4642,8318,9999];const Vl={class:'attribute-grid'},fl={class:'total-points'},kl={class:'total-value'},yl=(0,s.defineComponent)({__name:'AttributeEditor',props:{modelValue:{},min:{default:1},max:{default:100},disabled:{type:Boolean,default:!1}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=[{key:'strength',label:'力量',icon:'fa-solid fa-dumbbell'},{key:'dexterity',label:'敏捷',icon:'fa-solid fa-person-running'},{key:'constitution',label:'体质',icon:'fa-solid fa-heart-pulse'},{key:'intelligence',label:'智力',icon:'fa-solid fa-brain'},{key:'mind',label:'精神',icon:'fa-solid fa-wand-magic-sparkles'}],n=(0,s.computed)(()=>Object.values(a.modelValue).reduce((e,t)=>e+t,0));return(t,c)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['attribute-editor',{'is-disabled':e.disabled}])},[(0,s.createElementVNode)('div',Vl,[((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(o,t=>(0,s.createElementVNode)('div',{key:t.key,class:'attribute-item'},[(0,s.createVNode)((0,s.unref)(Ma),{label:t.label},{icon:(0,s.withCtx)(()=>[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(['label-icon',t.icon]),'aria-hidden':'true'},null,2)]),_:2},1032,['label']),(0,s.createVNode)((0,s.unref)(Qa),{'model-value':e.modelValue[t.key],min:e.min,max:e.max,disabled:e.disabled,'onUpdate:modelValue':e=>{return o=t.key,n=e,void l('update:modelValue',{...a.modelValue,[o]:n});var o,n}},null,8,['model-value','min','max','disabled','onUpdate:modelValue'])])),64))]),(0,s.createElementVNode)('div',fl,[c[0]||(c[0]=(0,s.createElementVNode)('span',{class:'total-label'},'属性总和：',-1)),(0,s.createElementVNode)('span',kl,(0,s.toDisplayString)(n.value),1)])],2))}}),Nl=(0,i.A)(yl,[['__scopeId','data-v-e089f256']]),El=Nl,gl=[{value:'common',label:'普通',color:'#9e9e9e'},{value:'uncommon',label:'优秀',color:'#4caf50'},{value:'rare',label:'稀有',color:'#2196f3'},{value:'epic',label:'史诗',color:'#9c27b0'},{value:'legendary',label:'传说',color:'#ff9800'},{value:'mythic',label:'神话',color:'#e91e63'},{value:'only',label:'唯一',color:'#ff0000'}],bl=[{label:'武器',value:'武器'},{label:'防具',value:'防具'},{label:'饰品',value:'饰品'}],hl=[{label:'主动',value:'主动'},{label:'被动',value:'被动'}],Bl=[{value:'equipment',label:'装备'},{value:'item',label:'道具'},{value:'skill',label:'技能'}],Cl=e=>gl.find(t=>t.value===e)?.label||'普通',Dl=e=>gl.find(t=>t.value===e)?.color||'#9e9e9e',xl={key:0,class:'equipment-list'},Sl={key:0,class:'edit-form'},wl={class:'form-row'},_l={class:'form-row-group'},Fl={class:'form-row half'},Il={class:'form-row half'},ql={class:'form-row'},Pl={class:'form-row'},$l={class:'form-row'},Ll={class:'edit-actions'},Tl=['disabled'],Ol={class:'item-header'},Al={class:'item-type'},Ul={class:'item-name'},Ml={key:0,class:'item-tag'},Rl={key:1,class:'item-effect'},zl={class:'effect-list'},jl={class:'effect-key'},Gl={class:'effect-value'},Kl={key:2,class:'item-description'},Hl={class:'item-actions'},Ql=['disabled','onClick'],Wl=['disabled','onClick'],Jl={key:2,class:'add-form'},Xl={class:'form-row'},Yl={class:'form-row-group'},Zl={class:'form-row half'},eo={class:'form-row half'},to={class:'form-row'},ao={class:'form-row'},lo={class:'form-row'},oo={class:'add-form-actions'},no=['disabled'],co={key:3,class:'add-section'},so=['disabled'],ro={class:'count-info'},io={class:'count-current'},mo={class:'count-max'},uo=(0,s.defineComponent)({__name:'EquipmentEditor',props:{modelValue:{},maxItems:{default:10},disabled:{type:Boolean,default:!1}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=gl.map(e=>({label:e.label,value:e.value})),n=bl.map(e=>({label:e.label,value:e.value})),c=(0,s.ref)(null),r=(0,s.ref)({name:'',type:bl[0].value,tag:[],rarity:'common',effect:{},description:''}),i=(0,s.ref)(null),d=(0,s.ref)(!1),m=(0,s.computed)(()=>!a.disabled&&a.modelValue.length<a.maxItems),u=()=>{r.value={name:'',type:bl[0].value,tag:[],rarity:'common',effect:{},description:''}},p=()=>{if(!m.value||!r.value.name.trim())return;const e={...r.value,name:r.value.name.trim(),tag:r.value.tag.filter(e=>''!==e.trim()),effect:{...r.value.effect},description:r.value.description?.trim()||''};l('update:modelValue',[...a.modelValue,e]),u(),d.value=!1},v=()=>{if(null===c.value||!i.value)return;const e=[...a.modelValue];e[c.value]={...i.value,name:i.value.name.trim(),tag:i.value.tag.filter(e=>''!==e.trim()),effect:{...i.value.effect},description:i.value.description?.trim()||''},l('update:modelValue',e),V()},V=()=>{c.value=null,i.value=null},f=()=>{d.value=!d.value,d.value||u()};return(0,s.watch)(()=>a.disabled,e=>{e&&(V(),d.value=!1)}),(t,u)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['equipment-editor',{'is-disabled':e.disabled}])},[(0,s.createCommentVNode)(' 装备列表 '),e.modelValue.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',xl,[(0,s.createVNode)(s.TransitionGroup,{name:'equip-list'},{default:(0,s.withCtx)(()=>[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.modelValue,(t,r)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:`equip-${r}-${t.name}`,class:(0,s.normalizeClass)(['equipment-item',{editing:c.value===r}])},[(0,s.createCommentVNode)(' 编辑模式 '),c.value===r&&i.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',Sl,[(0,s.createElementVNode)('div',wl,[(0,s.createVNode)((0,s.unref)(Ma),{label:'装备名称'}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:i.value.name,'onUpdate:modelValue':u[0]||(u[0]=e=>i.value.name=e),placeholder:'请输入装备名称'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',_l,[(0,s.createElementVNode)('div',Fl,[(0,s.createVNode)((0,s.unref)(Ma),{label:'类型'}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:i.value.type,'onUpdate:modelValue':u[1]||(u[1]=e=>i.value.type=e),options:(0,s.unref)(n)},null,8,['modelValue','options'])]),(0,s.createElementVNode)('div',Il,[(0,s.createVNode)((0,s.unref)(Ma),{label:'品质'}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:i.value.rarity,'onUpdate:modelValue':u[2]||(u[2]=e=>i.value.rarity=e),options:(0,s.unref)(o)},null,8,['modelValue','options'])])]),(0,s.createElementVNode)('div',ql,[(0,s.createVNode)((0,s.unref)(Ma),{label:'标签'}),(0,s.createVNode)((0,s.unref)(ma),{modelValue:i.value.tag,'onUpdate:modelValue':u[3]||(u[3]=e=>i.value.tag=e),placeholder:'输入标签后按回车添加','add-button-text':'添加标签','empty-text':'暂无标签'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Pl,[(0,s.createVNode)((0,s.unref)(Ma),{label:'效果'}),(0,s.createVNode)((0,s.unref)(Ta),{modelValue:i.value.effect,'onUpdate:modelValue':u[4]||(u[4]=e=>i.value.effect=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',$l,[(0,s.createVNode)((0,s.unref)(Ma),{label:'描述'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:i.value.description,'onUpdate:modelValue':u[5]||(u[5]=e=>i.value.description=e),rows:2,placeholder:'请输入装备描述（可选）'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Ll,[(0,s.createElementVNode)('button',{type:'button',class:'btn-cancel',onClick:V},'取消'),(0,s.createElementVNode)('button',{type:'button',class:'btn-save',disabled:!i.value.name.trim(),onClick:v},' 保存 ',8,Tl)])])):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createCommentVNode)(' 显示模式 '),(0,s.createElementVNode)('div',Ol,[(0,s.createElementVNode)('span',Al,(0,s.toDisplayString)(t.type||'武器'),1),(0,s.createElementVNode)('span',Ul,(0,s.toDisplayString)(t.name),1),(0,s.createElementVNode)('span',{class:'item-rarity',style:(0,s.normalizeStyle)({'--rarity-color':(0,s.unref)(Dl)(t.rarity)})},(0,s.toDisplayString)((0,s.unref)(Cl)(t.rarity)),5)]),t.tag&&t.tag.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Ml,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(t.tag,e=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:e,class:'tag-text'},(0,s.toDisplayString)(e),1))),128))])):(0,s.createCommentVNode)('v-if',!0),Object.keys(t.effect||{}).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Rl,[u[12]||(u[12]=(0,s.createElementVNode)('span',{class:'effect-label'},'效果：',-1)),(0,s.createElementVNode)('div',zl,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(t.effect,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:'effect-row'},[(0,s.createElementVNode)('span',jl,(0,s.toDisplayString)(t)+'：',1),(0,s.createElementVNode)('span',Gl,(0,s.toDisplayString)(e),1)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),t.description?((0,s.openBlock)(),(0,s.createElementBlock)('div',Kl,(0,s.toDisplayString)(t.description),1)):(0,s.createCommentVNode)('v-if',!0),(0,s.createElementVNode)('div',Hl,[(0,s.createElementVNode)('button',{type:'button',class:'action-btn edit',title:'编辑',disabled:e.disabled,onClick:e=>(e=>{a.disabled||(c.value=e,i.value={...a.modelValue[e]})})(r)},[...u[13]||(u[13]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-pen-to-square','aria-hidden':'true'},null,-1),(0,s.createTextVNode)(' 编辑 ',-1)])],8,Ql),(0,s.createElementVNode)('button',{type:'button',class:'action-btn delete',title:'删除',disabled:e.disabled,onClick:e=>(e=>{if(a.disabled)return;const t=[...a.modelValue];t.splice(e,1),l('update:modelValue',t)})(r)},[...u[14]||(u[14]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-trash','aria-hidden':'true'},null,-1),(0,s.createTextVNode)(' 删除 ',-1)])],8,Wl)])],64))],2))),128))]),_:1})])):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createCommentVNode)(' 空状态 '),u[15]||(u[15]=(0,s.createElementVNode)('div',{class:'empty-state'},[(0,s.createElementVNode)('span',{class:'empty-icon'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-shield-halved','aria-hidden':'true'})]),(0,s.createElementVNode)('span',{class:'empty-text'},'暂无装备，点击下方按钮添加')],-1))],2112)),(0,s.createCommentVNode)(' 添加装备表单 '),d.value&&m.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',Jl,[(0,s.createElementVNode)('div',{class:'add-form-header'},[u[17]||(u[17]=(0,s.createElementVNode)('span',{class:'form-title'},'添加新装备',-1)),(0,s.createElementVNode)('button',{type:'button',class:'close-btn',onClick:f},[...u[16]||(u[16]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])])]),(0,s.createElementVNode)('div',Xl,[(0,s.createVNode)((0,s.unref)(Ma),{label:'装备名称',required:''}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:r.value.name,'onUpdate:modelValue':u[6]||(u[6]=e=>r.value.name=e),placeholder:'请输入装备名称'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Yl,[(0,s.createElementVNode)('div',Zl,[(0,s.createVNode)((0,s.unref)(Ma),{label:'类型'}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:r.value.type,'onUpdate:modelValue':u[7]||(u[7]=e=>r.value.type=e),options:(0,s.unref)(n)},null,8,['modelValue','options'])]),(0,s.createElementVNode)('div',eo,[(0,s.createVNode)((0,s.unref)(Ma),{label:'品质'}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:r.value.rarity,'onUpdate:modelValue':u[8]||(u[8]=e=>r.value.rarity=e),options:(0,s.unref)(o)},null,8,['modelValue','options'])])]),(0,s.createElementVNode)('div',to,[(0,s.createVNode)((0,s.unref)(Ma),{label:'标签'}),(0,s.createVNode)((0,s.unref)(ma),{modelValue:r.value.tag,'onUpdate:modelValue':u[9]||(u[9]=e=>r.value.tag=e),placeholder:'输入标签后按回车添加','add-button-text':'添加标签','empty-text':'暂无标签'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',ao,[(0,s.createVNode)((0,s.unref)(Ma),{label:'效果'}),(0,s.createVNode)((0,s.unref)(Ta),{modelValue:r.value.effect,'onUpdate:modelValue':u[10]||(u[10]=e=>r.value.effect=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',lo,[(0,s.createVNode)((0,s.unref)(Ma),{label:'描述'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:r.value.description,'onUpdate:modelValue':u[11]||(u[11]=e=>r.value.description=e),rows:2,placeholder:'请输入装备描述（可选）'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',oo,[(0,s.createElementVNode)('button',{type:'button',class:'btn-cancel',onClick:f},'取消'),(0,s.createElementVNode)('button',{type:'button',class:'btn-add',disabled:!r.value.name.trim(),onClick:p},' 添加装备 ',8,no)])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 添加按钮 '),m.value&&!d.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',co,[(0,s.createElementVNode)('button',{type:'button',class:'add-btn',disabled:e.disabled,onClick:f},[...u[18]||(u[18]=[(0,s.createElementVNode)('span',{class:'add-icon'},'+',-1),(0,s.createElementVNode)('span',{class:'add-text'},'添加装备',-1)])],8,so)])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 数量提示 '),(0,s.createElementVNode)('div',ro,[(0,s.createElementVNode)('span',io,(0,s.toDisplayString)(e.modelValue.length),1),u[19]||(u[19]=(0,s.createElementVNode)('span',{class:'count-separator'},'/',-1)),(0,s.createElementVNode)('span',mo,(0,s.toDisplayString)(e.maxItems),1),u[20]||(u[20]=(0,s.createElementVNode)('span',{class:'count-label'},'件装备',-1))])],2))}}),po=(0,i.A)(uo,[['__scopeId','data-v-728c669c']]),vo=po,Vo={key:0,class:'skill-list'},fo={key:0,class:'edit-form'},ko={class:'form-row'},yo={class:'form-row-group'},No={class:'form-row half'},Eo={class:'form-row half'},go={class:'form-row'},bo={class:'form-row'},ho={class:'form-row'},Bo={class:'form-row'},Co={class:'edit-actions'},Do=['disabled'],xo={class:'item-header'},So={class:'item-type'},wo={class:'item-name'},_o={key:0,class:'item-tag'},Fo={key:1,class:'item-consume'},Io={class:'consume-text'},qo={key:2,class:'item-effect'},Po={class:'effect-list'},$o={class:'effect-key'},Lo={class:'effect-value'},To={key:3,class:'item-description'},Oo={class:'item-actions'},Ao=['disabled','onClick'],Uo=['disabled','onClick'],Mo={key:2,class:'add-form'},Ro={class:'form-row'},zo={class:'form-row-group'},jo={class:'form-row half'},Go={class:'form-row half'},Ko={class:'form-row'},Ho={class:'form-row'},Qo={class:'form-row'},Wo={class:'form-row'},Jo={class:'add-form-actions'},Xo=['disabled'],Yo={key:3,class:'add-section'},Zo=['disabled'],en={class:'count-info'},tn={class:'count-current'},an={class:'count-max'},ln=(0,s.defineComponent)({__name:'SkillEditor',props:{modelValue:{},maxItems:{default:20},disabled:{type:Boolean,default:!1}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t,o=gl.map(e=>({label:e.label,value:e.value})),n=hl.map(e=>({label:e.label,value:e.value})),c=(0,s.ref)(null),r=(0,s.ref)({name:'',type:hl[0].value,tag:[],rarity:'common',consume:'',effect:{},description:''}),i=(0,s.ref)(null),d=(0,s.ref)(!1),m=(0,s.computed)(()=>!a.disabled&&a.modelValue.length<a.maxItems),u=()=>{r.value={name:'',type:hl[0].value,tag:[],rarity:'common',consume:'',effect:{},description:''}},p=()=>{if(!m.value||!r.value.name.trim())return;const e={...r.value,name:r.value.name.trim(),tag:r.value.tag.filter(e=>''!==e.trim()),consume:r.value.consume?.trim()||'',effect:{...r.value.effect},description:r.value.description?.trim()||''};l('update:modelValue',[...a.modelValue,e]),u(),d.value=!1},v=()=>{if(null===c.value||!i.value)return;const e=[...a.modelValue];e[c.value]={...i.value,name:i.value.name.trim(),tag:i.value.tag.filter(e=>''!==e.trim()),consume:i.value.consume?.trim()||'',effect:{...i.value.effect},description:i.value.description?.trim()||''},l('update:modelValue',e),V()},V=()=>{c.value=null,i.value=null},f=()=>{d.value=!d.value,d.value||u()};return(0,s.watch)(()=>a.disabled,e=>{e&&(V(),d.value=!1)}),(t,u)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['skill-editor',{'is-disabled':e.disabled}])},[(0,s.createCommentVNode)(' 技能列表 '),e.modelValue.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Vo,[(0,s.createVNode)(s.TransitionGroup,{name:'skill-list'},{default:(0,s.withCtx)(()=>[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.modelValue,(t,r)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:`skill-${r}-${t.name}`,class:(0,s.normalizeClass)(['skill-item',{editing:c.value===r}])},[(0,s.createCommentVNode)(' 编辑模式 '),c.value===r&&i.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',fo,[(0,s.createElementVNode)('div',ko,[(0,s.createVNode)((0,s.unref)(Ma),{label:'技能名称'}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:i.value.name,'onUpdate:modelValue':u[0]||(u[0]=e=>i.value.name=e),placeholder:'请输入技能名称'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',yo,[(0,s.createElementVNode)('div',No,[(0,s.createVNode)((0,s.unref)(Ma),{label:'类型'}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:i.value.type,'onUpdate:modelValue':u[1]||(u[1]=e=>i.value.type=e),options:(0,s.unref)(n)},null,8,['modelValue','options'])]),(0,s.createElementVNode)('div',Eo,[(0,s.createVNode)((0,s.unref)(Ma),{label:'品质'}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:i.value.rarity,'onUpdate:modelValue':u[2]||(u[2]=e=>i.value.rarity=e),options:(0,s.unref)(o)},null,8,['modelValue','options'])])]),(0,s.createElementVNode)('div',go,[(0,s.createVNode)((0,s.unref)(Ma),{label:'标签'}),(0,s.createVNode)((0,s.unref)(ma),{modelValue:i.value.tag,'onUpdate:modelValue':u[3]||(u[3]=e=>i.value.tag=e),placeholder:'输入标签后按回车添加','add-button-text':'添加标签','empty-text':'暂无标签'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',bo,[(0,s.createVNode)((0,s.unref)(Ma),{label:'消耗'}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:i.value.consume,'onUpdate:modelValue':u[4]||(u[4]=e=>i.value.consume=e),placeholder:'例如：[攻击:50MP] 或 [动作:30SP]'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',ho,[(0,s.createVNode)((0,s.unref)(Ma),{label:'效果'}),(0,s.createVNode)((0,s.unref)(Ta),{modelValue:i.value.effect,'onUpdate:modelValue':u[5]||(u[5]=e=>i.value.effect=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Bo,[(0,s.createVNode)((0,s.unref)(Ma),{label:'描述'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:i.value.description,'onUpdate:modelValue':u[6]||(u[6]=e=>i.value.description=e),rows:2,placeholder:'请输入技能描述（可选）'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Co,[(0,s.createElementVNode)('button',{type:'button',class:'btn-cancel',onClick:V},'取消'),(0,s.createElementVNode)('button',{type:'button',class:'btn-save',disabled:!i.value.name.trim(),onClick:v},' 保存 ',8,Do)])])):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createCommentVNode)(' 显示模式 '),(0,s.createElementVNode)('div',xo,[(0,s.createElementVNode)('span',So,(0,s.toDisplayString)(t.type||'主动'),1),(0,s.createElementVNode)('span',wo,(0,s.toDisplayString)(t.name),1),(0,s.createElementVNode)('span',{class:'item-rarity',style:(0,s.normalizeStyle)({'--rarity-color':(0,s.unref)(Dl)(t.rarity)})},(0,s.toDisplayString)((0,s.unref)(Cl)(t.rarity)),5)]),t.tag&&t.tag.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',_o,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(t.tag,e=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:e,class:'tag-text'},(0,s.toDisplayString)(e),1))),128))])):(0,s.createCommentVNode)('v-if',!0),t.consume?((0,s.openBlock)(),(0,s.createElementBlock)('div',Fo,[u[14]||(u[14]=(0,s.createElementVNode)('span',{class:'consume-label'},'消耗：',-1)),(0,s.createElementVNode)('span',Io,(0,s.toDisplayString)(t.consume),1)])):(0,s.createCommentVNode)('v-if',!0),Object.keys(t.effect||{}).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',qo,[u[15]||(u[15]=(0,s.createElementVNode)('span',{class:'effect-label'},'效果：',-1)),(0,s.createElementVNode)('div',Po,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(t.effect,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:'effect-row'},[(0,s.createElementVNode)('span',$o,(0,s.toDisplayString)(t)+'：',1),(0,s.createElementVNode)('span',Lo,(0,s.toDisplayString)(e),1)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),t.description?((0,s.openBlock)(),(0,s.createElementBlock)('div',To,(0,s.toDisplayString)(t.description),1)):(0,s.createCommentVNode)('v-if',!0),(0,s.createElementVNode)('div',Oo,[(0,s.createElementVNode)('button',{type:'button',class:'action-btn edit',title:'编辑',disabled:e.disabled,onClick:e=>(e=>{a.disabled||(c.value=e,i.value={...a.modelValue[e]})})(r)},[...u[16]||(u[16]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-pen-to-square','aria-hidden':'true'},null,-1),(0,s.createTextVNode)(' 编辑 ',-1)])],8,Ao),(0,s.createElementVNode)('button',{type:'button',class:'action-btn delete',title:'删除',disabled:e.disabled,onClick:e=>(e=>{if(a.disabled)return;const t=[...a.modelValue];t.splice(e,1),l('update:modelValue',t)})(r)},[...u[17]||(u[17]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-trash','aria-hidden':'true'},null,-1),(0,s.createTextVNode)(' 删除 ',-1)])],8,Uo)])],64))],2))),128))]),_:1})])):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[(0,s.createCommentVNode)(' 空状态 '),u[18]||(u[18]=(0,s.createElementVNode)('div',{class:'empty-state'},[(0,s.createElementVNode)('span',{class:'empty-icon'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-wand-magic','aria-hidden':'true'})]),(0,s.createElementVNode)('span',{class:'empty-text'},'暂无技能，点击下方按钮添加')],-1))],2112)),(0,s.createCommentVNode)(' 添加技能表单 '),d.value&&m.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',Mo,[(0,s.createElementVNode)('div',{class:'add-form-header'},[u[20]||(u[20]=(0,s.createElementVNode)('span',{class:'form-title'},'添加新技能',-1)),(0,s.createElementVNode)('button',{type:'button',class:'close-btn',onClick:f},[...u[19]||(u[19]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])])]),(0,s.createElementVNode)('div',Ro,[(0,s.createVNode)((0,s.unref)(Ma),{label:'技能名称',required:''}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:r.value.name,'onUpdate:modelValue':u[7]||(u[7]=e=>r.value.name=e),placeholder:'请输入技能名称'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',zo,[(0,s.createElementVNode)('div',jo,[(0,s.createVNode)((0,s.unref)(Ma),{label:'类型'}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:r.value.type,'onUpdate:modelValue':u[8]||(u[8]=e=>r.value.type=e),options:(0,s.unref)(n)},null,8,['modelValue','options'])]),(0,s.createElementVNode)('div',Go,[(0,s.createVNode)((0,s.unref)(Ma),{label:'品质'}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:r.value.rarity,'onUpdate:modelValue':u[9]||(u[9]=e=>r.value.rarity=e),options:(0,s.unref)(o)},null,8,['modelValue','options'])])]),(0,s.createElementVNode)('div',Ko,[(0,s.createVNode)((0,s.unref)(Ma),{label:'标签'}),(0,s.createVNode)((0,s.unref)(ma),{modelValue:r.value.tag,'onUpdate:modelValue':u[10]||(u[10]=e=>r.value.tag=e),placeholder:'输入标签后按回车添加','add-button-text':'添加标签','empty-text':'暂无标签'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Ho,[(0,s.createVNode)((0,s.unref)(Ma),{label:'消耗'}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:r.value.consume,'onUpdate:modelValue':u[11]||(u[11]=e=>r.value.consume=e),placeholder:'例如：[攻击:50MP] 或 [动作:30SP]'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Qo,[(0,s.createVNode)((0,s.unref)(Ma),{label:'效果'}),(0,s.createVNode)((0,s.unref)(Ta),{modelValue:r.value.effect,'onUpdate:modelValue':u[12]||(u[12]=e=>r.value.effect=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Wo,[(0,s.createVNode)((0,s.unref)(Ma),{label:'描述'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:r.value.description,'onUpdate:modelValue':u[13]||(u[13]=e=>r.value.description=e),rows:2,placeholder:'请输入技能描述（可选）'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',Jo,[(0,s.createElementVNode)('button',{type:'button',class:'btn-cancel',onClick:f},'取消'),(0,s.createElementVNode)('button',{type:'button',class:'btn-add',disabled:!r.value.name.trim(),onClick:p},' 添加技能 ',8,Xo)])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 添加按钮 '),m.value&&!d.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',Yo,[(0,s.createElementVNode)('button',{type:'button',class:'add-btn',disabled:e.disabled,onClick:f},[...u[21]||(u[21]=[(0,s.createElementVNode)('span',{class:'add-icon'},'+',-1),(0,s.createElementVNode)('span',{class:'add-text'},'添加技能',-1)])],8,Zo)])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 数量提示 '),(0,s.createElementVNode)('div',en,[(0,s.createElementVNode)('span',tn,(0,s.toDisplayString)(e.modelValue.length),1),u[22]||(u[22]=(0,s.createElementVNode)('span',{class:'count-separator'},'/',-1)),(0,s.createElementVNode)('span',an,(0,s.toDisplayString)(e.maxItems),1),u[23]||(u[23]=(0,s.createElementVNode)('span',{class:'count-label'},'个技能',-1))])],2))}}),on=(0,i.A)(ln,[['__scopeId','data-v-149e0e68']]),nn=on,cn={class:'form-body'},sn={class:'form-row'},rn={class:'form-row'},dn={class:'level-buttons'},mn=['onClick'],un={class:'cost-info'},pn={class:'cost-value'},vn={class:'form-row'},Vn={class:'form-row'},fn={class:'field-hint'},kn={class:'form-row'},yn={class:'form-row'},Nn={class:'form-row'},En={class:'form-row'},gn={class:'form-row'},bn={class:'form-row'},hn={class:'form-row'},Bn={class:'form-row'},Cn={class:'form-row'},Dn={class:'form-row'},xn={class:'form-row'},Sn={key:0,class:'field-hint'},wn={class:'form-row'},_n={class:'form-row'},Fn={class:'form-row'},In={class:'form-row'},qn={class:'form-actions'},Pn=['disabled'],$n=(0,s.defineComponent)({__name:'CustomDestinedOneForm',emits:['add'],setup(e,{emit:t}){const a=t,l=pe(),n=(0,s.ref)(!1),c={1:{name:'第一层级 (普通)',minGrade:1,maxGrade:4},2:{name:'第二层级 (中坚)',minGrade:5,maxGrade:8},3:{name:'第三层级 (精英)',minGrade:9,maxGrade:12},4:{name:'第四层级 (史诗)',minGrade:13,maxGrade:16},5:{name:'第五层级 (传说)',minGrade:17,maxGrade:20},6:{name:'第六层级 (神话)',minGrade:21,maxGrade:24},7:{name:'第七层级 (神祗)',minGrade:25,maxGrade:25}},r=[{label:'是',value:!0},{label:'否',value:!1}],i=(0,s.computed)({get:()=>l.customDestinedOneForm.itemName,set:e=>l.updateCustomDestinedOneForm('itemName',e)}),d=(0,s.computed)({get:()=>l.customDestinedOneForm.itemLevel,set:e=>l.updateCustomDestinedOneForm('itemLevel',e)}),m=(0,s.computed)({get:()=>l.customDestinedOneForm.itemLifeLevel,set:e=>l.updateCustomDestinedOneForm('itemLifeLevel',e)}),u=(0,s.computed)({get:()=>l.customDestinedOneForm.itemGrade,set:e=>l.updateCustomDestinedOneForm('itemGrade',e)}),p=(0,s.computed)({get:()=>l.customDestinedOneForm.itemRace,set:e=>l.updateCustomDestinedOneForm('itemRace',e)}),v=(0,s.computed)({get:()=>l.customDestinedOneForm.itemIdentity,set:e=>l.updateCustomDestinedOneForm('itemIdentity',e)}),V=(0,s.computed)({get:()=>l.customDestinedOneForm.itemCareer,set:e=>l.updateCustomDestinedOneForm('itemCareer',e)}),f=(0,s.computed)({get:()=>l.customDestinedOneForm.itemPersonality,set:e=>l.updateCustomDestinedOneForm('itemPersonality',e)}),k=(0,s.computed)({get:()=>l.customDestinedOneForm.itemLike,set:e=>l.updateCustomDestinedOneForm('itemLike',e)}),y=(0,s.computed)({get:()=>l.customDestinedOneForm.itemApp,set:e=>l.updateCustomDestinedOneForm('itemApp',e)}),N=(0,s.computed)({get:()=>l.customDestinedOneForm.itemCloth,set:e=>l.updateCustomDestinedOneForm('itemCloth',e)}),E=(0,s.computed)({get:()=>l.customDestinedOneForm.itemEquip,set:e=>l.updateCustomDestinedOneForm('itemEquip',e)}),g=(0,s.computed)({get:()=>l.customDestinedOneForm.itemAttributes,set:e=>l.updateCustomDestinedOneForm('itemAttributes',e)}),b=(0,s.computed)({get:()=>l.customDestinedOneForm.itemStairway,set:e=>l.updateCustomDestinedOneForm('itemStairway',e)}),h=(0,s.computed)({get:()=>l.customDestinedOneForm.itemIsContract,set:e=>l.updateCustomDestinedOneForm('itemIsContract',e)}),B=(0,s.computed)({get:()=>l.customDestinedOneForm.itemAffinity,set:e=>l.updateCustomDestinedOneForm('itemAffinity',e)}),C=(0,s.computed)({get:()=>l.customDestinedOneForm.itemComment,set:e=>l.updateCustomDestinedOneForm('itemComment',e)}),D=(0,s.computed)({get:()=>l.customDestinedOneForm.itemBackgroundInfo,set:e=>l.updateCustomDestinedOneForm('itemBackgroundInfo',e)}),x=(0,s.computed)({get:()=>l.customDestinedOneForm.itemSkills,set:e=>l.updateCustomDestinedOneForm('itemSkills',e)}),S=(0,s.ref)(!1),w=(0,s.ref)(!1),F=(0,s.computed)(()=>function(e){if(e<1||e>7)throw new Error('层级必须在 1 到 7 之间');return vl[e-1]}(d.value)),I=(0,s.computed)(()=>c[d.value]),q=(0,s.computed)(()=>''!==i.value.trim()&&''!==p.value.trim());(0,s.watch)(()=>d.value,e=>{const t=c[e];t&&(m.value=t.name,(u.value<t.minGrade||u.value>t.maxGrade)&&(u.value=t.minGrade))},{immediate:!0});const P=()=>{l.resetCustomDestinedOneForm();const e=c[d.value];e&&(m.value=e.name)},L=()=>{S.value=!0},T=()=>{S.value=!1,P()},O=()=>{S.value=!1},A=()=>{q.value&&(w.value=!0)},U=()=>{w.value=!1},M=()=>{w.value=!1;const e={name:i.value.trim(),cost:F.value,lifeLevel:m.value.trim()||'未知',level:u.value,race:p.value.trim(),identity:o(v.value),career:o(V.value),personality:f.value.trim()||'未知',like:k.value.trim()||'未知',app:y.value.trim()||'未知',cloth:N.value.trim()||'未知',equip:o(E.value).map(e=>({...e,rarity:e.rarity})),attributes:o(g.value),stairway:(t=b.value,t.trim()?{isOpen:!0,elements:{custom:{desc:t}}}:{isOpen:!1}),isContract:h.value,affinity:B.value,comment:C.value.trim(),backgroundInfo:D.value.trim(),skills:o(x.value).map(e=>({...e,rarity:e.rarity})),isCustom:!0};var t;a('add',e),P()};return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['custom-destined-form',{expanded:n.value}])},[(0,s.createElementVNode)('div',{class:'form-header',onClick:t[0]||(t[0]=e=>n.value=!n.value)},[t[19]||(t[19]=(0,s.createElementVNode)('div',{class:'header-left'},[(0,s.createElementVNode)('h3',{class:'form-title'},'✨ 自定义命定之人'),(0,s.createElementVNode)('div',{class:'form-desc'},'创建您的专属命定之人')],-1)),(0,s.createElementVNode)('div',{class:(0,s.normalizeClass)(['toggle-icon',{rotated:n.value}])},'▼',2)]),(0,s.withDirectives)((0,s.createElementVNode)('div',cn,[(0,s.createCommentVNode)(' 姓名 '),(0,s.createElementVNode)('div',sn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'姓名',required:''}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:i.value,'onUpdate:modelValue':t[1]||(t[1]=e=>i.value=e),placeholder:'请输入姓名',maxlength:50},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 层级 '),(0,s.createElementVNode)('div',rn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'层级',required:''}),(0,s.createElementVNode)('div',dn,[((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(7,e=>(0,s.createElementVNode)('button',{key:e,class:(0,s.normalizeClass)(['level-btn',{active:d.value===e}]),onClick:t=>d.value=e},' 第'+(0,s.toDisplayString)(['一','二','三','四','五','六','七'][e-1])+'层级 ',11,mn)),64))]),(0,s.createElementVNode)('div',un,[t[20]||(t[20]=(0,s.createElementVNode)('span',{class:'cost-label'},'消耗点数：',-1)),(0,s.createElementVNode)('span',pn,(0,s.toDisplayString)(F.value),1)])]),(0,s.createCommentVNode)(' 生命层级（自动填充） '),(0,s.createElementVNode)('div',vn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'生命层级（根据层级自动填充）'}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:m.value,'onUpdate:modelValue':t[2]||(t[2]=e=>m.value=e),readonly:'',disabled:''},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 等级 '),(0,s.createElementVNode)('div',Vn,[(0,s.createVNode)((0,s.unref)(Ma),{label:`等级（${I.value.minGrade}-${I.value.maxGrade}级）`},null,8,['label']),(0,s.createVNode)((0,s.unref)(Qa),{modelValue:u.value,'onUpdate:modelValue':t[3]||(t[3]=e=>u.value=e),min:I.value.minGrade,max:I.value.maxGrade,placeholder:`${I.value.minGrade}-${I.value.maxGrade}`},null,8,['modelValue','min','max','placeholder']),(0,s.createElementVNode)('div',fn,' 该层级的等级范围：'+(0,s.toDisplayString)(I.value.minGrade)+'-'+(0,s.toDisplayString)(I.value.maxGrade)+'级 ',1)]),(0,s.createCommentVNode)(' 种族 '),(0,s.createElementVNode)('div',kn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'种族',required:''}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:p.value,'onUpdate:modelValue':t[4]||(t[4]=e=>p.value=e),placeholder:'例如：人类、精灵等',maxlength:20},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 身份 '),(0,s.createElementVNode)('div',yn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'身份'}),(0,s.createVNode)((0,s.unref)(ma),{modelValue:v.value,'onUpdate:modelValue':t[5]||(t[5]=e=>v.value=e),placeholder:'输入身份后按回车添加'},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 职业 '),(0,s.createElementVNode)('div',Nn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'职业'}),(0,s.createVNode)((0,s.unref)(ma),{modelValue:V.value,'onUpdate:modelValue':t[6]||(t[6]=e=>V.value=e),placeholder:'输入职业后按回车添加'},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 性格 '),(0,s.createElementVNode)('div',En,[(0,s.createVNode)((0,s.unref)(Ma),{label:'性格'}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:f.value,'onUpdate:modelValue':t[7]||(t[7]=e=>f.value=e),placeholder:'描述角色的性格特征...'},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 喜爱 '),(0,s.createElementVNode)('div',gn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'喜爱'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:k.value,'onUpdate:modelValue':t[8]||(t[8]=e=>k.value=e),placeholder:'描述喜好和习惯...',rows:2},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 外貌 '),(0,s.createElementVNode)('div',bn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'外貌'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:y.value,'onUpdate:modelValue':t[9]||(t[9]=e=>y.value=e),placeholder:'描述外貌特征...',rows:2},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 衣物 '),(0,s.createElementVNode)('div',hn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'着装'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:N.value,'onUpdate:modelValue':t[10]||(t[10]=e=>N.value=e),placeholder:'描述穿着打扮...',rows:2},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 属性 '),(0,s.createElementVNode)('div',Bn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'属性'}),(0,s.createVNode)(El,{modelValue:g.value,'onUpdate:modelValue':t[11]||(t[11]=e=>g.value=e),min:1,max:20},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 装备 '),(0,s.createElementVNode)('div',Cn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'装备'}),(0,s.createVNode)(vo,{modelValue:E.value,'onUpdate:modelValue':t[12]||(t[12]=e=>E.value=e),'max-items':10},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 技能 '),(0,s.createElementVNode)('div',Dn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'技能'}),(0,s.createVNode)(nn,{modelValue:x.value,'onUpdate:modelValue':t[13]||(t[13]=e=>x.value=e),'max-items':10},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 登神长阶 '),(0,s.createElementVNode)('div',xn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'登神长阶（需等级 ≥ 13）'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:b.value,'onUpdate:modelValue':t[14]||(t[14]=e=>b.value=e),disabled:u.value<13,placeholder:u.value>=13?'描述登神长阶信息...':'等级需达到 13 级或以上才可填写',rows:2},null,8,['modelValue','disabled','placeholder']),u.value<13?((0,s.openBlock)(),(0,s.createElementBlock)('div',Sn,' ⚠️ 当前等级 '+(0,s.toDisplayString)(u.value)+' 级，需要达到 13 级才能开启登神长阶 ',1)):(0,s.createCommentVNode)('v-if',!0)]),(0,s.createCommentVNode)(' 是否缔结契约 '),(0,s.createElementVNode)('div',wn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'是否缔结契约'}),(0,s.createVNode)((0,s.unref)(Ya),{modelValue:h.value,'onUpdate:modelValue':t[15]||(t[15]=e=>h.value=e),options:r},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 好感度 '),(0,s.createElementVNode)('div',_n,[(0,s.createVNode)((0,s.unref)(Ma),{label:'好感度 (-100~100)'}),(0,s.createVNode)((0,s.unref)(Qa),{modelValue:B.value,'onUpdate:modelValue':t[16]||(t[16]=e=>B.value=e),min:-100,max:100,placeholder:'49'},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 心里话 '),(0,s.createElementVNode)('div',Fn,[(0,s.createVNode)((0,s.unref)(Ma),{label:'心里话'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:C.value,'onUpdate:modelValue':t[17]||(t[17]=e=>C.value=e),placeholder:'该角色对你的评价...',rows:2},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 背景故事 '),(0,s.createElementVNode)('div',In,[(0,s.createVNode)((0,s.unref)(Ma),{label:'背景故事'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:D.value,'onUpdate:modelValue':t[18]||(t[18]=e=>D.value=e),placeholder:'描述背景故事...',rows:3},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 操作按钮 '),(0,s.createElementVNode)('div',qn,[(0,s.createElementVNode)('button',{class:'btn-reset',onClick:L},'清空'),(0,s.createElementVNode)('button',{class:'btn-submit',disabled:!q.value,onClick:A},'添加到已选项目',8,Pn)])],512),[[s.vShow,n.value]]),(0,s.createCommentVNode)(' 清空确认弹窗 '),(0,s.createVNode)(Gt,{visible:S.value,title:'确认清空',message:'确定要清空所有已填写的内容吗？此操作不可撤销。','confirm-text':'确认清空','cancel-text':'取消',type:'danger',onConfirm:T,onCancel:O},null,8,['visible']),(0,s.createCommentVNode)(' 添加确认弹窗 '),(0,s.createVNode)(Gt,{visible:w.value,title:'确认添加',message:`确定要将「${i.value}」添加到已选项目吗？`,'confirm-text':'确认添加','cancel-text':'取消',type:'info',onConfirm:M,onCancel:U},null,8,['visible','message'])],2))}}),Ln=(0,i.A)($n,[['__scopeId','data-v-5fc2dbf9']]),Tn=Ln,On={class:'destined-one-list'},An={key:0,class:'empty-message'},Un=['onClick'],Mn={class:'card-header'},Rn={class:'item-name'},zn={class:'header-actions'},jn={class:'item-cost'},Gn=['onClick'],Kn={class:'card-summary'},Hn={class:'summary-row'},Qn={class:'value'},Wn={class:'summary-row'},Jn={class:'value'},Xn={class:'summary-row'},Yn={class:'value'},Zn={class:'summary-row'},ec={class:'value'},tc={key:0,class:'card-body'},ac={class:'info-section'},lc={class:'info-row'},oc={class:'value'},nc={class:'info-row'},cc={class:'value'},sc={class:'info-row'},rc={class:'value'},ic={class:'info-row'},dc={class:'value'},mc={class:'info-section'},uc={class:'info-block'},pc={class:'block-content'},vc={class:'info-block'},Vc={class:'block-content'},fc={class:'info-block'},kc={class:'block-content'},yc={class:'info-section'},Nc={class:'attributes'},Ec={class:'attr-item'},gc={class:'attr-value'},bc={class:'attr-item'},hc={class:'attr-value'},Bc={class:'attr-item'},Cc={class:'attr-value'},Dc={class:'attr-item'},xc={class:'attr-value'},Sc={class:'attr-item'},wc={class:'attr-value'},_c={key:0,class:'info-section'},Fc={class:'equipment-list'},Ic={class:'equip-name'},qc={key:0,class:'equip-info'},Pc={key:1,class:'equip-info'},$c={key:2,class:'equip-info'},Lc={key:3,class:'equip-info'},Tc={key:4,class:'equip-desc'},Oc={key:1,class:'info-section'},Ac={class:'skills-list'},Uc={class:'skill-header'},Mc={class:'skill-name'},Rc={class:'skill-type'},zc={key:0,class:'skill-tag'},jc={key:1,class:'skill-consume'},Gc={key:2,class:'skill-effect'},Kc={key:3,class:'skill-effect'},Hc={class:'skill-desc'},Qc={key:2,class:'info-section'},Wc={class:'stairway-content'},Jc={key:0,class:'stairway-section'},Xc={key:1,class:'stairway-section'},Yc={key:2,class:'stairway-section'},Zc={key:3,class:'stairway-item'},es={key:4,class:'stairway-section'},ts={key:0,class:'stairway-item'},as={key:1,class:'stairway-desc'},ls={key:3,class:'info-section'},os={class:'info-block'},ns={class:'block-content'},cs={key:4,class:'comment'},ss=(0,s.defineComponent)({__name:'DestinedOneList',props:{items:{}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,o=x(),n=(0,s.computed)(()=>o.character.reincarnationPoints-o.consumedPoints),{isSelected:c,canSelect:r}=Ee(()=>o.selectedDestinedOnes,()=>n.value),{toggleExpand:i,isExpanded:d}=function(){const e=(0,s.ref)(new Set);return{expandedCards:e,toggleExpand:(t,a)=>{a?.stopPropagation(),e.value.has(t)?e.value.delete(t):e.value.add(t)},isExpanded:t=>e.value.has(t),expandAll:t=>{t.forEach(t=>e.value.add(t))},collapseAll:()=>{e.value.clear()}}}(),m=(0,s.ref)([]);return(0,s.watch)(()=>a.items,async e=>{m.value=await Promise.all(e.map(ke))},{immediate:!0}),(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',On,[0===(0,s.unref)(m).length?((0,s.openBlock)(),(0,s.createElementBlock)('div',An,'该分类暂无命定之人')):(0,s.createCommentVNode)('v-if',!0),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(m),e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:(0,s.normalizeClass)(['destined-one-card',{selected:(0,s.unref)(c)(e),disabled:!(0,s.unref)(c)(e)&&!(0,s.unref)(r)(e),expanded:(0,s.unref)(d)(e.name)}]),onClick:t=>(e=>{c(e)?l('deselect',e):r(e)&&l('select',e)})(e)},[(0,s.createElementVNode)('div',Mn,[(0,s.createElementVNode)('h3',Rn,(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('div',zn,[(0,s.createElementVNode)('div',jn,(0,s.toDisplayString)(e.cost)+' 点',1),(0,s.createElementVNode)('button',{class:'expand-btn',onClick:t=>(0,s.unref)(i)(e.name,t)},(0,s.toDisplayString)((0,s.unref)(d)(e.name)?'收起':'展开'),9,Gn)])]),(0,s.createCommentVNode)(' 基本信息（始终显示） '),(0,s.createElementVNode)('div',Kn,[(0,s.createElementVNode)('div',Hn,[t[0]||(t[0]=(0,s.createElementVNode)('span',{class:'label'},'层级：',-1)),(0,s.createElementVNode)('span',Qn,(0,s.toDisplayString)(e.lifeLevel),1)]),(0,s.createElementVNode)('div',Wn,[t[1]||(t[1]=(0,s.createElementVNode)('span',{class:'label'},'种族：',-1)),(0,s.createElementVNode)('span',Jn,(0,s.toDisplayString)(e.race),1)]),(0,s.createElementVNode)('div',Xn,[t[2]||(t[2]=(0,s.createElementVNode)('span',{class:'label'},'等级：',-1)),(0,s.createElementVNode)('span',Yn,'Lv.'+(0,s.toDisplayString)(e.level),1)]),(0,s.createElementVNode)('div',Zn,[t[3]||(t[3]=(0,s.createElementVNode)('span',{class:'label'},'好感度：',-1)),(0,s.createElementVNode)('span',ec,(0,s.toDisplayString)(e.affinity),1)])]),(0,s.createCommentVNode)(' 详细信息（可折叠） '),(0,s.unref)(d)(e.name)?((0,s.openBlock)(),(0,s.createElementBlock)('div',tc,[(0,s.createElementVNode)('div',ac,[(0,s.createElementVNode)('div',lc,[t[4]||(t[4]=(0,s.createElementVNode)('span',{class:'label'},'身份：',-1)),(0,s.createElementVNode)('span',oc,(0,s.toDisplayString)(e.identity.join('、')),1)]),(0,s.createElementVNode)('div',nc,[t[5]||(t[5]=(0,s.createElementVNode)('span',{class:'label'},'职业：',-1)),(0,s.createElementVNode)('span',cc,(0,s.toDisplayString)(e.career.join('、')),1)]),(0,s.createElementVNode)('div',sc,[t[6]||(t[6]=(0,s.createElementVNode)('span',{class:'label'},'性格：',-1)),(0,s.createElementVNode)('span',rc,(0,s.toDisplayString)(e.personality),1)]),(0,s.createElementVNode)('div',ic,[t[7]||(t[7]=(0,s.createElementVNode)('span',{class:'label'},'是否缔结契约：',-1)),(0,s.createElementVNode)('span',dc,(0,s.toDisplayString)(e.isContract?'是':'否'),1)])]),(0,s.createElementVNode)('div',mc,[(0,s.createElementVNode)('div',uc,[t[8]||(t[8]=(0,s.createElementVNode)('div',{class:'block-title'},'喜好',-1)),(0,s.createElementVNode)('div',pc,(0,s.toDisplayString)(e.like),1)]),(0,s.createElementVNode)('div',vc,[t[9]||(t[9]=(0,s.createElementVNode)('div',{class:'block-title'},'外貌',-1)),(0,s.createElementVNode)('div',Vc,(0,s.toDisplayString)(e.app),1)]),(0,s.createElementVNode)('div',fc,[t[10]||(t[10]=(0,s.createElementVNode)('div',{class:'block-title'},'着装',-1)),(0,s.createElementVNode)('div',kc,(0,s.toDisplayString)(e.cloth),1)])]),(0,s.createElementVNode)('div',yc,[t[16]||(t[16]=(0,s.createElementVNode)('div',{class:'block-title'},'属性',-1)),(0,s.createElementVNode)('div',Nc,[(0,s.createElementVNode)('div',Ec,[t[11]||(t[11]=(0,s.createElementVNode)('span',{class:'attr-label'},'力量：',-1)),(0,s.createElementVNode)('span',gc,(0,s.toDisplayString)(e.attributes.strength),1)]),(0,s.createElementVNode)('div',bc,[t[12]||(t[12]=(0,s.createElementVNode)('span',{class:'attr-label'},'敏捷：',-1)),(0,s.createElementVNode)('span',hc,(0,s.toDisplayString)(e.attributes.dexterity),1)]),(0,s.createElementVNode)('div',Bc,[t[13]||(t[13]=(0,s.createElementVNode)('span',{class:'attr-label'},'体质：',-1)),(0,s.createElementVNode)('span',Cc,(0,s.toDisplayString)(e.attributes.constitution),1)]),(0,s.createElementVNode)('div',Dc,[t[14]||(t[14]=(0,s.createElementVNode)('span',{class:'attr-label'},'智力：',-1)),(0,s.createElementVNode)('span',xc,(0,s.toDisplayString)(e.attributes.intelligence),1)]),(0,s.createElementVNode)('div',Sc,[t[15]||(t[15]=(0,s.createElementVNode)('span',{class:'attr-label'},'精神：',-1)),(0,s.createElementVNode)('span',wc,(0,s.toDisplayString)(e.attributes.mind),1)])])]),e.equip&&e.equip.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',_c,[t[18]||(t[18]=(0,s.createElementVNode)('div',{class:'block-title'},'装备',-1)),(0,s.createElementVNode)('div',Fc,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.equip,(e,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:a,class:'equipment-item'},[(0,s.createElementVNode)('div',Ic,(0,s.toDisplayString)(e.name),1),e.type?((0,s.openBlock)(),(0,s.createElementBlock)('div',qc,'类型：'+(0,s.toDisplayString)(e.type),1)):(0,s.createCommentVNode)('v-if',!0),e.tag&&e.tag.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Pc,' 标签：'+(0,s.toDisplayString)(e.tag.join('、')),1)):(0,s.createCommentVNode)('v-if',!0),Object.keys(e.effect||{}).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',$c,[t[17]||(t[17]=(0,s.createTextVNode)(' 效果： ',-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.effect,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:t,class:'effect-inline'},(0,s.toDisplayString)(t)+'：'+(0,s.toDisplayString)(e),1))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('div',Lc,'效果：无')),e.description?((0,s.openBlock)(),(0,s.createElementBlock)('div',Tc,(0,s.toDisplayString)(e.description),1)):(0,s.createCommentVNode)('v-if',!0)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),e.skills&&e.skills.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Oc,[t[19]||(t[19]=(0,s.createElementVNode)('div',{class:'block-title'},'技能',-1)),(0,s.createElementVNode)('div',Ac,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.skills,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:'skill-item'},[(0,s.createElementVNode)('div',Uc,[(0,s.createElementVNode)('span',Mc,(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('span',Rc,(0,s.toDisplayString)(e.type),1)]),e.tag&&e.tag.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',zc,(0,s.toDisplayString)(e.tag.join('、')),1)):(0,s.createCommentVNode)('v-if',!0),e.consume?((0,s.openBlock)(),(0,s.createElementBlock)('div',jc,'消耗：'+(0,s.toDisplayString)(e.consume),1)):(0,s.createCommentVNode)('v-if',!0),Object.keys(e.effect||{}).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Gc,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.effect,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:t,class:'effect-inline'},(0,s.toDisplayString)(t)+'：'+(0,s.toDisplayString)(e),1))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('div',Kc,'无效果')),(0,s.createElementVNode)('div',Hc,(0,s.toDisplayString)(e.description),1)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),e.stairway.isOpen?((0,s.openBlock)(),(0,s.createElementBlock)('div',Qc,[t[24]||(t[24]=(0,s.createElementVNode)('div',{class:'block-title'},'登神长阶',-1)),(0,s.createElementVNode)('div',Wc,[e.stairway.elements?((0,s.openBlock)(),(0,s.createElementBlock)('div',Jc,[t[20]||(t[20]=(0,s.createElementVNode)('div',{class:'stairway-label'},'要素：',-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.stairway.elements,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:'stairway-item'},[(0,s.createElementVNode)('div',null,'• '+(0,s.toDisplayString)(t),1),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t},(0,s.toDisplayString)(t)+'：'+(0,s.toDisplayString)(e),1))),128))]))),128))])):(0,s.createCommentVNode)('v-if',!0),e.stairway.powers?((0,s.openBlock)(),(0,s.createElementBlock)('div',Xc,[t[21]||(t[21]=(0,s.createElementVNode)('div',{class:'stairway-label'},'权能：',-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.stairway.powers,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:'stairway-item'},[(0,s.createElementVNode)('div',null,'• '+(0,s.toDisplayString)(t),1),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t},(0,s.toDisplayString)(t)+'：'+(0,s.toDisplayString)(e),1))),128))]))),128))])):(0,s.createCommentVNode)('v-if',!0),e.stairway.laws?((0,s.openBlock)(),(0,s.createElementBlock)('div',Yc,[t[22]||(t[22]=(0,s.createElementVNode)('div',{class:'stairway-label'},'法则：',-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.stairway.laws,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t,class:'stairway-item'},[(0,s.createElementVNode)('div',null,'• '+(0,s.toDisplayString)(t),1),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:t},(0,s.toDisplayString)(t)+'：'+(0,s.toDisplayString)(e),1))),128))]))),128))])):(0,s.createCommentVNode)('v-if',!0),e.stairway.godlyRank?((0,s.openBlock)(),(0,s.createElementBlock)('div',Zc,' 神位：'+(0,s.toDisplayString)(e.stairway.godlyRank),1)):(0,s.createCommentVNode)('v-if',!0),e.stairway.godKingdom?.name||e.stairway.godKingdom?.description?((0,s.openBlock)(),(0,s.createElementBlock)('div',es,[t[23]||(t[23]=(0,s.createElementVNode)('div',{class:'stairway-label'},'神国：',-1)),e.stairway.godKingdom?.name?((0,s.openBlock)(),(0,s.createElementBlock)('div',ts,(0,s.toDisplayString)(e.stairway.godKingdom?.name),1)):(0,s.createCommentVNode)('v-if',!0),e.stairway.godKingdom?.description?((0,s.openBlock)(),(0,s.createElementBlock)('div',as,(0,s.toDisplayString)(e.stairway.godKingdom?.description),1)):(0,s.createCommentVNode)('v-if',!0)])):(0,s.createCommentVNode)('v-if',!0)])])):(0,s.createCommentVNode)('v-if',!0),e.backgroundInfo?((0,s.openBlock)(),(0,s.createElementBlock)('div',ls,[(0,s.createElementVNode)('div',os,[t[25]||(t[25]=(0,s.createElementVNode)('div',{class:'block-title'},'背景故事',-1)),(0,s.createElementVNode)('div',ns,(0,s.toDisplayString)(e.backgroundInfo),1)])])):(0,s.createCommentVNode)('v-if',!0),e.comment?((0,s.openBlock)(),(0,s.createElementBlock)('div',cs,'"'+(0,s.toDisplayString)(e.comment)+'"',1)):(0,s.createCommentVNode)('v-if',!0)])):(0,s.createCommentVNode)('v-if',!0)],10,Un))),128))]))}}),rs=(0,i.A)(ss,[['__scopeId','data-v-fdf4ebfc']]),is={class:'exchange-header'},ds={class:'exchange-icon','aria-hidden':'true'},ms={class:'exchange-title'},us={class:'exchange-rate'},ps={class:'exchange-body'},vs={class:'current-display'},Vs={class:'label'},fs={class:'value'},ks={key:0,class:'unit'},ys={class:'exchange-controls'},Ns=['disabled'],Es=['disabled','title'],gs=['disabled','title'],bs=(0,s.defineComponent)({__name:'exchange-card',props:{title:{},rateText:{},iconClass:{},currentLabel:{},currentValue:{},currentUnit:{default:''},gainUnit:{},gainPerPoint:{},maxExchangeable:{},modelValue:{},theme:{default:'gold'},exchangeAllTitle:{default:'将所有剩余转生点数兑换'},resetTitle:{default:'重置已兑换内容'},resetDisabled:{type:Boolean,default:!1}},emits:['update:modelValue','exchange','exchange-all','reset'],setup(e,{emit:t}){const a=e,l=t,o=(0,s.computed)({get:()=>a.modelValue,set:e=>l('update:modelValue',e)}),n=(0,s.computed)(()=>Math.max(0,Math.round(o.value))*a.gainPerPoint),c=(0,s.computed)(()=>o.value<=0||o.value>a.maxExchangeable),r=(0,s.computed)(()=>a.maxExchangeable<=0),i=(0,s.computed)(()=>`exchange-card--${a.theme}`);return(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['exchange-card',i.value])},[(0,s.createElementVNode)('div',is,[(0,s.createElementVNode)('span',ds,[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(e.iconClass)},null,2)]),(0,s.createElementVNode)('span',ms,(0,s.toDisplayString)(e.title),1),(0,s.createElementVNode)('span',us,(0,s.toDisplayString)(e.rateText),1)]),(0,s.createElementVNode)('div',ps,[(0,s.createElementVNode)('div',vs,[(0,s.createElementVNode)('span',Vs,(0,s.toDisplayString)(e.currentLabel),1),(0,s.createElementVNode)('span',fs,(0,s.toDisplayString)(e.currentValue),1),e.currentUnit?((0,s.openBlock)(),(0,s.createElementBlock)('span',ks,(0,s.toDisplayString)(e.currentUnit),1)):(0,s.createCommentVNode)('v-if',!0)]),(0,s.createElementVNode)('div',ys,[(0,s.createVNode)((0,s.unref)(Qa),{modelValue:o.value,'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),min:0,max:e.maxExchangeable,placeholder:'0',class:'exchange-input'},null,8,['modelValue','max']),(0,s.createElementVNode)('button',{class:'exchange-button',disabled:c.value,onClick:a[1]||(a[1]=e=>l('exchange'))},' 兑换 '+(0,s.toDisplayString)(n.value)+' '+(0,s.toDisplayString)(e.gainUnit),9,Ns),(0,s.createElementVNode)('button',{class:'exchange-all-button',disabled:r.value,title:e.exchangeAllTitle,onClick:a[2]||(a[2]=e=>l('exchange-all'))},' 全部兑换 ',8,Es),(0,s.createElementVNode)('button',{class:'exchange-reset-icon',disabled:e.resetDisabled,title:e.resetTitle,'aria-label':'重置',onClick:a[3]||(a[3]=e=>l('reset'))},[...a[4]||(a[4]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-rotate-left'},null,-1)])],8,gs)])])],2))}}),hs=(0,i.A)(bs,[['__scopeId','data-v-c35365ee']]),Bs=(0,s.defineComponent)({__name:'DestinyPointsExchange',setup(e){const t=x(),a=(0,s.ref)(0),l=(0,s.computed)(()=>{const e=Math.ceil(t.character.destinyPoints/2);return Math.max(0,t.character.reincarnationPoints-(t.consumedPoints-e))}),o=()=>{if(a.value<=0||a.value>l.value)return;const e=2*Math.max(0,Math.round(a.value));t.updateCharacterField('destinyPoints',e),a.value=0},n=()=>{l.value<=0||(t.updateCharacterField('destinyPoints',2*l.value),a.value=0)},c=()=>{t.resetDestinyExchange(),a.value=0};return(e,r)=>((0,s.openBlock)(),(0,s.createBlock)(hs,{modelValue:(0,s.unref)(a),'onUpdate:modelValue':r[0]||(r[0]=e=>(0,s.isRef)(a)?a.value=e:null),title:'命运点数','rate-text':'(1转生点 = 2命运点)','icon-class':'fa-solid fa-stars','current-label':'当前：','current-value':(0,s.unref)(t).character.destinyPoints,'gain-unit':'命运点','gain-per-point':2,'max-exchangeable':(0,s.unref)(l),theme:'violet','exchange-all-title':'将所有剩余转生点数兑换为命运点数','reset-title':'重置已兑换的命运点数','reset-disabled':(0,s.unref)(t).character.destinyPoints<=0,onExchange:o,onExchangeAll:n,onReset:c},null,8,['modelValue','current-value','max-exchangeable','reset-disabled']))}}),Cs={class:'level-tabs'},Ds=['onClick'],xs=(0,s.defineComponent)({__name:'LevelTabs',props:{modelValue:{},levels:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t;return(t,o)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Cs,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(a.levels,t=>((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:t,class:(0,s.normalizeClass)(['level-tab',{active:e.modelValue===t}]),onClick:e=>(e=>{l('update:modelValue',e)})(t)},(0,s.toDisplayString)(t),11,Ds))),128))]))}}),Ss=(0,i.A)(xs,[['__scopeId','data-v-18f949f6']]),ws={class:'background-page'},_s={class:'destined-ones-section'},Fs={class:'destined-ones-content'},Is={class:'background-section'},qs={class:'summary-section'},Ps={class:'summary-card'},$s={class:'summary-header'},Ls={class:'summary-title-row'},Ts={class:'points-info'},Os={class:'points-total'},As={class:'summary-content'},Us={key:0,class:'summary-group'},Ms={class:'summary-label'},Rs={class:'summary-items'},zs={class:'item-name'},js={class:'item-cost'},Gs=['onClick'],Ks={key:1,class:'summary-group'},Hs={class:'summary-items'},Qs={class:'summary-item full'},Ws={class:'item-name'},Js={key:2,class:'empty-state'},Xs=(0,s.defineComponent)({__name:'index',setup(e){const t=x(),a=pe(),l=(0,s.ref)(''),o=(0,s.ref)(''),n=(0,s.computed)(()=>Object.keys(Nt())),c=(0,s.computed)(()=>Object.keys(ft())),r=(0,s.computed)(()=>l.value&&Nt()[l.value]||[]),i=(0,s.computed)(()=>o.value&&ft()[o.value]||[]),d=(0,s.computed)(()=>t.character.reincarnationPoints-t.consumedPoints),m=e=>{t.addDestinedOne(e)},u=e=>{t.removeDestinedOne(e)},p=e=>{t.addDestinedOne(e)},v=e=>{t.setBackground(e)},V=e=>{a.updateCustomBackgroundDescription(e)},f=()=>{t.clearDestinedOnes(),t.setBackground(null),a.updateCustomBackgroundDescription('')};return(0,s.onMounted)(()=>{n.value.length>0&&(l.value=n.value[0]),c.value.length>0&&(o.value=c.value[0])}),(e,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',ws,[(0,s.createCommentVNode)(' 命定之人区域 '),(0,s.createElementVNode)('section',_s,[a[2]||(a[2]=(0,s.createElementVNode)('h2',{class:'section-title'},'选择命定之人',-1)),(0,s.createCommentVNode)(' 层级导航 '),(0,s.createVNode)(Ss,{modelValue:(0,s.unref)(l),'onUpdate:modelValue':a[0]||(a[0]=e=>(0,s.isRef)(l)?l.value=e:null),levels:(0,s.unref)(n)},null,8,['modelValue','levels']),(0,s.createCommentVNode)(' 命定之人列表 '),(0,s.createElementVNode)('div',Fs,[(0,s.createVNode)(rs,{items:(0,s.unref)(r),onSelect:m,onDeselect:u},null,8,['items'])])]),(0,s.createCommentVNode)(' 自定义命定之人表单 '),(0,s.createVNode)(Tn,{onAdd:p}),(0,s.createCommentVNode)(' 命运点数兑换 '),(0,s.createVNode)(Bs),(0,s.createCommentVNode)(' 初始剧情区域 - 使用通用布局组件 '),(0,s.createElementVNode)('section',Is,[a[3]||(a[3]=(0,s.createElementVNode)('h2',{class:'section-title'},'选择初始开局剧情',-1)),(0,s.createVNode)(pt,{modelValue:(0,s.unref)(o),'onUpdate:modelValue':a[1]||(a[1]=e=>(0,s.isRef)(o)?o.value=e:null),categories:(0,s.unref)(c)},{content:(0,s.withCtx)(()=>[(0,s.createVNode)(Ot,{items:(0,s.unref)(i),'selected-item':(0,s.unref)(t).selectedBackground,'character-race':(0,s.unref)(t).character.race,'character-location':(0,s.unref)(t).character.startLocation,'character-identity':(0,s.unref)(t).character.identity,onSelect:v,'onUpdate:customDescription':V},null,8,['items','selected-item','character-race','character-location','character-identity'])]),_:1},8,['modelValue','categories'])]),(0,s.createCommentVNode)(' 已选信息面板 '),(0,s.createElementVNode)('section',qs,[(0,s.createElementVNode)('div',Ps,[(0,s.createElementVNode)('div',$s,[(0,s.createElementVNode)('div',Ls,[a[5]||(a[5]=(0,s.createElementVNode)('h3',{class:'summary-title'},'已选择',-1)),(0,s.createElementVNode)('div',Ts,[(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['points-value',{insufficient:(0,s.unref)(d)<0}])},(0,s.toDisplayString)((0,s.unref)(d)),3),a[4]||(a[4]=(0,s.createElementVNode)('span',{class:'points-separator'},'/',-1)),(0,s.createElementVNode)('span',Os,(0,s.toDisplayString)((0,s.unref)(t).character.reincarnationPoints),1)])]),(0,s.unref)(t).selectedDestinedOnes.length>0||(0,s.unref)(t).selectedBackground?((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:0,class:'clear-btn',onClick:f},' 清空选择 ')):(0,s.createCommentVNode)('v-if',!0)]),(0,s.createElementVNode)('div',As,[(0,s.createCommentVNode)(' 命定之人摘要 '),(0,s.unref)(t).selectedDestinedOnes.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Us,[(0,s.createElementVNode)('div',Ms,' 命定之人 ('+(0,s.toDisplayString)((0,s.unref)(t).selectedDestinedOnes.length)+') ',1),(0,s.createElementVNode)('div',Rs,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(t).selectedDestinedOnes,e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:'summary-item'},[(0,s.createElementVNode)('span',zs,(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('span',js,(0,s.toDisplayString)(e.cost)+' 点',1),(0,s.createElementVNode)('button',{class:'remove-btn',onClick:t=>u(e)},[...a[6]||(a[6]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])],8,Gs)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 背景摘要 '),(0,s.unref)(t).selectedBackground?((0,s.openBlock)(),(0,s.createElementBlock)('div',Ks,[a[7]||(a[7]=(0,s.createElementVNode)('div',{class:'summary-label'},'初始开局剧情',-1)),(0,s.createElementVNode)('div',Hs,[(0,s.createElementVNode)('div',Qs,[(0,s.createElementVNode)('span',Ws,(0,s.toDisplayString)((0,s.unref)(t).selectedBackground.name),1)])])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 空状态提示 '),0!==(0,s.unref)(t).selectedDestinedOnes.length||(0,s.unref)(t).selectedBackground?(0,s.createCommentVNode)('v-if',!0):((0,s.openBlock)(),(0,s.createElementBlock)('div',Js,' 尚未选择任何内容 '))])])])]))}}),Ys=(0,i.A)(Xs,[['__scopeId','data-v-2f9de742']]),Zs={class:'basic-info'},er={class:'form-container'},tr={class:'form-row'},ar={class:'form-field'},lr={class:'form-field'},or={class:'form-row'},nr={class:'form-field'},cr={class:'form-field'},sr={class:'level-input-group'},rr={class:'level-indicator'},ir={class:'form-row'},dr={class:'form-field'},mr={class:'form-field'},ur={class:'form-row full-width'},pr={class:'form-field'},vr={class:'attributes-panel'},Vr={class:'panel-header'},fr={class:'ap-info'},kr={class:'panel-content'},yr={class:'attributes-grid'},Nr={class:'attribute-display'},Er={class:'final-value'},gr={key:0,class:'status-message error'},br={key:1,class:'status-message success'},hr={key:2,class:'status-message info'},Br=(0,s.defineComponent)({__name:'index',setup(e){const t=x(),{character:l}=a(t),{addAttributePoint:o,removeAttributePoint:n}=t,c=f,r=k,i=y,d=N,m=(0,s.computed)(()=>Object.keys(r.value)),u=(0,s.computed)(()=>Object.keys(i.value)),p=(0,s.computed)(()=>g(l.value.level)),v=(0,s.computed)(()=>l.value.reincarnationPoints-t.consumedPoints),V=(0,s.computed)(()=>{const e=l.value.level;return b(e)});return(e,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Zs,[(0,s.createElementVNode)('div',er,[(0,s.createCommentVNode)(' 第一行：姓名和性别 '),(0,s.createElementVNode)('div',tr,[(0,s.createElementVNode)('div',ar,[(0,s.createVNode)((0,s.unref)(Ma),{label:'姓名',required:''}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:(0,s.unref)(l).name,'onUpdate:modelValue':a[0]||(a[0]=e=>(0,s.unref)(l).name=e),placeholder:'请输入角色姓名'},null,8,['modelValue'])]),(0,s.createElementVNode)('div',lr,[(0,s.createVNode)((0,s.unref)(Ma),{label:'性别',required:''}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:(0,s.unref)(l).gender,'onUpdate:modelValue':a[1]||(a[1]=e=>(0,s.unref)(l).gender=e),options:(0,s.unref)(c)},null,8,['modelValue','options']),'自定义'===(0,s.unref)(l).gender?((0,s.openBlock)(),(0,s.createBlock)((0,s.unref)(ht),{key:0,modelValue:(0,s.unref)(l).customGender,'onUpdate:modelValue':a[2]||(a[2]=e=>(0,s.unref)(l).customGender=e),rows:2,placeholder:'请输入自定义性别'},null,8,['modelValue'])):(0,s.createCommentVNode)('v-if',!0)])]),(0,s.createCommentVNode)(' 第二行：年龄和等级 '),(0,s.createElementVNode)('div',or,[(0,s.createElementVNode)('div',nr,[(0,s.createVNode)((0,s.unref)(Ma),{label:'年龄'}),(0,s.createVNode)((0,s.unref)(Qa),{modelValue:(0,s.unref)(l).age,'onUpdate:modelValue':a[3]||(a[3]=e=>(0,s.unref)(l).age=e),min:1,max:1e4},null,8,['modelValue'])]),(0,s.createElementVNode)('div',cr,[(0,s.createVNode)((0,s.unref)(Ma),{label:'等级',required:''}),(0,s.createElementVNode)('div',sr,[(0,s.createVNode)((0,s.unref)(Qa),{modelValue:(0,s.unref)(l).level,'onUpdate:modelValue':a[4]||(a[4]=e=>(0,s.unref)(l).level=e),min:(0,s.unref)(1),max:(0,s.unref)(10)},null,8,['modelValue','min','max']),(0,s.createElementVNode)('span',rr,(0,s.toDisplayString)((0,s.unref)(V)),1)])])]),(0,s.createCommentVNode)(' 第三行：种族和身份 '),(0,s.createElementVNode)('div',ir,[(0,s.createElementVNode)('div',dr,[(0,s.createVNode)((0,s.unref)(Ma),{label:'种族',required:''}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:(0,s.unref)(l).race,'onUpdate:modelValue':a[5]||(a[5]=e=>(0,s.unref)(l).race=e),options:(0,s.unref)(m).map(e=>({label:e+(0!==(0,s.unref)(r)[e]?` (${(0,s.unref)(r)[e]>0?'-':'+'}${Math.abs((0,s.unref)(r)[e])}点)`:''),value:e}))},null,8,['modelValue','options']),'自定义'===(0,s.unref)(l).race?((0,s.openBlock)(),(0,s.createBlock)((0,s.unref)(ht),{key:0,modelValue:(0,s.unref)(l).customRace,'onUpdate:modelValue':a[6]||(a[6]=e=>(0,s.unref)(l).customRace=e),rows:2,placeholder:'请输入自定义种族'},null,8,['modelValue'])):(0,s.createCommentVNode)('v-if',!0)]),(0,s.createElementVNode)('div',mr,[(0,s.createVNode)((0,s.unref)(Ma),{label:'身份',required:''}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:(0,s.unref)(l).identity,'onUpdate:modelValue':a[7]||(a[7]=e=>(0,s.unref)(l).identity=e),options:(0,s.unref)(u).map(e=>({label:e+(0!==(0,s.unref)(i)[e]?` (${(0,s.unref)(i)[e]>0?'-':'+'}${Math.abs((0,s.unref)(i)[e])}点)`:''),value:e}))},null,8,['modelValue','options']),'自定义'===(0,s.unref)(l).identity?((0,s.openBlock)(),(0,s.createBlock)((0,s.unref)(ht),{key:0,modelValue:(0,s.unref)(l).customIdentity,'onUpdate:modelValue':a[8]||(a[8]=e=>(0,s.unref)(l).customIdentity=e),rows:2,placeholder:'请输入自定义身份'},null,8,['modelValue'])):(0,s.createCommentVNode)('v-if',!0)])]),(0,s.createCommentVNode)(' 第四行：起始地点 '),(0,s.createElementVNode)('div',ur,[(0,s.createElementVNode)('div',pr,[(0,s.createVNode)((0,s.unref)(Ma),{label:'起始地点',required:''}),(0,s.createVNode)((0,s.unref)(ol),{modelValue:(0,s.unref)(l).startLocation,'onUpdate:modelValue':a[9]||(a[9]=e=>(0,s.unref)(l).startLocation=e),options:(0,s.unref)(d)},null,8,['modelValue','options']),'自定义'===(0,s.unref)(l).startLocation?((0,s.openBlock)(),(0,s.createBlock)((0,s.unref)(ht),{key:0,modelValue:(0,s.unref)(l).customStartLocation,'onUpdate:modelValue':a[10]||(a[10]=e=>(0,s.unref)(l).customStartLocation=e),rows:2,placeholder:'请输入自定义起始地点'},null,8,['modelValue'])):(0,s.createCommentVNode)('v-if',!0)])]),(0,s.createCommentVNode)(' 初始属性分配面板 '),(0,s.createElementVNode)('div',vr,[(0,s.createElementVNode)('div',Vr,[a[12]||(a[12]=(0,s.createElementVNode)('h3',null,'初始属性分配',-1)),(0,s.createElementVNode)('div',fr,[(0,s.createElementVNode)('span',null,[a[11]||(a[11]=(0,s.createTextVNode)('剩余AP: ',-1)),(0,s.createElementVNode)('strong',{class:(0,s.normalizeClass)({error:(0,s.unref)(t).remainingAP<0,success:0===(0,s.unref)(t).remainingAP})},(0,s.toDisplayString)((0,s.unref)(t).remainingAP),3),(0,s.createTextVNode)(' / '+(0,s.toDisplayString)((0,s.unref)(t).maxAP),1)])])]),(0,s.createElementVNode)('div',kr,[(0,s.createElementVNode)('div',yr,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(E),e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e,class:'attribute-item'},[(0,s.createVNode)((0,s.unref)(ul),{'model-value':(0,s.unref)(l).attributePoints[e],label:e,min:0,max:(0,s.unref)(t).maxAP,'disable-increment':(0,s.unref)(t).remainingAP<=0,onIncrement:t=>(0,s.unref)(o)(e),onDecrement:t=>(0,s.unref)(n)(e)},null,8,['model-value','label','max','disable-increment','onIncrement','onDecrement']),(0,s.createElementVNode)('div',Nr,[(0,s.createTextVNode)((0,s.toDisplayString)((0,s.unref)(4))+' ',1),a[13]||(a[13]=(0,s.createElementVNode)('span',{class:'dim'},'(基础)',-1)),(0,s.createTextVNode)(' + '+(0,s.toDisplayString)((0,s.unref)(p))+' ',1),a[14]||(a[14]=(0,s.createElementVNode)('span',{class:'dim'},'(层级)',-1)),(0,s.createTextVNode)(' + '+(0,s.toDisplayString)((0,s.unref)(l).attributePoints[e])+' ',1),a[15]||(a[15]=(0,s.createElementVNode)('span',{class:'dim'},'(额外)',-1)),a[16]||(a[16]=(0,s.createTextVNode)(' = ',-1)),(0,s.createElementVNode)('strong',Er,(0,s.toDisplayString)((0,s.unref)(t).finalAttributes[e]),1)])]))),128))]),(0,s.unref)(v)<0?((0,s.openBlock)(),(0,s.createElementBlock)('div',gr,' ⚠️ 转生点数不足！ ')):0===(0,s.unref)(t).remainingAP?((0,s.openBlock)(),(0,s.createElementBlock)('div',br,' ✓ 属性点已全部分配 ')):(0,s.unref)(t).remainingAP>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',hr,' 还有 '+(0,s.toDisplayString)((0,s.unref)(t).remainingAP)+' 点未分配 ',1)):(0,s.createCommentVNode)('v-if',!0)])])])]))}}),Cr=(0,i.A)(Br,[['__scopeId','data-v-7e9beb9a']]),Dr={class:'confirm-page'},xr={class:'confirm-panel'},Sr={class:'panel-content'},wr={class:'doc-section points-section'},_r={class:'points-grid'},Fr={class:'point-item'},Ir={class:'point-value gold'},qr={class:'point-item'},Pr={class:'point-value'},$r={class:'point-item'},Lr={class:'point-item destiny'},Tr={class:'point-value purple'},Or={class:'doc-section'},Ar={class:'doc-text'},Ur={class:'doc-section'},Mr={class:'doc-text attributes'},Rr={class:'attr-detail'},zr={class:'doc-section'},jr={class:'section-title'},Gr={key:0,class:'doc-text'},Kr={class:'item-title'},Hr={class:'item-cost'},Qr={class:'item-meta'},Wr={key:0},Jr={key:0,class:'item-desc'},Xr={key:1,class:'item-desc'},Yr={key:2,class:'item-flavor'},Zr={key:1,class:'empty-text'},ei={class:'doc-section'},ti={class:'section-title'},ai={key:0,class:'doc-text'},li={class:'item-title'},oi={key:0,class:'item-quantity'},ni={class:'item-cost'},ci={class:'item-meta'},si={key:0},ri={key:0,class:'item-desc'},ii={key:1,class:'item-desc'},di={key:2,class:'item-flavor'},mi={key:1,class:'empty-text'},ui={class:'doc-section'},pi={class:'section-title'},vi={key:0,class:'doc-text'},Vi={class:'item-title'},fi={class:'item-cost'},ki={class:'item-meta'},yi={key:0},Ni={key:1},Ei={key:0,class:'item-desc'},gi={key:1,class:'item-desc'},bi={key:2,class:'item-flavor'},hi={key:1,class:'empty-text'},Bi={class:'doc-section'},Ci={class:'section-title'},Di={key:0,class:'doc-text'},xi={class:'item-title'},Si={class:'item-cost'},wi={class:'item-meta'},_i={key:0},Fi={key:1,class:'sub-list'},Ii={key:0,class:'sub-item'},qi={key:0,class:'sub-item'},Pi={class:'sub-item'},$i={key:1,class:'sub-item'},Li={class:'sub-item'},Ti={key:2,class:'sub-item'},Oi={class:'sub-item'},Ai={key:3,class:'sub-item'},Ui={key:4,class:'sub-item'},Mi={key:0,class:'sub-item'},Ri={key:1,class:'sub-item'},zi={key:2,class:'item-flavor'},ji={key:3,class:'sub-list'},Gi={key:4,class:'sub-list'},Ki={key:1,class:'empty-text'},Hi={class:'doc-section'},Qi={key:0,class:'doc-text'},Wi={class:'item-title'},Ji={key:0,class:'item-meta'},Xi={key:0},Yi={key:1},Zi={key:2},ed={key:1,class:'background-desc'},td={key:2,class:'background-desc'},ad={key:1,class:'empty-text'},ld={key:0,class:'final-notice'},od={key:0,class:'notice warning'},nd={key:1,class:'notice info'},cd=(0,s.defineComponent)({__name:'index',setup(e){const t=x(),a=pe(),l=(0,s.computed)(()=>t.consumedPoints),o=(0,s.computed)(()=>t.character.reincarnationPoints-l.value),n=(0,s.computed)(()=>'自定义'===t.character.gender?t.character.customGender||'自定义':t.character.gender),c=(0,s.computed)(()=>'自定义'===t.character.race?t.character.customRace||'自定义':t.character.race),r=(0,s.computed)(()=>'自定义'===t.character.identity?t.character.customIdentity||'自定义':t.character.identity),i=(0,s.computed)(()=>'自定义'===t.character.startLocation?t.character.customStartLocation||'自定义':t.character.startLocation),d={common:'#9e9e9e',uncommon:'#4caf50',rare:'#2196f3',epic:'#9c27b0',legendary:'#ff9800',mythic:'#e91e63',only:'#ff0000'},m=e=>Object.entries(e||{}).map(([e,t])=>({name:e,effects:Object.entries(t||{}).map(([e,t])=>({key:e,value:t}))})),u=e=>{const t=e.stairway;if(!t?.isOpen)return{isOpen:!1,isSimple:!1,text:'',elements:[],powers:[],laws:[],godlyRank:'',godKingdom:void 0};const a=m(t.elements),l=m(t.powers),o=m(t.laws),n=e.isCustom;return{isOpen:!0,isSimple:n,text:n&&t.elements?.custom?.desc||'',elements:a,powers:l,laws:o,godlyRank:t.godlyRank||'',godKingdom:t.godKingdom}};return(e,m)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',Dr,[(0,s.createElementVNode)('div',xr,[(0,s.createCommentVNode)(' 标题 '),m[31]||(m[31]=(0,s.createElementVNode)('div',{class:'panel-header'},[(0,s.createElementVNode)('h2',{class:'panel-title'},'信息确认'),(0,s.createElementVNode)('p',{class:'panel-subtitle'},'非自定义数据（除了装备）会直接写入 MVU 变量中，不会发送给 AI')],-1)),(0,s.createCommentVNode)(' 文档内容 '),(0,s.createElementVNode)('div',Sr,[(0,s.createCommentVNode)(' 点数统计 '),(0,s.createElementVNode)('section',wr,[(0,s.createElementVNode)('div',_r,[(0,s.createElementVNode)('div',Fr,[m[0]||(m[0]=(0,s.createElementVNode)('span',{class:'point-label'},'转生点数',-1)),(0,s.createElementVNode)('span',Ir,(0,s.toDisplayString)((0,s.unref)(t).character.reincarnationPoints),1)]),(0,s.createElementVNode)('div',qr,[m[1]||(m[1]=(0,s.createElementVNode)('span',{class:'point-label'},'已消耗',-1)),(0,s.createElementVNode)('span',Pr,(0,s.toDisplayString)(l.value),1)]),(0,s.createElementVNode)('div',$r,[m[2]||(m[2]=(0,s.createElementVNode)('span',{class:'point-label'},'剩余',-1)),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['point-value',{negative:o.value<0,positive:o.value>=0}])},(0,s.toDisplayString)(o.value),3)]),(0,s.createElementVNode)('div',Lr,[m[3]||(m[3]=(0,s.createElementVNode)('span',{class:'point-label'},'命运点数',-1)),(0,s.createElementVNode)('span',Tr,(0,s.toDisplayString)((0,s.unref)(t).character.destinyPoints),1)])])]),(0,s.createCommentVNode)(' 基本信息 '),(0,s.createElementVNode)('section',Or,[m[12]||(m[12]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-clipboard-list','aria-hidden':'true'}),(0,s.createElementVNode)('span',null,'基本信息')],-1)),(0,s.createElementVNode)('div',Ar,[(0,s.createElementVNode)('p',null,[m[4]||(m[4]=(0,s.createElementVNode)('strong',null,'姓名：',-1)),(0,s.createTextVNode)((0,s.toDisplayString)((0,s.unref)(t).character.name||'（未设置）'),1)]),(0,s.createElementVNode)('p',null,[m[5]||(m[5]=(0,s.createElementVNode)('strong',null,'性别：',-1)),(0,s.createTextVNode)((0,s.toDisplayString)(n.value),1)]),(0,s.createElementVNode)('p',null,[m[6]||(m[6]=(0,s.createElementVNode)('strong',null,'年龄：',-1)),(0,s.createTextVNode)((0,s.toDisplayString)((0,s.unref)(t).character.age)+' 岁',1)]),(0,s.createElementVNode)('p',null,[m[7]||(m[7]=(0,s.createElementVNode)('strong',null,'种族：',-1)),(0,s.createTextVNode)((0,s.toDisplayString)(c.value),1)]),(0,s.createElementVNode)('p',null,[m[8]||(m[8]=(0,s.createElementVNode)('strong',null,'身份：',-1)),(0,s.createTextVNode)((0,s.toDisplayString)(r.value),1)]),(0,s.createElementVNode)('p',null,[m[9]||(m[9]=(0,s.createElementVNode)('strong',null,'出生地：',-1)),(0,s.createTextVNode)((0,s.toDisplayString)(i.value),1)]),(0,s.createElementVNode)('p',null,[m[10]||(m[10]=(0,s.createElementVNode)('strong',null,'等级：',-1)),(0,s.createTextVNode)('Lv.'+(0,s.toDisplayString)((0,s.unref)(t).character.level),1)]),(0,s.createElementVNode)('p',null,[m[11]||(m[11]=(0,s.createElementVNode)('strong',null,'金钱：',-1)),(0,s.createTextVNode)((0,s.toDisplayString)((0,s.unref)(t).character.money)+' G',1)])])]),(0,s.createCommentVNode)(' 属性 '),(0,s.createElementVNode)('section',Ur,[m[13]||(m[13]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-shield-halved','aria-hidden':'true'}),(0,s.createElementVNode)('span',null,'角色属性')],-1)),(0,s.createElementVNode)('div',Mr,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(t).finalAttributes,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('p',{key:t},[(0,s.createElementVNode)('strong',null,(0,s.toDisplayString)(t)+'：',1),(0,s.createElementVNode)('span',Rr,(0,s.toDisplayString)(e),1)]))),128))])]),(0,s.createCommentVNode)(' 装备 '),(0,s.createElementVNode)('section',zr,[(0,s.createElementVNode)('h3',jr,[m[14]||(m[14]=(0,s.createElementVNode)('i',{class:'fa-solid fa-shield-halved','aria-hidden':'true'},null,-1)),(0,s.createElementVNode)('span',null,'装备 ('+(0,s.toDisplayString)((0,s.unref)(t).selectedEquipments.length)+')',1)]),(0,s.unref)(t).selectedEquipments.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Gr,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(t).selectedEquipments,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,s.createElementVNode)('p',Kr,[(0,s.createElementVNode)('strong',null,(0,s.toDisplayString)(t+1)+'. ',1),(0,s.createElementVNode)('span',{style:(0,s.normalizeStyle)({color:d[e.rarity]})},(0,s.toDisplayString)(e.name),5),(0,s.createElementVNode)('span',Hr,'['+(0,s.toDisplayString)(e.cost)+' 点]',1)]),(0,s.createElementVNode)('p',Qr,[(0,s.createTextVNode)(' 类型：'+(0,s.toDisplayString)(e.type)+' ',1),e.tag&&e.tag.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('span',Wr,' | 标签：'+(0,s.toDisplayString)(e.tag.join('、')),1)):(0,s.createCommentVNode)('v-if',!0)]),Object.keys(e.effect||{}).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('p',Jr,[m[15]||(m[15]=(0,s.createTextVNode)(' 效果： ',-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.effect,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:t,class:'effect-inline'},(0,s.toDisplayString)(t)+'：'+(0,s.toDisplayString)(e),1))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('p',Xr,'效果：无')),e.description?((0,s.openBlock)(),(0,s.createElementBlock)('p',Yr,(0,s.toDisplayString)(e.description),1)):(0,s.createCommentVNode)('v-if',!0)]))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('p',Zr,'未选择装备'))]),(0,s.createCommentVNode)(' 道具 '),(0,s.createElementVNode)('section',ei,[(0,s.createElementVNode)('h3',ti,[m[16]||(m[16]=(0,s.createElementVNode)('i',{class:'fa-solid fa-box-open','aria-hidden':'true'},null,-1)),(0,s.createElementVNode)('span',null,'道具 ('+(0,s.toDisplayString)((0,s.unref)(t).selectedItems.length)+')',1)]),(0,s.unref)(t).selectedItems.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',ai,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(t).selectedItems,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,s.createElementVNode)('p',li,[(0,s.createElementVNode)('strong',null,(0,s.toDisplayString)(t+1)+'. ',1),(0,s.createElementVNode)('span',{style:(0,s.normalizeStyle)({color:d[e.rarity]})},(0,s.toDisplayString)(e.name),5),e.quantity?((0,s.openBlock)(),(0,s.createElementBlock)('span',oi,'× '+(0,s.toDisplayString)(e.quantity),1)):(0,s.createCommentVNode)('v-if',!0),(0,s.createElementVNode)('span',ni,'['+(0,s.toDisplayString)(e.cost)+' 点]',1)]),(0,s.createElementVNode)('p',ci,[(0,s.createTextVNode)(' 类型：'+(0,s.toDisplayString)(e.type)+' ',1),e.tag&&e.tag.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('span',si,' | 标签：'+(0,s.toDisplayString)(e.tag.join('、')),1)):(0,s.createCommentVNode)('v-if',!0)]),Object.keys(e.effect||{}).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('p',ri,[m[17]||(m[17]=(0,s.createTextVNode)(' 效果： ',-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.effect,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:t,class:'effect-inline'},(0,s.toDisplayString)(t)+'：'+(0,s.toDisplayString)(e),1))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('p',ii,'效果：无')),e.description?((0,s.openBlock)(),(0,s.createElementBlock)('p',di,(0,s.toDisplayString)(e.description),1)):(0,s.createCommentVNode)('v-if',!0)]))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('p',mi,'未选择道具'))]),(0,s.createCommentVNode)(' 技能 '),(0,s.createElementVNode)('section',ui,[(0,s.createElementVNode)('h3',pi,[m[18]||(m[18]=(0,s.createElementVNode)('i',{class:'fa-solid fa-wand-magic','aria-hidden':'true'},null,-1)),(0,s.createElementVNode)('span',null,'技能 ('+(0,s.toDisplayString)((0,s.unref)(t).selectedSkills.length)+')',1)]),(0,s.unref)(t).selectedSkills.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',vi,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(t).selectedSkills,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,s.createElementVNode)('p',Vi,[(0,s.createElementVNode)('strong',null,(0,s.toDisplayString)(t+1)+'. ',1),(0,s.createElementVNode)('span',{style:(0,s.normalizeStyle)({color:d[e.rarity]})},(0,s.toDisplayString)(e.name),5),(0,s.createElementVNode)('span',fi,'['+(0,s.toDisplayString)(e.cost)+' 点]',1)]),(0,s.createElementVNode)('p',ki,[(0,s.createTextVNode)(' 类型：'+(0,s.toDisplayString)(e.type)+' ',1),e.tag&&e.tag.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('span',yi,' | 标签：'+(0,s.toDisplayString)(e.tag.join('、')),1)):(0,s.createCommentVNode)('v-if',!0),e.consume?((0,s.openBlock)(),(0,s.createElementBlock)('span',Ni,' | 消耗：'+(0,s.toDisplayString)(e.consume),1)):(0,s.createCommentVNode)('v-if',!0)]),Object.keys(e.effect||{}).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('p',Ei,[m[19]||(m[19]=(0,s.createTextVNode)(' 效果： ',-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.effect,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:t,class:'effect-inline'},(0,s.toDisplayString)(t)+'：'+(0,s.toDisplayString)(e),1))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('p',gi,'效果：无')),e.description?((0,s.openBlock)(),(0,s.createElementBlock)('p',bi,(0,s.toDisplayString)(e.description),1)):(0,s.createCommentVNode)('v-if',!0)]))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('p',hi,'未选择技能'))]),(0,s.createCommentVNode)(' 命定之人 '),(0,s.createElementVNode)('section',Bi,[(0,s.createElementVNode)('h3',Ci,[m[20]||(m[20]=(0,s.createElementVNode)('i',{class:'fa-solid fa-user-astronaut','aria-hidden':'true'},null,-1)),(0,s.createElementVNode)('span',null,'命定之人 ('+(0,s.toDisplayString)((0,s.unref)(t).selectedDestinedOnes.length)+')',1)]),(0,s.unref)(t).selectedDestinedOnes.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Di,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(t).selectedDestinedOnes,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:'destined-entry'},[(0,s.createElementVNode)('p',xi,[(0,s.createElementVNode)('strong',null,(0,s.toDisplayString)(t+1)+'. '+(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('span',Si,'['+(0,s.toDisplayString)(e.cost)+' 点]',1)]),(0,s.createElementVNode)('p',wi,(0,s.toDisplayString)(e.race)+' | '+(0,s.toDisplayString)(e.identity.join('、'))+' | Lv.'+(0,s.toDisplayString)(e.level)+' | '+(0,s.toDisplayString)(e.lifeLevel),1),e.backgroundInfo?((0,s.openBlock)(),(0,s.createElementBlock)('p',_i,(0,s.toDisplayString)(e.backgroundInfo),1)):(0,s.createCommentVNode)('v-if',!0),u(e).isOpen?((0,s.openBlock)(),(0,s.createElementBlock)('div',Fi,[m[25]||(m[25]=(0,s.createElementVNode)('p',null,[(0,s.createElementVNode)('strong',null,'登神长阶：')],-1)),u(e).isSimple?((0,s.openBlock)(),(0,s.createElementBlock)('p',Ii,' • '+(0,s.toDisplayString)(u(e).text),1)):((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:1},[u(e).elements.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',qi,[m[21]||(m[21]=(0,s.createElementVNode)('p',null,[(0,s.createElementVNode)('strong',null,'要素：')],-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(u(e).elements,e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:`element-${e.name}`,class:'sub-item'},[(0,s.createElementVNode)('p',Pi,'• '+(0,s.toDisplayString)(e.name),1),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.effects,t=>((0,s.openBlock)(),(0,s.createElementBlock)('p',{key:`element-${e.name}-${t.key}`,class:'sub-item'},' • '+(0,s.toDisplayString)(t.key)+'：'+(0,s.toDisplayString)(t.value),1))),128))]))),128))])):(0,s.createCommentVNode)('v-if',!0),u(e).powers.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',$i,[m[22]||(m[22]=(0,s.createElementVNode)('p',null,[(0,s.createElementVNode)('strong',null,'权能：')],-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(u(e).powers,e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:`power-${e.name}`,class:'sub-item'},[(0,s.createElementVNode)('p',Li,'• '+(0,s.toDisplayString)(e.name),1),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.effects,t=>((0,s.openBlock)(),(0,s.createElementBlock)('p',{key:`power-${e.name}-${t.key}`,class:'sub-item'},' • '+(0,s.toDisplayString)(t.key)+'：'+(0,s.toDisplayString)(t.value),1))),128))]))),128))])):(0,s.createCommentVNode)('v-if',!0),u(e).laws.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Ti,[m[23]||(m[23]=(0,s.createElementVNode)('p',null,[(0,s.createElementVNode)('strong',null,'法则：')],-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(u(e).laws,e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:`law-${e.name}`,class:'sub-item'},[(0,s.createElementVNode)('p',Oi,'• '+(0,s.toDisplayString)(e.name),1),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.effects,t=>((0,s.openBlock)(),(0,s.createElementBlock)('p',{key:`law-${e.name}-${t.key}`,class:'sub-item'},' • '+(0,s.toDisplayString)(t.key)+'：'+(0,s.toDisplayString)(t.value),1))),128))]))),128))])):(0,s.createCommentVNode)('v-if',!0),u(e).godlyRank?((0,s.openBlock)(),(0,s.createElementBlock)('p',Ai,' • 神位：'+(0,s.toDisplayString)(u(e).godlyRank),1)):(0,s.createCommentVNode)('v-if',!0),u(e).godKingdom?.name||u(e).godKingdom?.description?((0,s.openBlock)(),(0,s.createElementBlock)('div',Ui,[m[24]||(m[24]=(0,s.createElementVNode)('p',null,[(0,s.createElementVNode)('strong',null,'神国：')],-1)),u(e).godKingdom?.name?((0,s.openBlock)(),(0,s.createElementBlock)('p',Mi,' • 名称：'+(0,s.toDisplayString)(u(e).godKingdom?.name),1)):(0,s.createCommentVNode)('v-if',!0),u(e).godKingdom?.description?((0,s.openBlock)(),(0,s.createElementBlock)('p',Ri,' • 描述：'+(0,s.toDisplayString)(u(e).godKingdom?.description),1)):(0,s.createCommentVNode)('v-if',!0)])):(0,s.createCommentVNode)('v-if',!0)],64))])):(0,s.createCommentVNode)('v-if',!0),e.comment?((0,s.openBlock)(),(0,s.createElementBlock)('p',zi,(0,s.toDisplayString)(e.comment),1)):(0,s.createCommentVNode)('v-if',!0),e.equip&&e.equip.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',ji,[m[26]||(m[26]=(0,s.createElementVNode)('p',null,[(0,s.createElementVNode)('strong',null,'装备：')],-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.equip,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('p',{key:t,class:'sub-item'},' • '+(0,s.toDisplayString)(e.name||e),1))),128))])):(0,s.createCommentVNode)('v-if',!0),e.skills&&e.skills.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Gi,[m[27]||(m[27]=(0,s.createElementVNode)('p',null,[(0,s.createElementVNode)('strong',null,'技能：')],-1)),((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.skills,(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('p',{key:t,class:'sub-item'},'• '+(0,s.toDisplayString)(e.name),1))),128))])):(0,s.createCommentVNode)('v-if',!0)]))),128))])):((0,s.openBlock)(),(0,s.createElementBlock)('p',Ki,'未选择命定之人'))]),(0,s.createCommentVNode)(' 初始开局 '),(0,s.createElementVNode)('section',Hi,[m[28]||(m[28]=(0,s.createElementVNode)('h3',{class:'section-title'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-book-open','aria-hidden':'true'}),(0,s.createElementVNode)('span',null,'初始开局剧情')],-1)),(0,s.unref)(t).selectedBackground?((0,s.openBlock)(),(0,s.createElementBlock)('div',Qi,[(0,s.createElementVNode)('p',Wi,[(0,s.createElementVNode)('strong',null,(0,s.toDisplayString)((0,s.unref)(t).selectedBackground.name),1)]),(0,s.unref)(t).selectedBackground.race||(0,s.unref)(t).selectedBackground.location?((0,s.openBlock)(),(0,s.createElementBlock)('p',Ji,[(0,s.unref)(t).selectedBackground.race?((0,s.openBlock)(),(0,s.createElementBlock)('span',Xi,'种族：'+(0,s.toDisplayString)((0,s.unref)(t).selectedBackground.race),1)):(0,s.createCommentVNode)('v-if',!0),(0,s.unref)(t).selectedBackground.race&&(0,s.unref)(t).selectedBackground.location?((0,s.openBlock)(),(0,s.createElementBlock)('span',Yi,' | ')):(0,s.createCommentVNode)('v-if',!0),(0,s.unref)(t).selectedBackground.location?((0,s.openBlock)(),(0,s.createElementBlock)('span',Zi,'地点：'+(0,s.toDisplayString)((0,s.unref)(t).selectedBackground.location),1)):(0,s.createCommentVNode)('v-if',!0)])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 自定义开局显示用户输入的内容，否则显示预设描述 '),'【自定义开局】'===(0,s.unref)(t).selectedBackground.name&&(0,s.unref)(a).customBackgroundDescription?((0,s.openBlock)(),(0,s.createElementBlock)('p',ed,(0,s.toDisplayString)((0,s.unref)(a).customBackgroundDescription),1)):((0,s.openBlock)(),(0,s.createElementBlock)('p',td,(0,s.toDisplayString)((0,s.unref)(t).selectedBackground.description),1))])):((0,s.openBlock)(),(0,s.createElementBlock)('p',ad,'未选择初始开局剧情'))]),(0,s.createCommentVNode)(' 提示信息 '),0!==o.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',ld,[o.value<0?((0,s.openBlock)(),(0,s.createElementBlock)('div',od,[m[29]||(m[29]=(0,s.createElementVNode)('i',{class:'fa-solid fa-triangle-exclamation','aria-hidden':'true'},null,-1)),(0,s.createElementVNode)('span',null,'警告：转生点数不足 '+(0,s.toDisplayString)(Math.abs(o.value))+' 点，请返回调整',1)])):((0,s.openBlock)(),(0,s.createElementBlock)('div',nd,[m[30]||(m[30]=(0,s.createElementVNode)('i',{class:'fa-solid fa-circle-info','aria-hidden':'true'},null,-1)),(0,s.createElementVNode)('span',null,'提示：还有 '+(0,s.toDisplayString)(o.value)+' 点转生点数未使用',1)]))])):(0,s.createCommentVNode)('v-if',!0)])])]))}}),sd=(0,i.A)(cd,[['__scopeId','data-v-4bd0f2d6']]),rd={};let id=null;!async function(){const e=await async function(){return p('equipments.json','装备')}(),t=v(rd,e);id=t}();const dd={};let md=null;!async function(){const e=await async function(){return p('items.json','道具')}();md=v(dd,e)}();const ud={class:'category-tabs'},pd=['onClick'],vd={class:'tab-icon','aria-hidden':'true'},Vd={class:'tab-label'},fd=(0,s.defineComponent)({__name:'CategoryTabs',props:{modelValue:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=t,l=[{key:'equipment',label:'装备',icon:'fa-solid fa-shield-halved'},{key:'item',label:'道具',icon:'fa-solid fa-box-open'},{key:'skill',label:'技能',icon:'fa-solid fa-wand-magic'}];return(t,o)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',ud,[((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(l,t=>(0,s.createElementVNode)('button',{key:t.key,class:(0,s.normalizeClass)(['tab-button',{active:e.modelValue===t.key}]),onClick:e=>{return l=t.key,void a('update:modelValue',l);var l}},[(0,s.createElementVNode)('span',vd,[(0,s.createElementVNode)('i',{class:(0,s.normalizeClass)(t.icon)},null,2)]),(0,s.createElementVNode)('span',Vd,(0,s.toDisplayString)(t.label),1)],10,pd)),64))]))}}),kd=(0,i.A)(fd,[['__scopeId','data-v-53e67b8a']]),yd={class:'form-body'},Nd={class:'form-row'},Ed={class:'category-buttons'},gd=['onClick'],bd={class:'form-row'},hd={class:'form-row'},Bd={class:'form-row'},Cd={class:'rarity-buttons'},Dd=['onClick'],xd={class:'cost-info'},Sd={class:'cost-value'},wd={class:'cost-range'},_d={class:'form-row'},Fd={key:0,class:'form-row'},Id={key:1,class:'form-row'},qd={class:'form-row'},Pd={class:'form-row'},$d={class:'form-actions'},Ld=['disabled'],Td=(0,s.defineComponent)({__name:'CustomItemForm',emits:['add'],setup(e,{emit:t}){const a=t,l=pe(),o=(0,s.ref)(!1),n=(0,s.ref)(!1),c=(0,s.ref)(!1),r=(0,s.computed)({get:()=>l.customItemForm.categoryType,set:e=>l.updateCustomItemForm('categoryType',e)}),i=(0,s.computed)({get:()=>l.customItemForm.customItemType,set:e=>l.updateCustomItemForm('customItemType',e)}),d=(0,s.computed)({get:()=>l.customItemForm.itemName,set:e=>l.updateCustomItemForm('itemName',e)}),m=(0,s.computed)({get:()=>l.customItemForm.itemRarity,set:e=>l.updateCustomItemForm('itemRarity',e)}),u=(0,s.computed)({get:()=>l.customItemForm.itemTag,set:e=>l.updateCustomItemForm('itemTag',e)}),p=(0,s.computed)({get:()=>l.customItemForm.itemEffect,set:e=>l.updateCustomItemForm('itemEffect',e)}),v=(0,s.computed)({get:()=>l.customItemForm.itemDescription,set:e=>l.updateCustomItemForm('itemDescription',e)}),V=(0,s.computed)({get:()=>l.customItemForm.itemConsume,set:e=>l.updateCustomItemForm('itemConsume',e)}),f=(0,s.computed)({get:()=>l.customItemForm.itemQuantity,set:e=>l.updateCustomItemForm('itemQuantity',e)}),k=gl,y=Bl,N=(0,s.computed)(()=>{const e=.5+.5*Math.random();return function(e,t=.5){const a=pl[e],l=a.min+(a.max-a.min)*t;return Math.round(l)}(m.value,e)}),E=(0,s.computed)(()=>function(e){const t=pl[e];return`${t.min}-${t.max}`}(m.value)),g=(0,s.computed)(()=>''!==d.value.trim()&&''!==i.value.trim()&&Object.keys(p.value||{}).length>0),b=()=>{l.resetCustomItemForm()},h=()=>{n.value=!0},B=()=>{n.value=!1,b()},C=()=>{n.value=!1},D=()=>{g.value&&(c.value=!0)},x=()=>{c.value=!1},S=()=>{c.value=!1;const e={name:d.value.trim(),cost:N.value,type:i.value.trim(),tag:u.value,rarity:m.value,effect:p.value,description:v.value.trim()||'自定义物品',isCustom:!0};let t;t='skill'===r.value?{...e,consume:V.value.trim()||'',isCustom:!0}:'item'===r.value?{...e,quantity:f.value,isCustom:!0}:e,a('add',t,r.value),b()};return(e,t)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['custom-item-form',{expanded:o.value}])},[(0,s.createElementVNode)('div',{class:'form-header',onClick:t[0]||(t[0]=e=>o.value=!o.value)},[t[8]||(t[8]=(0,s.createElementVNode)('div',{class:'header-left'},[(0,s.createElementVNode)('h3',{class:'form-title'},'✨ 自定义'),(0,s.createElementVNode)('div',{class:'form-desc'},'创建您的专属物品、装备或技能')],-1)),(0,s.createElementVNode)('div',{class:(0,s.normalizeClass)(['toggle-icon',{rotated:o.value}])},'▼',2)]),(0,s.withDirectives)((0,s.createElementVNode)('div',yd,[(0,s.createCommentVNode)(' 大分类选择 '),(0,s.createElementVNode)('div',Nd,[t[9]||(t[9]=(0,s.createElementVNode)('label',{class:'form-label'},'添加到分类',-1)),(0,s.createElementVNode)('div',Ed,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(y),e=>((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:e.value,class:(0,s.normalizeClass)(['category-btn',{active:r.value===e.value}]),onClick:t=>r.value=e.value},(0,s.toDisplayString)(e.label),11,gd))),128))])]),(0,s.createCommentVNode)(' 名称 '),(0,s.createElementVNode)('div',bd,[(0,s.createVNode)((0,s.unref)(Ma),{label:'名称',required:''}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:d.value,'onUpdate:modelValue':t[1]||(t[1]=e=>d.value=e),placeholder:'请输入物品名称',maxlength:50},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 类型 '),(0,s.createElementVNode)('div',hd,[(0,s.createVNode)((0,s.unref)(Ma),{label:'类型',required:''}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:i.value,'onUpdate:modelValue':t[2]||(t[2]=e=>i.value=e),placeholder:'例如：武器、防具、消耗品、主动、被动等',maxlength:20},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 品质 '),(0,s.createElementVNode)('div',Bd,[(0,s.createVNode)((0,s.unref)(Ma),{label:'品质',required:''}),(0,s.createElementVNode)('div',Cd,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((0,s.unref)(k),e=>((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:e.value,class:(0,s.normalizeClass)(['rarity-btn',{active:m.value===e.value}]),style:(0,s.normalizeStyle)({'--rarity-color':e.color}),onClick:t=>m.value=e.value},(0,s.toDisplayString)(e.label),15,Dd))),128))]),(0,s.createElementVNode)('div',xd,[t[10]||(t[10]=(0,s.createElementVNode)('span',{class:'cost-label'},'消耗点数：',-1)),(0,s.createElementVNode)('span',Sd,(0,s.toDisplayString)(N.value),1),(0,s.createElementVNode)('span',wd,'（范围：'+(0,s.toDisplayString)(E.value)+'）',1)])]),(0,s.createCommentVNode)(' 标签 '),(0,s.createElementVNode)('div',_d,[(0,s.createVNode)((0,s.unref)(Ma),{label:'标签'}),(0,s.createVNode)((0,s.unref)(ma),{modelValue:u.value,'onUpdate:modelValue':t[3]||(t[3]=e=>u.value=e),placeholder:'输入标签后按回车添加','add-button-text':'添加标签','empty-text':'暂无标签，点击下方按钮添加'},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 数量（仅道具分类） '),'item'===r.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',Fd,[(0,s.createVNode)((0,s.unref)(Ma),{label:'数量'}),(0,s.createVNode)((0,s.unref)(Qa),{modelValue:f.value,'onUpdate:modelValue':t[4]||(t[4]=e=>f.value=e),min:1,max:99,placeholder:'请输入物品数量'},null,8,['modelValue'])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 消耗（仅技能分类） '),'skill'===r.value?((0,s.openBlock)(),(0,s.createElementBlock)('div',Id,[(0,s.createVNode)((0,s.unref)(Ma),{label:'消耗'}),(0,s.createVNode)((0,s.unref)(Va),{modelValue:V.value,'onUpdate:modelValue':t[5]||(t[5]=e=>V.value=e),placeholder:'例如：[动作: 50 SP]'},null,8,['modelValue'])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 效果 '),(0,s.createElementVNode)('div',qd,[(0,s.createVNode)((0,s.unref)(Ma),{label:'效果',required:''}),(0,s.createVNode)((0,s.unref)(Ta),{modelValue:p.value,'onUpdate:modelValue':t[6]||(t[6]=e=>p.value=e),'placeholder-key':'效果名','placeholder-value':'效果内容','add-button-text':'添加效果','empty-text':'暂无效果条目，点击下方按钮添加'},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 描述 '),(0,s.createElementVNode)('div',Pd,[(0,s.createVNode)((0,s.unref)(Ma),{label:'描述'}),(0,s.createVNode)((0,s.unref)(ht),{modelValue:v.value,'onUpdate:modelValue':t[7]||(t[7]=e=>v.value=e),placeholder:'请描述物品的背景故事...',rows:2},null,8,['modelValue'])]),(0,s.createCommentVNode)(' 操作按钮 '),(0,s.createElementVNode)('div',$d,[(0,s.createElementVNode)('button',{class:'btn-reset',onClick:h},'清空'),(0,s.createElementVNode)('button',{class:'btn-submit',disabled:!g.value,onClick:D},'添加到已选项目',8,Ld)])],512),[[s.vShow,o.value]]),(0,s.createCommentVNode)(' 清空确认弹窗 '),(0,s.createVNode)(Gt,{visible:n.value,title:'确认清空',message:'确定要清空所有已填写的内容吗？此操作不可撤销。','confirm-text':'确认清空','cancel-text':'取消',type:'danger',onConfirm:B,onCancel:C},null,8,['visible']),(0,s.createCommentVNode)(' 添加确认弹窗 '),(0,s.createVNode)(Gt,{visible:c.value,title:'确认添加',message:`确定要将「${d.value}」添加到已选项目吗？`,'confirm-text':'确认添加','cancel-text':'取消',type:'info',onConfirm:S,onCancel:x},null,8,['visible','message'])],2))}}),Od=(0,i.A)(Td,[['__scopeId','data-v-77bf4d82']]),Ad={class:'card-header'},Ud={class:'item-name'},Md={class:'card-body'},Rd={class:'item-info'},zd={class:'info-value'},jd={key:0,class:'item-info'},Gd={class:'tag-list'},Kd={key:1,class:'item-info'},Hd={class:'info-value quantity'},Qd={key:2,class:'item-info'},Wd={class:'info-value consume'},Jd={key:3,class:'item-effect'},Xd={class:'effect-grid'},Yd={class:'effect-key'},Zd={class:'effect-value'},em={class:'item-description'},tm={class:'card-footer'},am={class:'item-cost'},lm={class:'cost-value'},om={key:0,class:'selected-badge'},nm=(0,s.defineComponent)({__name:'ItemCard',props:{item:{},selected:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,o={only:'#ff6f00',common:'#9e9e9e',uncommon:'#388e3c',rare:'#193c96',epic:'#9c27b0',legendary:'#9e7121',mythic:'#d32f2f'},n={only:'唯一',common:'普通',uncommon:'优良',rare:'稀有',epic:'史诗',legendary:'传说',mythic:'神话'},c=()=>{a.disabled||(a.selected?l('deselect',a.item):l('select',a.item))},r=e=>'consume'in e;return(t,a)=>{return(0,s.openBlock)(),(0,s.createElementBlock)('div',{class:(0,s.normalizeClass)(['item-card',{'is-selected':e.selected,'is-disabled':e.disabled}]),style:(0,s.normalizeStyle)({'--rarity-color':o[e.item.rarity]}),onClick:c},[(0,s.createCommentVNode)(' 卡片头部 '),(0,s.createElementVNode)('div',Ad,[(0,s.createElementVNode)('div',Ud,(0,s.toDisplayString)(e.item.name),1),(0,s.createElementVNode)('div',{class:'item-rarity',style:(0,s.normalizeStyle)({color:o[e.item.rarity]})},(0,s.toDisplayString)(n[e.item.rarity]),5)]),(0,s.createCommentVNode)(' 卡片内容 '),(0,s.createElementVNode)('div',Md,[(0,s.createElementVNode)('div',Rd,[a[0]||(a[0]=(0,s.createElementVNode)('span',{class:'info-label'},'类型:',-1)),(0,s.createElementVNode)('span',zd,(0,s.toDisplayString)(e.item.type),1)]),'tag'in e.item&&e.item.tag&&e.item.tag.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',jd,[a[1]||(a[1]=(0,s.createElementVNode)('span',{class:'info-label'},'标签:',-1)),(0,s.createElementVNode)('div',Gd,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.item.tag,e=>((0,s.openBlock)(),(0,s.createElementBlock)('span',{key:e,class:'tag-chip'},(0,s.toDisplayString)(e),1))),128))])])):(0,s.createCommentVNode)('v-if',!0),(i=e.item,'quantity'in i&&e.item.quantity?((0,s.openBlock)(),(0,s.createElementBlock)('div',Kd,[a[2]||(a[2]=(0,s.createElementVNode)('span',{class:'info-label'},'数量:',-1)),(0,s.createElementVNode)('span',Hd,(0,s.toDisplayString)(e.item.quantity),1)])):(0,s.createCommentVNode)('v-if',!0)),r(e.item)&&e.item.consume?((0,s.openBlock)(),(0,s.createElementBlock)('div',Qd,[a[3]||(a[3]=(0,s.createElementVNode)('span',{class:'info-label'},'消耗:',-1)),(0,s.createElementVNode)('span',Wd,(0,s.toDisplayString)(e.item.consume),1)])):(0,s.createCommentVNode)('v-if',!0),'effect'in e.item&&Object.keys(e.item.effect||{}).length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Jd,[a[4]||(a[4]=(0,s.createElementVNode)('div',{class:'effect-label'},'效果:',-1)),(0,s.createElementVNode)('div',Xd,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)((l=e.item.effect,l?Object.entries(l):[]),([e,t],a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:`${e}-${a}`,class:'effect-row'},[(0,s.createElementVNode)('span',Yd,(0,s.toDisplayString)(e),1),(0,s.createElementVNode)('span',Zd,(0,s.toDisplayString)(t),1)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createElementVNode)('div',em,(0,s.toDisplayString)(e.item.description),1)]),(0,s.createCommentVNode)(' 卡片底部 '),(0,s.createElementVNode)('div',tm,[(0,s.createElementVNode)('div',am,[a[5]||(a[5]=(0,s.createElementVNode)('span',{class:'cost-label'},'消耗点数:',-1)),(0,s.createElementVNode)('span',lm,(0,s.toDisplayString)(e.item.cost),1)]),e.selected?((0,s.openBlock)(),(0,s.createElementBlock)('div',om,'✓ 已选择')):(0,s.createCommentVNode)('v-if',!0)])],6);var l,i}}}),cm=(0,i.A)(nm,[['__scopeId','data-v-0694f832']]),sm={class:'item-list'},rm={key:0,class:'empty-state'},im={key:1,class:'item-grid'},dm=(0,s.defineComponent)({__name:'ItemList',props:{items:{},selectedItems:{}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,{availablePoints:o}=Ie(),{isSelected:n,isDisabled:c}=Ee(()=>a.selectedItems,()=>o.value),r=e=>{l('select',e)},i=e=>{l('deselect',e)};return(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',sm,[0===e.items.length?((0,s.openBlock)(),(0,s.createElementBlock)('div',rm,[...a[0]||(a[0]=[(0,s.createElementVNode)('div',{class:'empty-icon'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-box-open','aria-hidden':'true'})],-1),(0,s.createElementVNode)('div',{class:'empty-text'},'该分类下暂无物品',-1)])])):((0,s.openBlock)(),(0,s.createElementBlock)('div',im,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.items,e=>((0,s.openBlock)(),(0,s.createBlock)(cm,{key:e.name,item:e,selected:(0,s.unref)(n)(e),disabled:(0,s.unref)(c)(e),onSelect:r,onDeselect:i},null,8,['item','selected','disabled']))),128))]))]))}}),mm=(0,i.A)(dm,[['__scopeId','data-v-0cb1e7b4']]),um=(0,s.defineComponent)({__name:'MoneyExchangeCard',setup(e){const t=x(),a=(0,s.ref)(0),l=(0,s.computed)(()=>{const e=Math.ceil(t.character.money/10);return Math.max(0,t.character.reincarnationPoints-(t.consumedPoints-e))}),o=()=>{if(a.value<=0||a.value>l.value)return;const e=10*Math.max(0,Math.round(a.value));t.updateCharacterField('money',e),a.value=0},n=()=>{l.value<=0||(t.updateCharacterField('money',10*l.value),a.value=0)},c=()=>{t.updateCharacterField('money',0),a.value=0};return(e,r)=>((0,s.openBlock)(),(0,s.createBlock)(hs,{modelValue:(0,s.unref)(a),'onUpdate:modelValue':r[0]||(r[0]=e=>(0,s.isRef)(a)?a.value=e:null),title:'金钱兑换','rate-text':'(1转生点 = 10 G)','icon-class':'fa-solid fa-coins','current-label':'当前：','current-value':(0,s.unref)(t).character.money,'current-unit':'G','gain-unit':'G','gain-per-point':10,'max-exchangeable':(0,s.unref)(l),theme:'gold','exchange-all-title':'将所有剩余转生点数兑换为金钱','reset-title':'重置已兑换的金钱','reset-disabled':(0,s.unref)(t).character.money<=0,onExchange:o,onExchangeAll:n,onReset:c},null,8,['modelValue','current-value','max-exchangeable','reset-disabled']))}}),pm={class:'rarity-filter'},vm={class:'filter-buttons'},Vm=['onClick'],fm=(0,s.defineComponent)({__name:'RarityFilter',props:{modelValue:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=t,l=[{value:'all',label:'全部',color:'#666'},...gl.slice().reverse()];return(t,o)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',pm,[o[0]||(o[0]=(0,s.createElementVNode)('div',{class:'filter-label'},'品质筛选：',-1)),(0,s.createElementVNode)('div',vm,[((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(l,t=>(0,s.createElementVNode)('button',{key:t.value,class:(0,s.normalizeClass)(['filter-btn',{active:e.modelValue===t.value}]),style:(0,s.normalizeStyle)({'--rarity-color':t.color}),onClick:e=>{return l=t.value,void a('update:modelValue',l);var l}},(0,s.toDisplayString)(t.label),15,Vm)),64))])]))}}),km=(0,i.A)(fm,[['__scopeId','data-v-4102fea8']]),ym={class:'selected-panel'},Nm={class:'panel-header'},Em={class:'header-top'},gm={class:'count-badge'},bm={class:'points-info'},hm={class:'points-total'},Bm={class:'points-consumed'},Cm={class:'panel-body'},Dm={key:0,class:'section'},xm={class:'section-title'},Sm={class:'count'},wm={class:'item-list'},_m={class:'item-info'},Fm={class:'item-name'},Im={class:'item-cost'},qm=['onClick'],Pm={key:1,class:'section'},$m={class:'section-title'},Lm={class:'count'},Tm={class:'item-list'},Om={class:'item-info'},Am={class:'item-name'},Um={key:0,class:'item-quantity'},Mm={class:'item-cost'},Rm=['onClick'],zm={key:2,class:'section'},jm={class:'section-title'},Gm={class:'count'},Km={class:'item-list'},Hm={class:'item-info'},Qm={class:'item-name'},Wm={class:'item-cost'},Jm=['onClick'],Xm={key:3,class:'empty-state'},Ym={class:'panel-footer'},Zm={class:'total-info'},eu={class:'value'},tu=(0,s.defineComponent)({__name:'SelectedPanel',props:{equipments:{},items:{},skills:{}},emits:['remove','clear'],setup(e,{emit:t}){const a=e,l=t,{availablePoints:o,totalPoints:n,consumedPoints:c}=Ie(),r=(e,t)=>{l('remove',e,t)},i=()=>{l('clear')},d=(0,s.computed)(()=>a.equipments.length+a.items.length+a.skills.length),m=(0,s.computed)(()=>_.sum([_.sumBy(a.equipments,'cost'),_.sumBy(a.items,'cost'),_.sumBy(a.skills,'cost')]));return(t,a)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',ym,[(0,s.createElementVNode)('div',Nm,[(0,s.createElementVNode)('div',Em,[a[0]||(a[0]=(0,s.createElementVNode)('h3',{class:'title'},'已选项目',-1)),(0,s.createElementVNode)('div',gm,(0,s.toDisplayString)((0,s.unref)(d)),1)]),(0,s.createElementVNode)('div',bm,[a[1]||(a[1]=(0,s.createElementVNode)('span',{class:'points-label'},'转生点数：',-1)),(0,s.createElementVNode)('span',{class:(0,s.normalizeClass)(['points-value',{negative:(0,s.unref)(o)<0}])},(0,s.toDisplayString)((0,s.unref)(o)),3),(0,s.createElementVNode)('span',hm,'/ '+(0,s.toDisplayString)((0,s.unref)(n)),1),(0,s.createElementVNode)('span',Bm,'（已消耗：'+(0,s.toDisplayString)((0,s.unref)(c))+'）',1)])]),(0,s.createElementVNode)('div',Cm,[(0,s.createCommentVNode)(' 装备列表 '),e.equipments.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Dm,[(0,s.createElementVNode)('div',xm,[a[2]||(a[2]=(0,s.createElementVNode)('span',{class:'section-label'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-shield-halved','aria-hidden':'true'}),(0,s.createElementVNode)('span',null,'装备')],-1)),(0,s.createElementVNode)('span',Sm,'('+(0,s.toDisplayString)(e.equipments.length)+')',1)]),(0,s.createElementVNode)('div',wm,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.equipments,e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:'selected-item'},[(0,s.createElementVNode)('div',_m,[(0,s.createElementVNode)('div',Fm,(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('div',Im,(0,s.toDisplayString)(e.cost)+' 点',1)]),(0,s.createElementVNode)('button',{class:'remove-btn',onClick:t=>r(e,'equipment')},[...a[3]||(a[3]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])],8,qm)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 道具列表 '),e.items.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',Pm,[(0,s.createElementVNode)('div',$m,[a[4]||(a[4]=(0,s.createElementVNode)('span',{class:'section-label'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-box-open','aria-hidden':'true'}),(0,s.createElementVNode)('span',null,'道具')],-1)),(0,s.createElementVNode)('span',Lm,'('+(0,s.toDisplayString)(e.items.length)+')',1)]),(0,s.createElementVNode)('div',Tm,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.items,e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:'selected-item'},[(0,s.createElementVNode)('div',Om,[(0,s.createElementVNode)('div',Am,[(0,s.createTextVNode)((0,s.toDisplayString)(e.name)+' ',1),e.quantity?((0,s.openBlock)(),(0,s.createElementBlock)('span',Um,'× '+(0,s.toDisplayString)(e.quantity),1)):(0,s.createCommentVNode)('v-if',!0)]),(0,s.createElementVNode)('div',Mm,(0,s.toDisplayString)(e.cost)+' 点',1)]),(0,s.createElementVNode)('button',{class:'remove-btn',onClick:t=>r(e,'item')},[...a[5]||(a[5]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])],8,Rm)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 技能列表 '),e.skills.length>0?((0,s.openBlock)(),(0,s.createElementBlock)('div',zm,[(0,s.createElementVNode)('div',jm,[a[6]||(a[6]=(0,s.createElementVNode)('span',{class:'section-label'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-wand-magic','aria-hidden':'true'}),(0,s.createElementVNode)('span',null,'技能')],-1)),(0,s.createElementVNode)('span',Gm,'('+(0,s.toDisplayString)(e.skills.length)+')',1)]),(0,s.createElementVNode)('div',Km,[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.skills,e=>((0,s.openBlock)(),(0,s.createElementBlock)('div',{key:e.name,class:'selected-item'},[(0,s.createElementVNode)('div',Hm,[(0,s.createElementVNode)('div',Qm,(0,s.toDisplayString)(e.name),1),(0,s.createElementVNode)('div',Wm,(0,s.toDisplayString)(e.cost)+' 点',1)]),(0,s.createElementVNode)('button',{class:'remove-btn',onClick:t=>r(e,'skill')},[...a[7]||(a[7]=[(0,s.createElementVNode)('i',{class:'fa-solid fa-xmark','aria-hidden':'true'},null,-1)])],8,Jm)]))),128))])])):(0,s.createCommentVNode)('v-if',!0),(0,s.createCommentVNode)(' 空状态 '),0===(0,s.unref)(d)?((0,s.openBlock)(),(0,s.createElementBlock)('div',Xm,[...a[8]||(a[8]=[(0,s.createElementVNode)('div',{class:'empty-icon'},[(0,s.createElementVNode)('i',{class:'fa-solid fa-bullseye','aria-hidden':'true'})],-1),(0,s.createElementVNode)('div',{class:'empty-text'},'还没有选择任何物品',-1)])])):(0,s.createCommentVNode)('v-if',!0)]),(0,s.createElementVNode)('div',Ym,[(0,s.createElementVNode)('div',Zm,[a[9]||(a[9]=(0,s.createElementVNode)('span',{class:'label'},'总消耗：',-1)),(0,s.createElementVNode)('span',eu,(0,s.toDisplayString)((0,s.unref)(m))+' 点',1)]),(0,s.unref)(d)>0?((0,s.openBlock)(),(0,s.createElementBlock)('button',{key:0,class:'clear-btn',onClick:i},'清空全部')):(0,s.createCommentVNode)('v-if',!0)])]))}}),au=(0,i.A)(tu,[['__scopeId','data-v-4718b4fc']]),lu={class:'selections'},ou={class:'selections-container'},nu={class:'selection-area'},cu={class:'custom-area'},su={class:'summary-area'},ru=(0,s.defineComponent)({__name:'index',setup(e){const t=x(),a=(0,s.ref)('equipment'),l=(0,s.ref)(''),o=(0,s.ref)('all'),n=e=>e,c=(0,s.computed)(()=>id||rd),r=(0,s.computed)(()=>md||dd),i=(0,s.computed)(()=>C()),d=(0,s.computed)(()=>'自定义'===t.character.race?t.character.customRace:t.character.race),m=(0,s.computed)(()=>Object.keys(k.value).filter(e=>'自定义'!==e)),u=(0,s.computed)(()=>{switch(a.value){case'equipment':return Object.keys(c.value);case'item':return Object.keys(r.value);case'skill':return v.value;default:return[]}}),p=e=>'skill'!==a.value||(!m.value.includes(e)||d.value===e),v=(0,s.computed)(()=>{if('skill'!==a.value)return[];const e=Object.keys(i.value),[t,l]=_.partition(e,p);return[...t,...l]});(0,s.watch)(a,()=>{l.value=u.value[0]||'',o.value='all'}),(0,s.onMounted)(()=>{l.value=u.value[0]||''}),(0,s.watch)(()=>[t.character.race,t.character.customRace],()=>{if('skill'===a.value&&!p(l.value)){const e=_.find(u.value,p)||'';l.value=e}},{deep:!0});const V=(0,s.computed)(()=>{let e=[];switch(a.value){case'equipment':e=c.value[l.value]||[];break;case'item':e=r.value[l.value]||[];break;case'skill':e=i.value[l.value]||[]}return'all'!==o.value?e.filter(e=>e.rarity===o.value):e}),f=(0,s.computed)(()=>{switch(a.value){case'equipment':return t.selectedEquipments;case'item':return t.selectedItems;case'skill':return t.selectedSkills;default:return[]}}),y=e=>{switch(a.value){case'equipment':t.addEquipment(e);break;case'item':t.addItem(e);break;case'skill':t.addSkill(e)}},N=e=>{switch(a.value){case'equipment':t.removeEquipment(e);break;case'item':t.removeItem(e);break;case'skill':t.removeSkill(e)}},E=(e,a)=>{switch(a){case'equipment':t.removeEquipment(e);break;case'item':t.removeItem(e);break;case'skill':t.removeSkill(e)}},g=()=>{t.clearSelections()},b=(e,a)=>{switch(a){case'equipment':t.addEquipment(e);break;case'item':t.addItem(e);break;case'skill':t.addSkill(e)}};return(e,c)=>((0,s.openBlock)(),(0,s.createElementBlock)('div',lu,[(0,s.createElementVNode)('div',ou,[(0,s.createCommentVNode)(' 上半部分：选择区域 '),(0,s.createElementVNode)('div',nu,[(0,s.createCommentVNode)(' 大分类标签 '),(0,s.createVNode)(kd,{modelValue:(0,s.unref)(a),'onUpdate:modelValue':c[0]||(c[0]=e=>(0,s.isRef)(a)?a.value=e:null)},null,8,['modelValue']),(0,s.createCommentVNode)(' 选择主体区域 - 使用通用布局组件 '),(0,s.createVNode)(pt,{modelValue:(0,s.unref)(l),'onUpdate:modelValue':c[2]||(c[2]=e=>(0,s.isRef)(l)?l.value=e:null),categories:(0,s.unref)(u),'disabled-categories':'skill'!==a.value?[]:m.value.filter(e=>e!==d.value),'category-name-formatter':n},{filter:(0,s.withCtx)(()=>[(0,s.createVNode)(km,{modelValue:(0,s.unref)(o),'onUpdate:modelValue':c[1]||(c[1]=e=>(0,s.isRef)(o)?o.value=e:null)},null,8,['modelValue'])]),content:(0,s.withCtx)(()=>[(0,s.createVNode)(mm,{items:(0,s.unref)(V),'selected-items':(0,s.unref)(f),onSelect:y,onDeselect:N},null,8,['items','selected-items'])]),_:1},8,['modelValue','categories','disabled-categories'])]),(0,s.createCommentVNode)(' 自定义物品区域 '),(0,s.createElementVNode)('div',cu,[(0,s.createVNode)(um),(0,s.createVNode)(Od,{onAdd:b})]),(0,s.createCommentVNode)(' 下半部分：已选面板 '),(0,s.createElementVNode)('div',su,[(0,s.createVNode)(au,{equipments:(0,s.unref)(t).selectedEquipments,items:(0,s.unref)(t).selectedItems,skills:(0,s.unref)(t).selectedSkills,onRemove:E,onClear:g},null,8,['equipments','items','skills'])])])]))}}),iu=(0,i.A)(ru,[['__scopeId','data-v-161a82fc']]),du=[{path:xe,name:be,component:nt,redirect:Se,children:[{path:'basic',name:he,component:Cr,meta:{title:ge[0].title,step:1}},{path:'selections',name:Be,component:iu,meta:{title:ge[1].title,step:2}},{path:'background',name:Ce,component:Ys,meta:{title:ge[2].title,step:3}},{path:'confirm',name:De,component:sd,meta:{title:ge[3].title,step:4}}]}],mu=(0,u.createRouter)({history:(0,u.createMemoryHistory)(),routes:du}),uu=(0,s.createApp)(m);$(()=>{uu.use(ve),uu.use(mu),uu.mount('#app')});</script><style>*{margin:0;padding:0;box-sizing:border-box}:root{--primary-bg:#f5efe6;--card-bg:rgba(240,230,210,0.95);--input-bg:#fff9f0;--border-color:#d4c4b0;--border-color-strong:#8b7355;--text-color:#3a3a3a;--text-light:#666666;--title-color:#5c4033;--accent-color:#d4af37;--error-color:#d32f2f;--success-color:#388e3c;--button-bg:#c6b8a5;--button-hover:#b0a295;--points-color:#5c4033;--border-color-light:#e0d5c7;--font-title:'Cinzel',serif;--font-body:'Segoe UI','Microsoft YaHei',sans-serif;--font-mono:'Monaco','Menlo',monospace;--spacing-xs:4px;--spacing-sm:8px;--spacing-md:12px;--spacing-lg:16px;--spacing-xl:24px;--spacing-2xl:32px;--radius-sm:2px;--radius-md:4px;--radius-lg:8px;--shadow-sm:0 1px 3px rgba(0,0,0,0.1);--shadow-md:0 2px 8px rgba(0,0,0,0.12);--shadow-lg:0 4px 16px rgba(0,0,0,0.15);--transition-fast:0.15s ease-in-out;--transition-normal:0.3s ease-in-out}body{font-family:var(--font-body);color:var(--text-color);line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{font-family:var(--font-title);font-weight:700;color:var(--title-color);line-height:1.4}h1{font-size:1.88rem;letter-spacing:1px}h2{font-size:1.5rem}h3{font-size:1.25rem}@media (max-width:768px){h1{font-size:1.5rem}h2{font-size:1.25rem}h3{font-size:1.1rem}}
.creator-app[data-v-15ec88ba]{background-color:#f5efe6}
.modal-overlay[data-v-2397950a]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:9999;backdrop-filter:blur(2px)}.modal-container[data-v-2397950a]{background:var(--card-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border:1px solid var(--border-color);width:90%;max-width:600px;max-height:80vh;display:flex;flex-direction:column;overflow:hidden}.modal-header[data-v-2397950a]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md) var(--spacing-lg);border-bottom:1px solid var(--border-color);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%)}.modal-header .modal-title[data-v-2397950a]{margin:0;font-size:1.3rem;color:var(--title-color);font-weight:700;font-family:var(--font-title)}.modal-header .close-button[data-v-2397950a]{background:none;border:none;font-size:1.2rem;cursor:pointer;color:var(--text-light);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-sm);transition:var(--transition-fast)}.modal-header .close-button[data-v-2397950a]:hover{background:var(--border-color-light);color:var(--error-color)}.modal-content[data-v-2397950a]{flex:1;overflow-y:auto;padding:var(--spacing-lg)}.section-title[data-v-2397950a]{font-size:1rem;color:var(--title-color);margin:0 0 var(--spacing-md) 0;font-weight:600;display:flex;align-items:center;gap:var(--spacing-sm)}.section-title i[data-v-2397950a]{color:var(--accent-color)}.save-section[data-v-2397950a]{margin-bottom:var(--spacing-xl);padding-bottom:var(--spacing-lg);border-bottom:1px dashed var(--border-color)}.save-row[data-v-2397950a]{display:flex;gap:var(--spacing-sm)}.save-row .preset-input[data-v-2397950a]{flex:1;padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.95rem;background:var(--input-bg);color:var(--text-color);transition:var(--transition-fast)}.save-row .preset-input[data-v-2397950a]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(212,175,55,.2)}.save-row .preset-input[data-v-2397950a]::placeholder{color:var(--text-light)}.action-button[data-v-2397950a]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-fast);white-space:nowrap}.action-button i[data-v-2397950a]{font-size:.85rem}.action-button.save-button[data-v-2397950a]{background:linear-gradient(135deg,var(--accent-color) 0%,#b8941f 100%);color:#fff;border-color:var(--accent-color)}.action-button.save-button[data-v-2397950a]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.action-button.save-button.confirm[data-v-2397950a]{background:linear-gradient(135deg,#ff9800 0%,#f57c00 100%);border-color:#ff9800;animation:pulse-2397950a 1s infinite}.action-button.load-button[data-v-2397950a]{background:linear-gradient(135deg,var(--success-color) 0%,#2e7d32 100%);color:#fff;border-color:var(--success-color)}.action-button.load-button[data-v-2397950a]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.action-button.delete-button[data-v-2397950a]{background:var(--card-bg);color:var(--error-color);border-color:var(--error-color)}.action-button.delete-button[data-v-2397950a]:hover{background:var(--error-color);color:#fff}.action-button.confirm-delete[data-v-2397950a]{background:var(--error-color);color:#fff;border-color:var(--error-color);animation:pulse-2397950a 1s infinite}.action-button.cancel-button[data-v-2397950a]{background:var(--card-bg);color:var(--text-color);border-color:var(--border-color)}.action-button.cancel-button[data-v-2397950a]:hover{background:var(--button-bg)}@keyframes pulse-2397950a{0%,100%{opacity:1}50%{opacity:.7}}.empty-state[data-v-2397950a]{text-align:center;padding:var(--spacing-xl);color:var(--text-light)}.empty-state .empty-icon[data-v-2397950a]{font-size:2.5rem;margin-bottom:var(--spacing-md);opacity:.5}.empty-state p[data-v-2397950a]{margin:0 0 var(--spacing-xs) 0}.empty-state .hint[data-v-2397950a]{font-size:.85rem;font-style:italic}.preset-list[data-v-2397950a]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.preset-item[data-v-2397950a]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);transition:var(--transition-fast)}.preset-item[data-v-2397950a]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.preset-item.delete-pending[data-v-2397950a]{border-color:var(--error-color);background:rgba(211,47,47,.05)}.preset-main[data-v-2397950a]{flex:1;min-width:0}.preset-info[data-v-2397950a]{display:flex;align-items:baseline;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.preset-info .preset-name[data-v-2397950a]{font-weight:600;color:var(--title-color);font-size:1rem}.preset-info .preset-time[data-v-2397950a]{font-size:.8rem;color:var(--text-light);font-family:var(--font-mono)}.preset-meta[data-v-2397950a]{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.preset-meta .meta-item[data-v-2397950a]{font-size:.85rem;color:var(--text-light)}.preset-meta .meta-item i[data-v-2397950a]{margin-right:2px;color:var(--accent-color);opacity:.7}.preset-actions[data-v-2397950a]{display:flex;gap:var(--spacing-xs);margin-left:var(--spacing-md)}.modal-footer[data-v-2397950a]{padding:var(--spacing-md) var(--spacing-lg);border-top:1px solid var(--border-color);display:flex;justify-content:flex-end}.modal-footer .footer-button[data-v-2397950a]{padding:var(--spacing-sm) var(--spacing-xl);background:var(--button-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.95rem;font-weight:600;cursor:pointer;transition:var(--transition-fast);color:var(--title-color)}.modal-footer .footer-button[data-v-2397950a]:hover{background:var(--button-hover)}@media (max-width:600px){.modal-container[data-v-2397950a]{width:95%;max-height:90vh}.save-row[data-v-2397950a]{flex-direction:column}.preset-item[data-v-2397950a]{flex-direction:column;align-items:stretch;gap:var(--spacing-sm,8px)}.preset-actions[data-v-2397950a]{margin-left:0;justify-content:flex-end}}
.content-area[data-v-422e4092]{margin:var(--spacing-md) 0;padding:var(--spacing-md);background:var(--card-bg);border-radius:var(--radius-lg);border:1px solid var(--border-color);box-shadow:var(--shadow-md);position:relative;overflow:hidden;min-height:400px}.slide-left-enter-active[data-v-422e4092],.slide-left-leave-active[data-v-422e4092]{transition:all .3s ease-out}.slide-left-enter-from[data-v-422e4092]{opacity:0;transform:translateX(30px)}.slide-left-leave-to[data-v-422e4092]{opacity:0;transform:translateX(-30px)}.slide-right-enter-active[data-v-422e4092],.slide-right-leave-active[data-v-422e4092]{transition:all .3s ease-out}.slide-right-enter-from[data-v-422e4092]{opacity:0;transform:translateX(-30px)}.slide-right-leave-to[data-v-422e4092]{opacity:0;transform:translateX(30px)}
.header-controls[data-v-25795810]{display:flex;justify-content:center;align-items:center;gap:var(--spacing-lg);margin-bottom:var(--spacing-lg);flex-wrap:wrap}.points-display[data-v-25795810]{display:flex;align-items:baseline;gap:var(--spacing-sm);font-size:1.1rem;font-weight:600}.points-display .points-label[data-v-25795810]{color:var(--text-color)}.points-display .points-value[data-v-25795810]{font-size:1.5rem;font-weight:700;color:var(--accent-color);transition:var(--transition-normal)}.points-display .points-value.negative[data-v-25795810]{color:var(--error-color);animation:shake-25795810 .3s ease-in-out}.points-display .points-total[data-v-25795810]{color:var(--text-light);font-size:1rem}.control-buttons[data-v-25795810]{display:flex;gap:var(--spacing-sm)}.control-button[data-v-25795810]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-md);border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.control-button[data-v-25795810]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.control-button[data-v-25795810]:active:not(:disabled){transform:translateY(0);box-shadow:var(--shadow-sm)}.roll-button[data-v-25795810]{background:linear-gradient(135deg,var(--accent-color) 0%,#b8941f 100%);color:#fff}.roll-button[data-v-25795810]:hover{background:linear-gradient(135deg,#e0c04a 0%,#d4af37 100%)}.roll-button[data-v-25795810]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}.roll-button[data-v-25795810]:disabled:hover{transform:none;box-shadow:var(--shadow-sm)}.preset-button[data-v-25795810]{background:linear-gradient(135deg,#6b8e9f 0%,#5a7a8a 100%);color:#fff}.preset-button[data-v-25795810]:hover{background:linear-gradient(135deg,#7a9fb0 0%,#6b8e9f 100%)}@keyframes shake-25795810{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}@media (max-width:768px){.header-controls[data-v-25795810]{flex-direction:column;gap:var(--spacing-md)}.points-display[data-v-25795810]{font-size:1rem}.points-display .points-value[data-v-25795810]{font-size:1.3rem}}
.navigation[data-v-de8f52dc]{display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-lg)}.nav-button[data-v-de8f52dc]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-xl);background:var(--button-bg);color:var(--title-color);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:16px;font-weight:600;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.nav-button[data-v-de8f52dc]:hover:not(:disabled){background:var(--button-hover);transform:translateY(-2px);box-shadow:var(--shadow-md)}.nav-button[data-v-de8f52dc]:active:not(:disabled){transform:translateY(0);box-shadow:var(--shadow-sm)}.nav-button[data-v-de8f52dc]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}@media (max-width:768px){.navigation[data-v-de8f52dc]{flex-wrap:wrap;justify-content:center}.nav-button[data-v-de8f52dc]{flex:1;min-width:120px;justify-content:center}}
.confirm-overlay[data-v-45c171a6]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:9999;backdrop-filter:blur(2px)}.confirm-dialog[data-v-45c171a6]{background:var(--card-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border:1px solid var(--border-color);width:90%;max-width:400px;overflow:hidden}.confirm-header[data-v-45c171a6]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:1px solid var(--border-color)}.confirm-header i[data-v-45c171a6]{font-size:1.3rem;color:var(--accent-color)}.confirm-header h3[data-v-45c171a6]{margin:0;font-size:1.2rem;color:var(--title-color);font-weight:700}.confirm-body[data-v-45c171a6]{padding:var(--spacing-lg);text-align:center}.confirm-body p[data-v-45c171a6]{margin:0 0 var(--spacing-sm) 0;color:var(--text-color);font-size:1rem}.confirm-body p[data-v-45c171a6]:last-child{margin-bottom:0}.confirm-body .confirm-hint[data-v-45c171a6]{font-size:.9rem;color:var(--text-light);font-style:italic}.confirm-actions[data-v-45c171a6]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg) var(--spacing-lg);justify-content:center}.confirm-button[data-v-45c171a6]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-fast)}.confirm-button i[data-v-45c171a6]{font-size:.9rem}.confirm-button.save[data-v-45c171a6]{background:linear-gradient(135deg,var(--accent-color) 0%,#b8941f 100%);color:#fff;border-color:var(--accent-color)}.confirm-button.save[data-v-45c171a6]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.confirm-button.skip[data-v-45c171a6]{background:linear-gradient(135deg,var(--success-color) 0%,#2e7d32 100%);color:#fff;border-color:var(--success-color)}.confirm-button.skip[data-v-45c171a6]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.confirm-button.cancel[data-v-45c171a6]{background:var(--card-bg);color:var(--text-color);border-color:var(--border-color)}.confirm-button.cancel[data-v-45c171a6]:hover{background:var(--button-bg)}
.steps[data-v-4595f292]{width:100%;display:flex;align-items:center;gap:var(--spacing-xs);position:relative}.steps[data-v-4595f292]::-webkit-scrollbar{height:4px}.steps[data-v-4595f292]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:2px}.steps[data-v-4595f292]::-webkit-scrollbar-thumb{background:var(--accent-color);border-radius:2px}.steps[data-v-4595f292]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.steps .step[data-v-4595f292]{flex:1;display:flex;align-items:center;justify-content:center;color:var(--title-color);font-size:16px;background:var(--border-color-light);margin-left:-6px;clip-path:polygon(15px 0,100% 0,calc(100% - 15px) 50%,100% 100%,15px 100%,0 50%);transition:var(--transition-normal);padding:8px 20px;position:relative}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 15px) 50%,100% 100%,0 100%,0 50%);padding-left:16px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(15px 0,100% 0,100% 50%,100% 100%,15px 100%,0 50%);padding-right:16px}.steps .step .title[data-v-4595f292]{text-align:center;width:100%;line-height:1.3;word-break:keep-all;overflow-wrap:break-word;padding:4px 0}.steps .pass[data-v-4595f292]{background:var(--accent-color);color:var(--primary-bg);font-weight:600}@media (max-width:1024px){.steps[data-v-4595f292]{gap:2px}.steps .step[data-v-4595f292]{font-size:14px;padding:6px 16px}.steps .step[data-v-4595f292]:first-child{padding-left:14px}.steps .step[data-v-4595f292]:last-child{padding-right:14px}.steps .step .title[data-v-4595f292]{font-size:13px;line-height:1.4}}@media (max-width:640px){.steps[data-v-4595f292]{gap:1px}.steps .step[data-v-4595f292]{font-size:12px;padding:8px 10px;margin-left:-4px;clip-path:polygon(12px 0,100% 0,calc(100% - 12px) 50%,100% 100%,12px 100%,0 50%)}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 12px) 50%,100% 100%,0 100%,0 50%);padding-left:10px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(12px 0,100% 0,100% 50%,100% 100%,12px 100%,0 50%);padding-right:10px}.steps .step .title[data-v-4595f292]{line-height:1.5}}@media (max-width:480px){.steps[data-v-4595f292]{gap:0}.steps .step[data-v-4595f292]{font-size:10px;padding:6px 8px;margin-left:-3px;clip-path:polygon(10px 0,100% 0,calc(100% - 10px) 50%,100% 100%,10px 100%,0 50%)}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 10px) 50%,100% 100%,0 100%,0 50%);padding-left:8px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(10px 0,100% 0,100% 50%,100% 100%,10px 100%,0 50%);padding-right:8px}.steps .step .title[data-v-4595f292]{line-height:1.5}}
.layout[data-v-3ba0e588]{display:flex;flex-direction:column;min-height:500px;padding:var(--spacing-xl)}.main-title[data-v-3ba0e588]{text-align:center;margin-bottom:var(--spacing-lg);color:var(--title-color)}@media (max-width:768px){.layout[data-v-3ba0e588]{padding:var(--spacing-md)}}
.category-selection-layout[data-v-0b4afefe]{display:grid;grid-template-columns:var(--sidebar-width) 1fr;gap:0;height:var(--content-max-height);max-height:var(--content-max-height);border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden}.category-sidebar[data-v-0b4afefe]{background:var(--card-bg);border-right:2px solid var(--border-color-strong);height:100%;display:flex;flex-direction:column;overflow:hidden}.category-sidebar .category-list[data-v-0b4afefe]{display:flex;flex-direction:column;gap:var(--spacing-xs);padding:var(--spacing-md);overflow-y:auto;flex:1}.category-sidebar .category-list[data-v-0b4afefe]::-webkit-scrollbar{width:6px}.category-sidebar .category-list[data-v-0b4afefe]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-sm)}.category-sidebar .category-list[data-v-0b4afefe]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.category-sidebar .category-list[data-v-0b4afefe]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.category-sidebar .category-item[data-v-0b4afefe]{padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.9rem;color:var(--text-color);text-align:left;white-space:normal;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;hyphens:auto;line-height:1.4;min-height:32px;display:flex;align-items:center}.category-sidebar .category-item[data-v-0b4afefe]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.category-sidebar .category-item.active[data-v-0b4afefe]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600}.category-sidebar .category-item.disabled[data-v-0b4afefe]{cursor:not-allowed;opacity:.5;background:var(--input-bg);border-color:var(--border-color);color:var(--text-light)}.category-sidebar .category-item.disabled[data-v-0b4afefe]:hover{background:var(--input-bg);border-color:var(--border-color)}.content-area[data-v-0b4afefe]{background:var(--card-bg);overflow-y:auto;height:100%;display:flex;flex-direction:column}.content-area[data-v-0b4afefe]::-webkit-scrollbar{width:8px}.content-area[data-v-0b4afefe]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.content-area[data-v-0b4afefe]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.content-area[data-v-0b4afefe]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.filter-area[data-v-0b4afefe]{position:sticky;top:0;z-index:10;background:var(--card-bg);padding:var(--spacing-xs) var(--spacing-sm);border-bottom:2px solid var(--border-color);box-shadow:0 2px 4px rgba(0,0,0,.05)}.content-main[data-v-0b4afefe]{flex:1;overflow-y:auto}@media (max-width:768px){.category-selection-layout[data-v-0b4afefe]{grid-template-columns:120px 1fr;height:450px}.category-sidebar .category-list[data-v-0b4afefe]{padding:var(--spacing-xs) 4px}.category-sidebar .category-item[data-v-0b4afefe]{font-size:.8rem;padding:var(--spacing-xs) var(--spacing-sm);min-height:28px;line-height:1.3}}@media (max-width:480px){.category-selection-layout[data-v-0b4afefe]{grid-template-columns:100px 1fr;height:400px}.category-sidebar .category-list[data-v-0b4afefe]{padding:var(--spacing-xs) 3px}.category-sidebar .category-item[data-v-0b4afefe]{font-size:.75rem;padding:3px 5px;min-height:24px}}
.form-textarea-wrapper[data-v-517d0cac]{position:relative;width:100%}.form-textarea[data-v-517d0cac]{width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;font-family:var(--font-body);color:var(--text-color);line-height:1.5;resize:vertical;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-textarea.auto-resize[data-v-517d0cac]{resize:none;overflow-y:hidden}.form-textarea[data-v-517d0cac]::placeholder{color:var(--text-light)}.form-textarea[data-v-517d0cac]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-textarea[data-v-517d0cac]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-textarea.is-disabled[data-v-517d0cac]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-textarea.is-readonly[data-v-517d0cac]{background:var(--border-color-light);cursor:default}
.requirement-item[data-v-63cb74fc]{display:flex;flex-direction:column;gap:2px;font-size:.75rem}.requirement-item .requirement-label[data-v-63cb74fc]{color:var(--text-light);font-weight:500;font-size:.85rem}.requirement-item .requirement-value[data-v-63cb74fc]{font-weight:600;word-break:break-word;line-height:1.4}.requirement-item .requirement-value.requirement-met[data-v-63cb74fc]{color:var(--success-color)}.requirement-item .requirement-value.requirement-unmet[data-v-63cb74fc]{color:var(--error-color)}
.background-list[data-v-36777a4c]{display:flex;flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-md);height:100%;overflow-y:auto}.background-list[data-v-36777a4c]::-webkit-scrollbar{width:8px}.background-list[data-v-36777a4c]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.background-list[data-v-36777a4c]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.background-list[data-v-36777a4c]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.empty-message[data-v-36777a4c]{text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:1.1rem}.background-card[data-v-36777a4c]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-fast)}.background-card[data-v-36777a4c]:hover:not(.disabled){border-color:var(--accent-color);background:rgba(212,175,55,.1);transform:translateX(4px)}.background-card.selected[data-v-36777a4c]{border-color:var(--accent-color);background:rgba(212,175,55,.15);box-shadow:var(--shadow-md);border-left-width:4px}.background-card.disabled[data-v-36777a4c]{opacity:.6;cursor:not-allowed}.background-card.disabled[data-v-36777a4c]:hover{transform:none}.card-header[data-v-36777a4c]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-sm);margin-bottom:var(--spacing-sm)}.card-header .background-name[data-v-36777a4c]{font-size:1.1rem;color:var(--title-color);margin:0;font-weight:600;flex:1}.card-header .expand-btn[data-v-36777a4c]{padding:2px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;font-size:.75rem;color:var(--text-color);transition:all var(--transition-fast);white-space:nowrap}.card-header .expand-btn[data-v-36777a4c]:hover{background:var(--accent-color);color:var(--primary-bg);border-color:var(--accent-color)}.requirements[data-v-36777a4c]{display:flex;flex-direction:column;gap:var(--spacing-xs);margin-bottom:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:var(--input-bg);border-radius:var(--radius-sm);border-left:3px solid var(--accent-color)}.background-summary[data-v-36777a4c]{color:var(--text-color);line-height:1.6;margin:0;font-size:.9rem}.requirement-warning[data-v-36777a4c]{margin-top:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:rgba(211,47,47,.1);border-left:3px solid var(--error-color);border-radius:var(--radius-sm);color:var(--error-color);font-size:.8rem;font-weight:500}.custom-input-area[data-v-36777a4c]{margin-top:var(--spacing-md);padding-top:var(--spacing-md);border-top:2px dashed var(--border-color);animation:slideDown-36777a4c var(--transition-normal) ease-out}.custom-input-label[data-v-36777a4c]{font-size:.9rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-sm)}@keyframes slideDown-36777a4c{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width:768px){.background-list[data-v-36777a4c]{padding:var(--spacing-sm);gap:var(--spacing-sm)}.background-card[data-v-36777a4c]{padding:var(--spacing-sm)}.card-header .background-name[data-v-36777a4c]{font-size:1rem}.background-summary[data-v-36777a4c],.background-description[data-v-36777a4c]{font-size:.85rem}}
.confirm-overlay[data-v-62de9d7e]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:10000;backdrop-filter:blur(2px);animation:fadeIn-62de9d7e .2s ease-out}@keyframes fadeIn-62de9d7e{from{opacity:0}to{opacity:1}}@keyframes slideIn-62de9d7e{from{opacity:0;transform:scale(0.9) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}.confirm-container[data-v-62de9d7e]{background:var(--card-bg);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border:2px solid var(--border-color);width:90%;max-width:400px;overflow:hidden;animation:slideIn-62de9d7e .2s ease-out}.confirm-container.type-warning[data-v-62de9d7e]{border-color:var(--accent-color)}.confirm-container.type-danger[data-v-62de9d7e]{border-color:var(--error-color)}.confirm-container.type-info[data-v-62de9d7e]{border-color:var(--info-color,#2196f3)}.confirm-header[data-v-62de9d7e]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:1px solid var(--border-color)}.type-danger .confirm-header[data-v-62de9d7e]{background:linear-gradient(135deg,rgba(211,47,47,0.1) 0%,rgba(211,47,47,0.05) 100%)}.type-info .confirm-header[data-v-62de9d7e]{background:linear-gradient(135deg,rgba(33,150,243,0.1) 0%,rgba(33,150,243,0.05) 100%)}.confirm-header .confirm-icon[data-v-62de9d7e]{font-size:1.3rem}.type-warning .confirm-header .confirm-icon[data-v-62de9d7e]{color:var(--accent-color)}.type-danger .confirm-header .confirm-icon[data-v-62de9d7e]{color:var(--error-color)}.type-info .confirm-header .confirm-icon[data-v-62de9d7e]{color:var(--info-color,#2196f3)}.confirm-header .confirm-title[data-v-62de9d7e]{margin:0;font-size:1.1rem;color:var(--title-color);font-weight:700}.confirm-content[data-v-62de9d7e]{padding:var(--spacing-lg)}.confirm-content .confirm-message[data-v-62de9d7e]{margin:0;font-size:.95rem;color:var(--text-color);line-height:1.6}.confirm-actions[data-v-62de9d7e]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-md) var(--spacing-lg);border-top:1px solid var(--border-color);justify-content:flex-end}.btn-cancel[data-v-62de9d7e],.btn-confirm[data-v-62de9d7e]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast);min-width:80px}.btn-cancel i[data-v-62de9d7e],.btn-confirm i[data-v-62de9d7e]{font-size:.85rem}.btn-cancel[data-v-62de9d7e]{background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color)}.btn-cancel[data-v-62de9d7e]:hover{background:var(--card-bg);border-color:var(--border-color-strong)}.btn-confirm[data-v-62de9d7e]{color:#fff}.btn-confirm.btn-warning[data-v-62de9d7e]{background:var(--accent-color)}.btn-confirm.btn-warning[data-v-62de9d7e]:hover{background:#c9a842;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.btn-confirm.btn-danger[data-v-62de9d7e]{background:var(--error-color)}.btn-confirm.btn-danger[data-v-62de9d7e]:hover{background:#c62828;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.btn-confirm.btn-info[data-v-62de9d7e]{background:var(--info-color,#2196f3)}.btn-confirm.btn-info[data-v-62de9d7e]:hover{background:#1976d2;transform:translateY(-1px);box-shadow:var(--shadow-sm)}@media (max-width:480px){.confirm-container[data-v-62de9d7e]{width:95%}.confirm-actions[data-v-62de9d7e]{flex-direction:column-reverse}.confirm-actions .btn-cancel[data-v-62de9d7e],.confirm-actions .btn-confirm[data-v-62de9d7e]{width:100%;justify-content:center}}
.form-array-input[data-v-0a1882c2]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--input-bg);overflow:hidden}.form-array-input.is-disabled[data-v-0a1882c2]{opacity:.6;pointer-events:none}.array-items[data-v-0a1882c2]{max-height:200px;overflow-y:auto;padding:var(--spacing-sm)}.array-items[data-v-0a1882c2]::-webkit-scrollbar{width:6px}.array-items[data-v-0a1882c2]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:3px}.array-items[data-v-0a1882c2]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.array-items[data-v-0a1882c2]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.array-item[data-v-0a1882c2]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);background:var(--card-bg);border:1px solid var(--border-color-light);border-radius:var(--radius-md);margin-bottom:var(--spacing-xs);transition:all var(--transition-fast)}.array-item[data-v-0a1882c2]:last-child{margin-bottom:0}.array-item[data-v-0a1882c2]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.item-index[data-v-0a1882c2]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--accent-color);color:var(--primary-bg);border-radius:50%;font-size:.75rem;font-weight:700;flex-shrink:0}.item-text[data-v-0a1882c2]{flex:1;font-size:.95rem;color:var(--text-color);cursor:pointer;padding:var(--spacing-xs) 0;min-height:28px;display:flex;align-items:center}.item-text[data-v-0a1882c2]:hover{color:var(--accent-color)}.item-input[data-v-0a1882c2]{flex:1;padding:var(--spacing-xs) var(--spacing-sm);background:#fff;border:1px solid var(--accent-color);border-radius:var(--radius-sm);font-size:.95rem;color:var(--text-color);outline:none}.item-input[data-v-0a1882c2]:focus{box-shadow:0 0 0 2px rgba(212,175,55,.2)}.item-actions[data-v-0a1882c2]{display:flex;gap:4px;opacity:0;transition:opacity var(--transition-fast)}.array-item:hover .item-actions[data-v-0a1882c2]{opacity:1}.action-btn[data-v-0a1882c2]{display:flex;align-items:center;justify-content:center;width:26px;height:26px;padding:0;border:1px solid var(--border-color);border-radius:var(--radius-sm);background:var(--card-bg);cursor:pointer;font-size:.75rem;transition:all var(--transition-fast)}.action-btn[data-v-0a1882c2]:hover:not(:disabled){border-color:var(--accent-color);background:rgba(212,175,55,.1)}.action-btn[data-v-0a1882c2]:disabled{opacity:.4;cursor:not-allowed}.action-btn.remove-btn[data-v-0a1882c2]:hover:not(:disabled){border-color:var(--error-color);background:rgba(211,47,47,.1);color:var(--error-color)}.empty-state[data-v-0a1882c2]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-lg);color:var(--text-light);gap:var(--spacing-sm)}.empty-state .empty-icon[data-v-0a1882c2]{font-size:1.5rem;opacity:.6}.empty-state .empty-text[data-v-0a1882c2]{font-size:.85rem}.add-item-section[data-v-0a1882c2]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-sm);border-top:1px solid var(--border-color-light);background:rgba(212,175,55,.03)}.add-input[data-v-0a1882c2]{flex:1;padding:var(--spacing-sm) var(--spacing-md);background:#fff;border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.9rem;color:var(--text-color);outline:none;transition:all var(--transition-fast)}.add-input[data-v-0a1882c2]::placeholder{color:var(--text-light)}.add-input[data-v-0a1882c2]:focus{border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(212,175,55,.1)}.add-input[data-v-0a1882c2]:disabled{background:var(--border-color-light);cursor:not-allowed}.add-btn[data-v-0a1882c2]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:var(--accent-color);color:var(--primary-bg);border:none;border-radius:var(--radius-md);font-size:.85rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast);white-space:nowrap}.add-btn[data-v-0a1882c2]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px)}.add-btn[data-v-0a1882c2]:disabled{opacity:.5;cursor:not-allowed;transform:none}.add-btn .add-icon[data-v-0a1882c2]{font-size:1rem;font-weight:700}.count-info[data-v-0a1882c2]{display:flex;align-items:center;justify-content:flex-end;padding:var(--spacing-xs) var(--spacing-sm);background:var(--border-color-light);font-size:.75rem;color:var(--text-light);gap:2px}.count-info .count-current[data-v-0a1882c2]{font-weight:700;color:var(--accent-color)}.count-info .count-max[data-v-0a1882c2]{font-weight:600}.list-enter-active[data-v-0a1882c2],.list-leave-active[data-v-0a1882c2]{transition:all .3s ease}.list-enter-from[data-v-0a1882c2]{opacity:0;transform:translateX(-20px)}.list-leave-to[data-v-0a1882c2]{opacity:0;transform:translateX(20px)}.list-move[data-v-0a1882c2]{transition:transform .3s ease}@media (max-width:768px){.add-item-section[data-v-0a1882c2]{flex-direction:column}.add-btn[data-v-0a1882c2]{justify-content:center}.item-actions[data-v-0a1882c2]{opacity:1}.action-btn[data-v-0a1882c2]{width:28px;height:28px}}
.form-input-wrapper[data-v-68bda4ea]{position:relative;width:100%}.form-input[data-v-68bda4ea]{width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-input[data-v-68bda4ea]::placeholder{color:var(--text-light)}.form-input[data-v-68bda4ea]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-input[data-v-68bda4ea]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-input.is-disabled[data-v-68bda4ea]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-input.is-readonly[data-v-68bda4ea]{background:var(--border-color-light);cursor:default}
.form-key-value[data-v-a1444030]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--input-bg);overflow:hidden}.form-key-value.is-disabled[data-v-a1444030]{opacity:.6;pointer-events:none}.kv-list[data-v-a1444030]{max-height:240px;overflow-y:auto;padding:var(--spacing-sm)}.kv-list[data-v-a1444030]::-webkit-scrollbar{width:6px}.kv-list[data-v-a1444030]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:3px}.kv-list[data-v-a1444030]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.kv-list[data-v-a1444030]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.kv-row[data-v-a1444030]{display:grid;grid-template-columns:28px 1fr auto;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);background:var(--card-bg);border:1px solid var(--border-color-light);border-radius:var(--radius-md);margin-bottom:var(--spacing-xs);transition:all var(--transition-fast)}.kv-row[data-v-a1444030]:last-child{margin-bottom:0}.kv-row[data-v-a1444030]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.row-index[data-v-a1444030]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:var(--accent-color);color:var(--primary-bg);border-radius:50%;font-size:.75rem;font-weight:700}.row-text[data-v-a1444030]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.9rem;color:var(--text-color)}.kv-key[data-v-a1444030]{font-weight:600;color:var(--title-color)}.kv-separator[data-v-a1444030]{color:var(--text-light)}.kv-value[data-v-a1444030]{color:var(--text-color)}.row-inputs[data-v-a1444030]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--spacing-sm)}.kv-input[data-v-a1444030]{width:100%;padding:var(--spacing-xs) var(--spacing-sm);background:#fff;border:1px solid var(--border-color);border-radius:var(--radius-sm);font-size:.9rem;color:var(--text-color);outline:none;transition:all var(--transition-fast)}.kv-input[data-v-a1444030]::placeholder{color:var(--text-light)}.kv-input[data-v-a1444030]:focus{border-color:var(--accent-color);box-shadow:0 0 0 2px rgba(212,175,55,.15)}.kv-input[data-v-a1444030]:disabled{background:var(--border-color-light);cursor:not-allowed}.row-actions[data-v-a1444030]{display:flex;gap:var(--spacing-xs)}.action-btn[data-v-a1444030]{padding:4px 10px;border:1px solid var(--border-color);border-radius:var(--radius-sm);background:var(--card-bg);font-size:.8rem;cursor:pointer;transition:all var(--transition-fast)}.action-btn[data-v-a1444030]:hover:not(:disabled){border-color:var(--accent-color)}.action-btn[data-v-a1444030]:disabled{opacity:.5;cursor:not-allowed}.action-btn.danger[data-v-a1444030]:hover:not(:disabled){border-color:var(--error-color);color:var(--error-color);background:rgba(211,47,47,.05)}.action-btn.subtle[data-v-a1444030]{background:var(--input-bg)}.add-row[data-v-a1444030]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr)) auto;gap:var(--spacing-sm);padding:var(--spacing-sm);border-top:1px solid var(--border-color-light);background:rgba(212,175,55,.03)}.add-btn[data-v-a1444030]{padding:var(--spacing-xs) var(--spacing-md);background:var(--accent-color);color:var(--primary-bg);border:none;border-radius:var(--radius-md);font-size:.85rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.add-btn[data-v-a1444030]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px)}.add-btn[data-v-a1444030]:disabled{opacity:.5;cursor:not-allowed;transform:none}.empty-state[data-v-a1444030]{padding:var(--spacing-lg);text-align:center;color:var(--text-light);font-size:.85rem}.count-info[data-v-a1444030]{display:flex;align-items:center;justify-content:flex-end;padding:var(--spacing-xs) var(--spacing-sm);background:var(--border-color-light);font-size:.75rem;color:var(--text-light);gap:2px}.count-info .count-current[data-v-a1444030]{font-weight:700;color:var(--accent-color)}.count-info .count-max[data-v-a1444030]{font-weight:600}.kv-list-enter-active[data-v-a1444030],.kv-list-leave-active[data-v-a1444030]{transition:all .3s ease}.kv-list-enter-from[data-v-a1444030]{opacity:0;transform:translateY(-8px)}.kv-list-leave-to[data-v-a1444030]{opacity:0;transform:translateX(16px)}.kv-list-move[data-v-a1444030]{transition:transform .3s ease}@media (max-width:768px){.kv-row[data-v-a1444030]{grid-template-columns:24px 1fr}.row-actions[data-v-a1444030]{grid-column:1/-1;justify-content:flex-end}.add-row[data-v-a1444030]{grid-template-columns:1fr}}
.form-label[data-v-11a19624]{display:inline-flex;align-items:center;gap:var(--spacing-xs);font-size:1rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);letter-spacing:.3px;cursor:pointer;transition:color var(--transition-fast)}.form-label[data-v-11a19624]:hover{color:var(--accent-color)}.form-label .required-mark[data-v-11a19624]{color:var(--error-color);font-weight:700;font-size:1.1rem;line-height:1}
.form-number-wrapper[data-v-48d2dd58]{position:relative;width:100%;display:flex;align-items:center}.form-number[data-v-48d2dd58]{flex:1;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-number.has-controls[data-v-48d2dd58]{border-radius:var(--radius-md) 0 0 var(--radius-md);border-right:none}.form-number[data-v-48d2dd58]::-webkit-inner-spin-button,.form-number[data-v-48d2dd58]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.form-number[type=number][data-v-48d2dd58]{-moz-appearance:textfield}.form-number[data-v-48d2dd58]::placeholder{color:var(--text-light)}.form-number[data-v-48d2dd58]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-number[data-v-48d2dd58]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-number.is-disabled[data-v-48d2dd58]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-number.is-readonly[data-v-48d2dd58]{background:var(--border-color-light);cursor:default}.number-controls[data-v-48d2dd58]{display:flex;flex-direction:column;gap:0;border:1px solid var(--border-color);border-left:none;border-radius:0 var(--radius-md) var(--radius-md) 0;background:var(--button-bg);overflow:hidden}.number-controls .control-btn[data-v-48d2dd58]{width:32px;height:20px;padding:0;border:0;background:rgba(0,0,0,0);color:var(--text-color);font-size:.7rem;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center}.number-controls .control-btn[data-v-48d2dd58]:hover:not(:disabled){background:var(--button-hover);color:var(--accent-color)}.number-controls .control-btn[data-v-48d2dd58]:active:not(:disabled){background:var(--border-color-strong)}.number-controls .control-btn[data-v-48d2dd58]:disabled{opacity:.4;cursor:not-allowed}.number-controls .control-btn.up[data-v-48d2dd58]{border-bottom:1px solid var(--border-color)}
.form-radio-group[data-v-588d959c]{display:flex;gap:var(--spacing-sm)}.form-radio-group.layout-vertical[data-v-588d959c]{flex-direction:column}.form-radio-group.layout-horizontal[data-v-588d959c]{flex-direction:row;flex-wrap:wrap}.radio-option[data-v-588d959c]{display:flex;align-items:flex-start;gap:var(--spacing-md);padding:var(--spacing-md);cursor:pointer;border-radius:var(--radius-md);transition:all var(--transition-normal);background:var(--input-bg);border:1px solid var(--border-color);position:relative}.radio-option[data-v-588d959c]:hover:not(.is-disabled){background:var(--card-bg);border-color:var(--accent-color);box-shadow:var(--shadow-md)}.radio-option.is-checked[data-v-588d959c]{background:var(--card-bg);border-color:var(--accent-color);box-shadow:var(--shadow-md)}.radio-option.is-checked .radio-label[data-v-588d959c]{color:var(--accent-color);font-weight:600}.radio-option.is-disabled[data-v-588d959c]{opacity:.6;cursor:not-allowed}.radio-option.is-disabled[data-v-588d959c]:hover{transform:none;box-shadow:none}.radio-option .radio-input[data-v-588d959c]{position:absolute;opacity:0;width:0;height:0}.radio-option .radio-indicator[data-v-588d959c]{width:20px;height:20px;min-width:20px;border-radius:50%;border:2px solid var(--border-color);background:#fff;flex-shrink:0;margin-top:2px;transition:all var(--transition-normal);position:relative;display:flex;align-items:center;justify-content:center}.radio-option .radio-indicator[data-v-588d959c]::after{content:"";width:10px;height:10px;border-radius:50%;background:var(--accent-color);transform:scale(0);transition:transform var(--transition-fast)}.radio-option .radio-input:focus-visible~.radio-indicator[data-v-588d959c]{box-shadow:0 0 0 3px rgba(212,175,55,.2)}.radio-option:hover:not(.is-disabled) .radio-indicator[data-v-588d959c]{border-color:var(--accent-color)}.radio-option .radio-input:checked~.radio-indicator[data-v-588d959c]{border-color:var(--accent-color);background:#fff}.radio-option .radio-input:checked~.radio-indicator[data-v-588d959c]::after{transform:scale(1)}.radio-option .radio-label[data-v-588d959c]{color:var(--text-color);font-size:1rem;line-height:1.5;word-break:break-word;flex:1;transition:color var(--transition-fast)}
.form-select-wrapper[data-v-39002e0d]{position:relative;width:100%}.form-select[data-v-39002e0d]{width:100%;padding:var(--spacing-sm) var(--spacing-md);padding-right:36px;background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none;cursor:pointer;-webkit-appearance:none;appearance:none}.form-select[data-v-39002e0d]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-select[data-v-39002e0d]:hover:not(:disabled){border-color:var(--border-color-strong)}.form-select.is-disabled[data-v-39002e0d]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-select option[data-v-39002e0d]{background:var(--input-bg);color:var(--text-color);padding:var(--spacing-sm)}.form-select option[data-v-39002e0d]:disabled{color:var(--text-light)}.select-arrow[data-v-39002e0d]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--accent-color);font-size:.7rem;pointer-events:none;transition:transform var(--transition-normal)}.form-select:focus~.select-arrow[data-v-39002e0d]{transform:translateY(-50%) rotate(180deg)}
.form-stepper[data-v-bf006b3c]{display:flex;align-items:center;gap:var(--spacing-md)}.stepper-label[data-v-bf006b3c]{font-size:1rem;font-weight:600;color:var(--title-color);min-width:60px}.stepper-controls[data-v-bf006b3c]{display:flex;align-items:center;gap:var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-xs)}.stepper-btn[data-v-bf006b3c]{width:32px;height:32px;border:1px solid var(--border-color);background:var(--button-bg);color:var(--text-color);border-radius:var(--radius-sm);font-size:1.2rem;font-weight:700;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;line-height:1}.stepper-btn[data-v-bf006b3c]:hover:not(:disabled){background:var(--button-hover);border-color:var(--accent-color);color:var(--accent-color)}.stepper-btn[data-v-bf006b3c]:active:not(:disabled){transform:scale(0.95)}.stepper-btn[data-v-bf006b3c]:disabled{opacity:.4;cursor:not-allowed;background:var(--border-color-light)}.stepper-btn.decrement[data-v-bf006b3c]:hover:not(:disabled){color:var(--error-color);border-color:var(--error-color)}.stepper-btn.increment[data-v-bf006b3c]:hover:not(:disabled){color:var(--success-color);border-color:var(--success-color)}.stepper-value[data-v-bf006b3c]{min-width:40px;text-align:center;font-weight:600;font-size:1.1rem;color:var(--text-color);-webkit-user-select:none;user-select:none}
.attribute-editor[data-v-e089f256]{width:100%;padding:var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md)}.attribute-editor.is-disabled[data-v-e089f256]{opacity:.6;pointer-events:none}.attribute-editor[data-v-e089f256] .label-icon{color:var(--accent-color)}.attribute-grid[data-v-e089f256]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:var(--spacing-md)}.attribute-item[data-v-e089f256]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.total-points[data-v-e089f256]{display:flex;justify-content:flex-end;align-items:center;margin-top:var(--spacing-md);padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light);font-size:.9rem}.total-points .total-label[data-v-e089f256]{color:var(--text-light)}.total-points .total-value[data-v-e089f256]{font-weight:700;color:var(--accent-color);margin-left:var(--spacing-xs)}
.equipment-editor[data-v-728c669c]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--input-bg);overflow:hidden}.equipment-editor.is-disabled[data-v-728c669c]{opacity:.6;pointer-events:none}.equipment-list[data-v-728c669c]{max-height:400px;overflow-y:auto;padding:var(--spacing-sm)}.equipment-list[data-v-728c669c]::-webkit-scrollbar{width:6px}.equipment-list[data-v-728c669c]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:3px}.equipment-list[data-v-728c669c]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.equipment-list[data-v-728c669c]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.equipment-item[data-v-728c669c]{background:var(--card-bg);border:1px solid var(--border-color-light);border-radius:var(--radius-md);padding:var(--spacing-md);margin-bottom:var(--spacing-sm);transition:all var(--transition-fast)}.equipment-item[data-v-728c669c]:last-child{margin-bottom:0}.equipment-item[data-v-728c669c]:hover:not(.editing){border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.equipment-item.editing[data-v-728c669c]{border-color:var(--accent-color);background:rgba(212,175,55,.05)}.item-header[data-v-728c669c]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.item-type[data-v-728c669c]{padding:2px 8px;background:var(--border-color-light);border-radius:var(--radius-sm);font-size:.75rem;color:var(--text-light)}.item-name[data-v-728c669c]{flex:1;font-size:1rem;font-weight:600;color:var(--title-color)}.item-rarity[data-v-728c669c]{padding:2px 10px;border-radius:var(--radius-sm);font-size:.75rem;font-weight:600;background:var(--rarity-color);color:#fff;text-shadow:0 1px 1px rgba(0,0,0,.2)}.item-effect[data-v-728c669c]{font-size:.9rem;color:var(--text-color);margin-bottom:var(--spacing-xs)}.item-effect .effect-label[data-v-728c669c]{color:var(--accent-color);font-weight:600}.item-tag[data-v-728c669c]{margin-bottom:var(--spacing-xs);display:flex;flex-wrap:wrap;gap:4px}.item-tag .tag-text[data-v-728c669c]{display:inline-flex;align-items:center;padding:2px 8px;background:rgba(212,175,55,.15);border:1px solid rgba(212,175,55,.3);border-radius:var(--radius-sm);font-size:.8rem;color:var(--accent-color)}.effect-list[data-v-728c669c]{margin-top:var(--spacing-xs);display:grid;gap:4px}.effect-row[data-v-728c669c]{display:grid;grid-template-columns:minmax(64px,max-content) 1fr;gap:var(--spacing-xs);font-size:.85rem;color:var(--text-color)}.effect-key[data-v-728c669c]{color:var(--text-light);font-weight:600}.effect-value[data-v-728c669c]{color:var(--text-color)}.item-description[data-v-728c669c]{font-size:.85rem;color:var(--text-light);font-style:italic;padding-top:var(--spacing-xs);border-top:1px dashed var(--border-color-light)}.item-actions[data-v-728c669c]{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-sm);padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.item-actions i[data-v-728c669c]{margin-right:var(--spacing-xs)}.action-btn[data-v-728c669c]{padding:var(--spacing-xs) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-sm);background:var(--card-bg);font-size:.8rem;cursor:pointer;transition:all var(--transition-fast)}.action-btn[data-v-728c669c]:hover:not(:disabled){border-color:var(--accent-color)}.action-btn[data-v-728c669c]:disabled{opacity:.5;cursor:not-allowed}.action-btn.delete[data-v-728c669c]:hover:not(:disabled){border-color:var(--error-color);color:var(--error-color);background:rgba(211,47,47,.05)}.edit-form[data-v-728c669c],.add-form[data-v-728c669c]{padding:var(--spacing-md)}.add-form[data-v-728c669c]{border-top:1px solid var(--border-color-light);background:rgba(212,175,55,.03)}.add-form-header[data-v-728c669c]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md)}.add-form-header .form-title[data-v-728c669c]{font-weight:600;color:var(--title-color)}.add-form-header .close-btn[data-v-728c669c]{width:24px;height:24px;padding:0;border:none;background:none;cursor:pointer;font-size:.9rem;color:var(--text-light);transition:color var(--transition-fast)}.add-form-header .close-btn[data-v-728c669c]:hover{color:var(--error-color)}.form-row[data-v-728c669c]{margin-bottom:var(--spacing-sm)}.form-row.half[data-v-728c669c]{flex:1}.form-row-group[data-v-728c669c]{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-sm)}.edit-actions[data-v-728c669c],.add-form-actions[data-v-728c669c]{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-md);justify-content:flex-end}.btn-cancel[data-v-728c669c],.btn-save[data-v-728c669c],.btn-add[data-v-728c669c]{padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.btn-cancel[data-v-728c669c]{background:var(--border-color-light);color:var(--text-color)}.btn-cancel[data-v-728c669c]:hover{background:var(--border-color)}.btn-save[data-v-728c669c],.btn-add[data-v-728c669c]{background:var(--accent-color);color:var(--primary-bg)}.btn-save[data-v-728c669c]:hover:not(:disabled),.btn-add[data-v-728c669c]:hover:not(:disabled){background:#c9a842}.btn-save[data-v-728c669c]:disabled,.btn-add[data-v-728c669c]:disabled{opacity:.5;cursor:not-allowed}.empty-state[data-v-728c669c]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl);color:var(--text-light);gap:var(--spacing-sm)}.empty-state .empty-icon[data-v-728c669c]{font-size:2rem;opacity:.6}.empty-state .empty-text[data-v-728c669c]{font-size:.9rem}.add-section[data-v-728c669c]{padding:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.add-btn[data-v-728c669c]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);width:100%;padding:var(--spacing-md);background:rgba(212,175,55,.1);border:2px dashed var(--accent-color);border-radius:var(--radius-md);color:var(--accent-color);font-size:.95rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.add-btn[data-v-728c669c]:hover:not(:disabled){background:rgba(212,175,55,.2);border-style:solid}.add-btn[data-v-728c669c]:disabled{opacity:.5;cursor:not-allowed}.add-btn .add-icon[data-v-728c669c]{font-size:1.2rem;font-weight:700}.count-info[data-v-728c669c]{display:flex;align-items:center;justify-content:flex-end;padding:var(--spacing-xs) var(--spacing-sm);background:var(--border-color-light);font-size:.75rem;color:var(--text-light);gap:2px}.count-info .count-current[data-v-728c669c]{font-weight:700;color:var(--accent-color)}.count-info .count-max[data-v-728c669c]{font-weight:600}.equip-list-enter-active[data-v-728c669c],.equip-list-leave-active[data-v-728c669c]{transition:all .3s ease}.equip-list-enter-from[data-v-728c669c]{opacity:0;transform:translateY(-10px)}.equip-list-leave-to[data-v-728c669c]{opacity:0;transform:translateX(20px)}.equip-list-move[data-v-728c669c]{transition:transform .3s ease}@media (max-width:768px){.form-row-group[data-v-728c669c]{flex-direction:column;gap:var(--spacing-sm)}.item-header[data-v-728c669c]{flex-wrap:wrap}.item-actions[data-v-728c669c]{flex-wrap:wrap}}
.skill-editor[data-v-149e0e68]{width:100%;border:1px solid var(--border-color);border-radius:var(--radius-md);background:var(--input-bg);overflow:hidden}.skill-editor.is-disabled[data-v-149e0e68]{opacity:.6;pointer-events:none}.skill-list[data-v-149e0e68]{max-height:400px;overflow-y:auto;padding:var(--spacing-sm)}.skill-list[data-v-149e0e68]::-webkit-scrollbar{width:6px}.skill-list[data-v-149e0e68]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:3px}.skill-list[data-v-149e0e68]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.skill-list[data-v-149e0e68]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.skill-item[data-v-149e0e68]{background:var(--card-bg);border:1px solid var(--border-color-light);border-radius:var(--radius-md);padding:var(--spacing-md);margin-bottom:var(--spacing-sm);transition:all var(--transition-fast)}.skill-item[data-v-149e0e68]:last-child{margin-bottom:0}.skill-item[data-v-149e0e68]:hover:not(.editing){border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.skill-item.editing[data-v-149e0e68]{border-color:var(--accent-color);background:rgba(212,175,55,.05)}.item-header[data-v-149e0e68]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.item-type[data-v-149e0e68]{padding:2px 8px;background:var(--border-color-light);border-radius:var(--radius-sm);font-size:.75rem;color:var(--text-light)}.item-name[data-v-149e0e68]{flex:1;font-size:1rem;font-weight:600;color:var(--title-color)}.item-rarity[data-v-149e0e68]{padding:2px 10px;border-radius:var(--radius-sm);font-size:.75rem;font-weight:600;background:var(--rarity-color);color:#fff;text-shadow:0 1px 1px rgba(0,0,0,.2)}.item-tag[data-v-149e0e68]{margin-bottom:var(--spacing-xs);display:flex;flex-wrap:wrap;gap:4px}.item-tag .tag-text[data-v-149e0e68]{display:inline-flex;align-items:center;padding:2px 8px;background:rgba(212,175,55,.15);border:1px solid rgba(212,175,55,.3);border-radius:var(--radius-sm);font-size:.8rem;color:var(--accent-color)}.item-consume[data-v-149e0e68]{font-size:.85rem;color:var(--text-color);margin-bottom:var(--spacing-xs)}.item-consume .consume-label[data-v-149e0e68]{color:#e91e63;font-weight:600}.item-consume .consume-text[data-v-149e0e68]{color:#c2185b}.item-effect[data-v-149e0e68]{font-size:.9rem;color:var(--text-color);margin-bottom:var(--spacing-xs);line-height:1.5}.item-effect .effect-label[data-v-149e0e68]{color:var(--accent-color);font-weight:600}.effect-list[data-v-149e0e68]{margin-top:var(--spacing-xs);display:grid;gap:4px}.effect-row[data-v-149e0e68]{display:grid;grid-template-columns:minmax(64px,max-content) 1fr;gap:var(--spacing-xs);font-size:.85rem;color:var(--text-color)}.effect-key[data-v-149e0e68]{color:var(--text-light);font-weight:600}.effect-value[data-v-149e0e68]{color:var(--text-color)}.item-description[data-v-149e0e68]{font-size:.85rem;color:var(--text-light);font-style:italic;padding-top:var(--spacing-xs);border-top:1px dashed var(--border-color-light)}.item-actions[data-v-149e0e68]{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-sm);padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.item-actions i[data-v-149e0e68]{margin-right:var(--spacing-xs)}.action-btn[data-v-149e0e68]{padding:var(--spacing-xs) var(--spacing-md);border:1px solid var(--border-color);border-radius:var(--radius-sm);background:var(--card-bg);font-size:.8rem;cursor:pointer;transition:all var(--transition-fast)}.action-btn[data-v-149e0e68]:hover:not(:disabled){border-color:var(--accent-color)}.action-btn[data-v-149e0e68]:disabled{opacity:.5;cursor:not-allowed}.action-btn.delete[data-v-149e0e68]:hover:not(:disabled){border-color:var(--error-color);color:var(--error-color);background:rgba(211,47,47,.05)}.edit-form[data-v-149e0e68],.add-form[data-v-149e0e68]{padding:var(--spacing-md)}.add-form[data-v-149e0e68]{border-top:1px solid var(--border-color-light);background:rgba(212,175,55,.03)}.add-form-header[data-v-149e0e68]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md)}.add-form-header .form-title[data-v-149e0e68]{font-weight:600;color:var(--title-color)}.add-form-header .close-btn[data-v-149e0e68]{width:24px;height:24px;padding:0;border:none;background:none;cursor:pointer;font-size:.9rem;color:var(--text-light);transition:color var(--transition-fast)}.add-form-header .close-btn[data-v-149e0e68]:hover{color:var(--error-color)}.form-row[data-v-149e0e68]{margin-bottom:var(--spacing-sm)}.form-row.half[data-v-149e0e68]{flex:1}.form-row-group[data-v-149e0e68]{display:flex;gap:var(--spacing-md);margin-bottom:var(--spacing-sm)}.edit-actions[data-v-149e0e68],.add-form-actions[data-v-149e0e68]{display:flex;gap:var(--spacing-sm);margin-top:var(--spacing-md);justify-content:flex-end}.btn-cancel[data-v-149e0e68],.btn-save[data-v-149e0e68],.btn-add[data-v-149e0e68]{padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.btn-cancel[data-v-149e0e68]{background:var(--border-color-light);color:var(--text-color)}.btn-cancel[data-v-149e0e68]:hover{background:var(--border-color)}.btn-save[data-v-149e0e68],.btn-add[data-v-149e0e68]{background:var(--accent-color);color:var(--primary-bg)}.btn-save[data-v-149e0e68]:hover:not(:disabled),.btn-add[data-v-149e0e68]:hover:not(:disabled){background:#c9a842}.btn-save[data-v-149e0e68]:disabled,.btn-add[data-v-149e0e68]:disabled{opacity:.5;cursor:not-allowed}.empty-state[data-v-149e0e68]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl);color:var(--text-light);gap:var(--spacing-sm)}.empty-state .empty-icon[data-v-149e0e68]{font-size:2rem;opacity:.6}.empty-state .empty-text[data-v-149e0e68]{font-size:.9rem}.add-section[data-v-149e0e68]{padding:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.add-btn[data-v-149e0e68]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-sm);width:100%;padding:var(--spacing-md);background:rgba(212,175,55,.1);border:2px dashed var(--accent-color);border-radius:var(--radius-md);color:var(--accent-color);font-size:.95rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.add-btn[data-v-149e0e68]:hover:not(:disabled){background:rgba(212,175,55,.2);border-style:solid}.add-btn[data-v-149e0e68]:disabled{opacity:.5;cursor:not-allowed}.add-btn .add-icon[data-v-149e0e68]{font-size:1.2rem;font-weight:700}.count-info[data-v-149e0e68]{display:flex;align-items:center;justify-content:flex-end;padding:var(--spacing-xs) var(--spacing-sm);background:var(--border-color-light);font-size:.75rem;color:var(--text-light);gap:2px}.count-info .count-current[data-v-149e0e68]{font-weight:700;color:var(--accent-color)}.count-info .count-max[data-v-149e0e68]{font-weight:600}.skill-list-enter-active[data-v-149e0e68],.skill-list-leave-active[data-v-149e0e68]{transition:all .3s ease}.skill-list-enter-from[data-v-149e0e68]{opacity:0;transform:translateY(-10px)}.skill-list-leave-to[data-v-149e0e68]{opacity:0;transform:translateX(20px)}.skill-list-move[data-v-149e0e68]{transition:transform .3s ease}@media (max-width:768px){.form-row-group[data-v-149e0e68]{flex-direction:column;gap:var(--spacing-sm)}.item-header[data-v-149e0e68]{flex-wrap:wrap}.item-actions[data-v-149e0e68]{flex-wrap:wrap}}
.custom-destined-form[data-v-5fc2dbf9]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;transition:all var(--transition-normal)}.custom-destined-form:not(.expanded) .form-header[data-v-5fc2dbf9]{border-bottom:none}.custom-destined-form .form-header[data-v-5fc2dbf9]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(139,69,19,0.1) 0%,rgba(139,69,19,0.05) 100%);border-bottom:2px solid var(--border-color);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;justify-content:space-between;align-items:center;transition:all var(--transition-fast)}.custom-destined-form .form-header[data-v-5fc2dbf9]:hover{background:linear-gradient(135deg,rgba(139,69,19,0.15) 0%,rgba(139,69,19,0.08) 100%)}.custom-destined-form .form-header .header-left[data-v-5fc2dbf9]{flex:1}.custom-destined-form .form-header .form-title[data-v-5fc2dbf9]{font-size:1.1rem;margin:0 0 var(--spacing-xs) 0;color:var(--title-color);font-weight:700}.custom-destined-form .form-header .form-desc[data-v-5fc2dbf9]{font-size:.85rem;color:var(--text-light)}.custom-destined-form .form-header .toggle-icon[data-v-5fc2dbf9]{font-size:.9rem;color:var(--text-light);transition:transform var(--transition-fast);margin-left:var(--spacing-md)}.custom-destined-form .form-header .toggle-icon.rotated[data-v-5fc2dbf9]{transform:rotate(180deg)}.custom-destined-form .form-body[data-v-5fc2dbf9]{padding:var(--spacing-lg);max-height:70vh;overflow-y:auto}.custom-destined-form .form-row[data-v-5fc2dbf9]{margin-bottom:var(--spacing-md)}.custom-destined-form .form-row[data-v-5fc2dbf9]:last-child{margin-bottom:0}.custom-destined-form .level-buttons[data-v-5fc2dbf9]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--spacing-xs)}.custom-destined-form .level-btn[data-v-5fc2dbf9]{padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color);white-space:nowrap}.custom-destined-form .level-btn[data-v-5fc2dbf9]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.custom-destined-form .level-btn.active[data-v-5fc2dbf9]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600;box-shadow:0 2px 4px rgba(212,175,55,.3)}.custom-destined-form .cost-info[data-v-5fc2dbf9]{margin-top:var(--spacing-xs);font-size:.85rem;color:var(--text-light)}.custom-destined-form .cost-info .cost-value[data-v-5fc2dbf9]{font-size:1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono);margin:0 var(--spacing-xs)}.custom-destined-form .form-actions[data-v-5fc2dbf9]{display:flex;gap:var(--spacing-md);margin-top:var(--spacing-lg);padding-top:var(--spacing-md);border-top:1px solid var(--border-color)}.custom-destined-form .btn-reset[data-v-5fc2dbf9],.custom-destined-form .btn-submit[data-v-5fc2dbf9]{flex:1;padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.custom-destined-form .btn-reset[data-v-5fc2dbf9]{background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color)}.custom-destined-form .btn-reset[data-v-5fc2dbf9]:hover{background:var(--card-bg);border-color:var(--border-color-strong)}.custom-destined-form .btn-submit[data-v-5fc2dbf9]{background:var(--accent-color);color:var(--primary-bg)}.custom-destined-form .btn-submit[data-v-5fc2dbf9]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.custom-destined-form .btn-submit[data-v-5fc2dbf9]:disabled{opacity:.5;cursor:not-allowed}.custom-destined-form .field-hint[data-v-5fc2dbf9]{margin-top:var(--spacing-xs);font-size:.8rem;color:var(--text-light);font-style:italic}@media (max-width:768px){.custom-destined-form .form-header[data-v-5fc2dbf9]{padding:var(--spacing-sm) var(--spacing-md)}.custom-destined-form .form-header .header-left .form-title[data-v-5fc2dbf9]{font-size:1rem}.custom-destined-form .form-header .header-left .form-desc[data-v-5fc2dbf9]{font-size:.8rem}.custom-destined-form .form-header .toggle-icon[data-v-5fc2dbf9]{font-size:.85rem}.custom-destined-form .form-body[data-v-5fc2dbf9]{padding:var(--spacing-md);max-height:60vh}.custom-destined-form .form-row[data-v-5fc2dbf9]{margin-bottom:var(--spacing-sm)}.custom-destined-form .level-buttons[data-v-5fc2dbf9]{grid-template-columns:repeat(2,1fr)}.custom-destined-form .level-btn[data-v-5fc2dbf9]{padding:6px var(--spacing-sm);font-size:.8rem}.custom-destined-form .form-actions[data-v-5fc2dbf9]{flex-direction:column;gap:var(--spacing-sm)}}
.destined-one-list[data-v-fdf4ebfc]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:var(--spacing-lg);padding:var(--spacing-md)}.empty-message[data-v-fdf4ebfc]{grid-column:1/-1;text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:1.1rem}.destined-one-card[data-v-fdf4ebfc]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-fast)}.destined-one-card[data-v-fdf4ebfc]:hover:not(.disabled){transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--accent-color)}.destined-one-card.selected[data-v-fdf4ebfc]{border-color:var(--accent-color);background:rgba(212,175,55,.15);box-shadow:var(--shadow-md)}.destined-one-card.disabled[data-v-fdf4ebfc]{opacity:.5;cursor:not-allowed}.destined-one-card.expanded .card-body[data-v-fdf4ebfc]{max-height:10000px;opacity:1}.card-header[data-v-fdf4ebfc]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-sm);border-bottom:2px solid var(--border-color)}.card-header .item-name[data-v-fdf4ebfc]{font-size:1.2rem;color:var(--title-color);margin:0;flex:1}.card-header .header-actions[data-v-fdf4ebfc]{display:flex;align-items:center;gap:var(--spacing-sm)}.card-header .item-cost[data-v-fdf4ebfc]{font-weight:600;color:var(--accent-color);font-size:1rem}.card-header .expand-btn[data-v-fdf4ebfc]{padding:2px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;font-size:.8rem;color:var(--text-color);transition:all var(--transition-fast)}.card-header .expand-btn[data-v-fdf4ebfc]:hover{background:var(--accent-color);color:var(--primary-bg);border-color:var(--accent-color)}.card-summary[data-v-fdf4ebfc]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-xs);margin-bottom:var(--spacing-sm)}.card-summary .summary-row[data-v-fdf4ebfc]{display:flex;gap:var(--spacing-xs);font-size:.85rem}.card-summary .summary-row .label[data-v-fdf4ebfc]{color:var(--text-light);white-space:nowrap}.card-summary .summary-row .value[data-v-fdf4ebfc]{color:var(--text-color);font-weight:500}.card-body[data-v-fdf4ebfc]{display:flex;flex-direction:column;gap:var(--spacing-md);max-height:0;opacity:0;overflow:hidden;transition:all var(--transition-normal)}.info-section[data-v-fdf4ebfc]{padding:var(--spacing-sm) 0;border-bottom:1px solid var(--border-color-light)}.info-section[data-v-fdf4ebfc]:last-child{border-bottom:none}.info-row[data-v-fdf4ebfc]{display:grid;grid-template-columns:auto 1fr;gap:var(--spacing-sm);font-size:.9rem;line-height:1.6;margin-bottom:var(--spacing-xs)}.info-row .label[data-v-fdf4ebfc]{color:var(--text-light);font-weight:500;white-space:nowrap}.info-row .value[data-v-fdf4ebfc]{color:var(--text-color);word-break:break-word}.info-block[data-v-fdf4ebfc]{margin-bottom:var(--spacing-sm)}.info-block[data-v-fdf4ebfc]:last-child{margin-bottom:0}.block-title[data-v-fdf4ebfc]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.95rem}.block-content[data-v-fdf4ebfc]{color:var(--text-color);line-height:1.6;font-size:.85rem}.attributes[data-v-fdf4ebfc]{display:grid;grid-template-columns:repeat(auto-fit,minmax(70px,1fr));gap:var(--spacing-xs)}.attr-item[data-v-fdf4ebfc]{display:flex;align-items:center;gap:var(--spacing-xs);padding:4px var(--spacing-xs);background:rgba(212,175,55,.05);border-radius:var(--radius-sm)}.attr-item .attr-label[data-v-fdf4ebfc]{color:var(--text-light);font-size:.8rem}.attr-item .attr-value[data-v-fdf4ebfc]{color:var(--accent-color);font-weight:600;font-size:.85rem}.equipment-list[data-v-fdf4ebfc],.skills-list[data-v-fdf4ebfc]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.equipment-item[data-v-fdf4ebfc],.skill-item[data-v-fdf4ebfc]{padding:var(--spacing-sm);background:rgba(0,0,0,.02);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm)}.equip-name[data-v-fdf4ebfc],.skill-name[data-v-fdf4ebfc]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.9rem}.equip-info[data-v-fdf4ebfc],.skill-tag[data-v-fdf4ebfc],.skill-consume[data-v-fdf4ebfc]{font-size:.8rem;color:var(--text-light);margin-bottom:var(--spacing-xs);display:flex;flex-wrap:wrap;gap:4px}.effect-inline[data-v-fdf4ebfc]{padding:2px 6px;background:rgba(212,175,55,.12);border-radius:var(--radius-sm);font-size:.75rem;color:var(--text-color)}.equip-desc[data-v-fdf4ebfc],.skill-effect[data-v-fdf4ebfc],.skill-desc[data-v-fdf4ebfc]{font-size:.8rem;color:var(--text-color);line-height:1.5;margin-bottom:var(--spacing-xs)}.equip-desc[data-v-fdf4ebfc]:last-child,.skill-effect[data-v-fdf4ebfc]:last-child,.skill-desc[data-v-fdf4ebfc]:last-child{margin-bottom:0}.skill-header[data-v-fdf4ebfc]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-xs)}.skill-header .skill-type[data-v-fdf4ebfc]{font-size:.75rem;padding:2px var(--spacing-xs);background:var(--accent-color);color:var(--primary-bg);border-radius:var(--radius-sm)}.stairway-content[data-v-fdf4ebfc]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.stairway-section[data-v-fdf4ebfc]{padding:var(--spacing-xs);background:rgba(0,0,0,.02);border-radius:var(--radius-sm)}.stairway-label[data-v-fdf4ebfc]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.85rem}.stairway-item[data-v-fdf4ebfc]{font-size:.8rem;color:var(--text-color);margin-bottom:var(--spacing-xs);line-height:1.5}.stairway-item[data-v-fdf4ebfc]:last-child{margin-bottom:0}.stairway-desc[data-v-fdf4ebfc]{font-size:.8rem;color:var(--text-light);line-height:1.5;margin-top:var(--spacing-xs)}.comment[data-v-fdf4ebfc]{margin-top:var(--spacing-sm);padding:var(--spacing-sm);background:rgba(212,175,55,.1);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm);font-style:italic;color:var(--text-color);font-size:.85rem;line-height:1.6}@media (max-width:768px){.destined-one-list[data-v-fdf4ebfc]{grid-template-columns:1fr;gap:var(--spacing-md);padding:var(--spacing-sm)}.destined-one-card[data-v-fdf4ebfc]{padding:var(--spacing-sm)}.card-header[data-v-fdf4ebfc]{flex-wrap:wrap;gap:var(--spacing-xs)}.card-header .item-name[data-v-fdf4ebfc]{font-size:1.1rem;flex-basis:100%}.card-header .header-actions[data-v-fdf4ebfc]{flex-basis:100%;justify-content:space-between}.card-header .item-cost[data-v-fdf4ebfc]{font-size:.9rem}.card-summary[data-v-fdf4ebfc]{grid-template-columns:1fr}.attributes[data-v-fdf4ebfc]{grid-template-columns:repeat(2,1fr)}}
.exchange-card[data-v-c35365ee]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md)}.exchange-card--gold[data-v-c35365ee]{--exchange-accent:#d4af37;--exchange-accent-strong:#b8941f;--exchange-surface-start:rgba(212,175,55,0.1);--exchange-surface-end:rgba(212,175,55,0.05);--exchange-border:rgba(212,175,55,0.3);--exchange-secondary-start:#caa336;--exchange-secondary-end:#a57f1a}.exchange-card--violet[data-v-c35365ee]{--exchange-accent:#9c27b0;--exchange-accent-strong:#7b1fa2;--exchange-surface-start:rgba(156,39,176,0.1);--exchange-surface-end:rgba(156,39,176,0.05);--exchange-border:rgba(156,39,176,0.3);--exchange-secondary-start:#d4af37;--exchange-secondary-end:#b8941f}.exchange-header[data-v-c35365ee]{display:flex;align-items:center;gap:var(--spacing-xs);margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.exchange-header .exchange-icon[data-v-c35365ee]{font-size:1.2rem;color:var(--exchange-accent)}.exchange-header .exchange-title[data-v-c35365ee]{font-size:1rem;font-weight:600;color:var(--title-color)}.exchange-header .exchange-rate[data-v-c35365ee]{font-size:.85rem;color:var(--text-light)}.exchange-body[data-v-c35365ee]{display:flex;align-items:center;gap:var(--spacing-md)}.exchange-body .current-display[data-v-c35365ee]{display:flex;align-items:baseline;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:linear-gradient(135deg,var(--exchange-surface-start) 0%,var(--exchange-surface-end) 100%);border:1px solid var(--exchange-border);border-radius:var(--radius-md);white-space:nowrap}.exchange-body .current-display .label[data-v-c35365ee]{font-size:.9rem;color:var(--text-light)}.exchange-body .current-display .value[data-v-c35365ee]{font-size:1.2rem;font-weight:700;color:var(--exchange-accent);font-family:var(--font-mono);min-width:40px;text-align:right}.exchange-body .current-display .unit[data-v-c35365ee]{font-size:.85rem;color:var(--text-light)}.exchange-body .exchange-controls[data-v-c35365ee]{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.exchange-body .exchange-controls .exchange-input[data-v-c35365ee]{width:150px}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee],.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]{padding:var(--spacing-sm) var(--spacing-lg);background:linear-gradient(135deg,var(--exchange-accent) 0%,var(--exchange-accent-strong) 100%);color:var(--primary-bg);border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-normal);white-space:nowrap}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee]:hover:not(:disabled),.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]:hover:not(:disabled){transform:translateY(-1px);box-shadow:var(--shadow-sm)}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee]:active:not(:disabled),.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]:active:not(:disabled){transform:translateY(0)}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee]:disabled,.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee]:disabled:hover,.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]:disabled:hover{transform:none;box-shadow:none}.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee]{background:linear-gradient(135deg,var(--exchange-secondary-start) 0%,var(--exchange-secondary-end) 100%)}.exchange-body .exchange-controls .exchange-reset-icon[data-v-c35365ee]{width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);border:1px solid var(--border-color);background:rgba(0,0,0,0);color:var(--text-light);cursor:pointer;transition:var(--transition-fast)}.exchange-body .exchange-controls .exchange-reset-icon[data-v-c35365ee]:hover:not(:disabled){color:var(--exchange-accent-strong);border-color:var(--exchange-accent-strong)}.exchange-body .exchange-controls .exchange-reset-icon[data-v-c35365ee]:disabled{opacity:.4;cursor:not-allowed}@media (max-width:768px){.exchange-body[data-v-c35365ee]{flex-direction:column;align-items:stretch}.exchange-body .current-display[data-v-c35365ee]{justify-content:space-between}.exchange-body .exchange-controls[data-v-c35365ee]{flex-wrap:wrap}.exchange-body .exchange-controls .exchange-input[data-v-c35365ee]{flex:1}.exchange-body .exchange-controls .exchange-button[data-v-c35365ee],.exchange-body .exchange-controls .exchange-all-button[data-v-c35365ee],.exchange-body .exchange-controls .exchange-reset-icon[data-v-c35365ee]{flex-shrink:0}}
.level-tabs[data-v-18f949f6]{display:flex;gap:var(--spacing-md);padding:var(--spacing-md) 0}.level-tab[data-v-18f949f6]{flex:1;padding:var(--spacing-md) var(--spacing-lg);background:var(--input-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);cursor:pointer;transition:all var(--transition-fast);text-align:center;font-size:1.1rem;font-weight:600;color:var(--title-color)}.level-tab[data-v-18f949f6]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1);transform:translateY(-2px)}.level-tab.active[data-v-18f949f6]{background:var(--accent-color);border-color:var(--accent-color);box-shadow:var(--shadow-md);color:var(--primary-bg)}@media (max-width:768px){.level-tabs[data-v-18f949f6]{gap:var(--spacing-sm)}.level-tab[data-v-18f949f6]{padding:var(--spacing-sm) var(--spacing-md);font-size:.95rem}}
.background-page[data-v-2f9de742]{display:flex;flex-direction:column;gap:var(--spacing-xl);max-width:1600px;margin:0 auto;padding:var(--spacing-md)}.section-title[data-v-2f9de742]{font-size:1.5rem;color:var(--title-color);margin:0 0 var(--spacing-md) 0;padding-bottom:var(--spacing-sm);border-bottom:2px solid var(--border-color)}.destined-ones-section[data-v-2f9de742]{display:flex;flex-direction:column}.destined-ones-section .section-title[data-v-2f9de742]{margin-bottom:0}.destined-ones-content[data-v-2f9de742]{max-height:600px;overflow-y:auto;border:2px solid var(--border-color);border-radius:var(--radius-lg);background:var(--input-bg)}.destined-ones-content[data-v-2f9de742]::-webkit-scrollbar{width:10px}.destined-ones-content[data-v-2f9de742]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.destined-ones-content[data-v-2f9de742]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.destined-ones-content[data-v-2f9de742]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.background-section[data-v-2f9de742]{display:flex;flex-direction:column}.summary-section[data-v-2f9de742]{position:sticky;bottom:0}.summary-card[data-v-2f9de742]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md)}.summary-header[data-v-2f9de742]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.summary-title-row[data-v-2f9de742]{display:flex;align-items:center;gap:var(--spacing-md)}.summary-title[data-v-2f9de742]{font-size:1.2rem;color:var(--title-color);margin:0}.points-info[data-v-2f9de742]{display:flex;align-items:baseline;gap:var(--spacing-xs);font-size:1rem;font-weight:600}.points-info .points-value[data-v-2f9de742]{color:var(--accent-color);font-size:1.2rem}.points-info .points-value.insufficient[data-v-2f9de742]{color:var(--error-color)}.points-info .points-separator[data-v-2f9de742]{color:var(--text-light);font-size:1rem}.points-info .points-total[data-v-2f9de742]{color:var(--text-light);font-size:1rem}.clear-btn[data-v-2f9de742]{padding:var(--spacing-xs) var(--spacing-md);background:var(--error-color);color:#fff;border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:500;transition:all var(--transition-fast)}.clear-btn[data-v-2f9de742]:hover{background:#b71c1c;transform:translateY(-1px)}.clear-btn[data-v-2f9de742]:active{transform:translateY(0)}.summary-content[data-v-2f9de742]{display:flex;flex-direction:column;gap:var(--spacing-md)}.summary-group[data-v-2f9de742]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.summary-label[data-v-2f9de742]{font-weight:600;color:var(--title-color);font-size:.95rem}.summary-items[data-v-2f9de742]{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.summary-item[data-v-2f9de742]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.85rem}.summary-item.full[data-v-2f9de742]{flex:1 1 100%}.summary-item .item-name[data-v-2f9de742]{color:var(--text-color)}.summary-item .item-cost[data-v-2f9de742]{color:var(--accent-color);font-weight:600}.summary-item .remove-btn[data-v-2f9de742]{width:20px;height:20px;display:flex;align-items:center;justify-content:center;background:var(--error-color);color:#fff;border:none;border-radius:50%;cursor:pointer;font-size:.65rem;margin-left:auto}.summary-item .remove-btn[data-v-2f9de742]:hover{background:#b71c1c}.empty-state[data-v-2f9de742]{text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:.95rem}@media (max-width:768px){.background-page[data-v-2f9de742]{gap:var(--spacing-md);padding:var(--spacing-sm)}.section-title[data-v-2f9de742]{font-size:1.3rem}.destined-ones-content[data-v-2f9de742]{max-height:500px}.summary-section[data-v-2f9de742]{position:static}.summary-items[data-v-2f9de742]{flex-direction:column}.summary-item[data-v-2f9de742]{justify-content:space-between}}@media (max-width:480px){.section-title[data-v-2f9de742]{font-size:1.1rem}.summary-header[data-v-2f9de742]{flex-wrap:wrap;gap:var(--spacing-sm)}.summary-title-row[data-v-2f9de742]{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs);flex:1 1 100%}.clear-btn[data-v-2f9de742]{width:100%}}
.form-row[data-v-7e9beb9a]{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.form-row.full-width[data-v-7e9beb9a]{grid-template-columns:1fr}.form-field[data-v-7e9beb9a]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.form-field label[data-v-7e9beb9a]{font-weight:600;color:var(--accent-color);font-size:1rem;display:flex;align-items:center;gap:var(--spacing-xs);letter-spacing:.5px}.form-field label.required[data-v-7e9beb9a]::after{content:"*";color:#ff6b6b;font-weight:bold;margin-left:2px}.level-input-group[data-v-7e9beb9a]{display:flex;align-items:center;gap:var(--spacing-md)}.level-input-group .number-input-wrapper[data-v-7e9beb9a]{flex:1}.level-input-group .level-indicator[data-v-7e9beb9a]{padding:var(--spacing-sm) var(--spacing-md);background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--accent-color);font-weight:600;font-size:.9rem;white-space:nowrap}.attributes-panel[data-v-7e9beb9a]{margin:var(--spacing-2xl) 0 0;background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-sm)}.attributes-panel .panel-header[data-v-7e9beb9a]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(to bottom,var(--primary-bg),var(--card-bg));border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.attributes-panel .panel-header h3[data-v-7e9beb9a]{margin:0;color:var(--title-color);font-size:1.2rem;font-weight:700}.attributes-panel .panel-header .ap-info[data-v-7e9beb9a]{font-size:1rem;color:var(--text-color)}.attributes-panel .panel-header .ap-info strong[data-v-7e9beb9a]{color:var(--accent-color);font-size:1.2rem}.attributes-panel .panel-header .ap-info strong.error[data-v-7e9beb9a]{color:var(--error-color)}.attributes-panel .panel-header .ap-info strong.success[data-v-7e9beb9a]{color:var(--success-color)}.attributes-panel .panel-content[data-v-7e9beb9a]{padding:var(--spacing-lg)}.attributes-panel .attributes-grid[data-v-7e9beb9a]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.attributes-panel .attribute-item[data-v-7e9beb9a]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.attributes-panel .attribute-display[data-v-7e9beb9a]{font-size:.8rem;color:var(--text-color-secondary);text-align:center;padding:var(--spacing-xs) 0;background:var(--primary-bg);border-radius:var(--radius-sm);border:1px solid var(--border-color)}.attributes-panel .attribute-display .dim[data-v-7e9beb9a]{opacity:.7}.attributes-panel .attribute-display .final-value[data-v-7e9beb9a]{color:var(--accent-color);font-weight:bold}.attributes-panel .status-message[data-v-7e9beb9a]{padding:var(--spacing-md);border-radius:var(--radius-md);text-align:center;font-weight:600;font-size:1rem;border:1px solid}.attributes-panel .status-message.error[data-v-7e9beb9a]{background:rgba(211,47,47,.1);color:var(--error-color);border-color:var(--error-color)}.attributes-panel .status-message.success[data-v-7e9beb9a]{background:rgba(56,142,60,.1);color:var(--success-color);border-color:var(--success-color)}.attributes-panel .status-message.info[data-v-7e9beb9a]{background:rgba(212,175,55,.1);color:var(--accent-color);border-color:var(--accent-color)}@media (max-width:768px){.form-row[data-v-7e9beb9a]{grid-template-columns:1fr}.form-row.full-width[data-v-7e9beb9a]{grid-template-columns:1fr}.level-input-group[data-v-7e9beb9a]{flex-direction:column;align-items:stretch}.location-field .location-options[data-v-7e9beb9a]{max-height:300px}.location-field .location-option .location-label[data-v-7e9beb9a]{font-size:.85rem}.attributes-panel .panel-header[data-v-7e9beb9a]{flex-direction:column;align-items:stretch}.attributes-panel .attributes-grid[data-v-7e9beb9a]{grid-template-columns:1fr}}
.confirm-page[data-v-4bd0f2d6]{max-width:900px;margin:0 auto}.confirm-panel[data-v-4bd0f2d6]{overflow:hidden}.panel-header[data-v-4bd0f2d6]{text-align:center;padding:var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:2px solid var(--border-color)}.panel-header .panel-title[data-v-4bd0f2d6]{font-size:1.6rem;color:var(--title-color);margin:0 0 var(--spacing-xs) 0;font-weight:700}.panel-header .panel-subtitle[data-v-4bd0f2d6]{font-size:.95rem;color:var(--text-light);margin:0}.panel-content[data-v-4bd0f2d6]{padding:var(--spacing-lg)}.points-section[data-v-4bd0f2d6]{background:linear-gradient(135deg,rgba(212,175,55,0.05) 0%,rgba(212,175,55,0.02) 100%);border:2px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-md) !important;margin-bottom:var(--spacing-lg) !important}.points-grid[data-v-4bd0f2d6]{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-md)}.points-grid .point-item[data-v-4bd0f2d6]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm);background:var(--card-bg);border-radius:var(--radius-md)}.points-grid .point-item.destiny[data-v-4bd0f2d6]{background:linear-gradient(135deg,rgba(156,39,176,0.1) 0%,rgba(156,39,176,0.05) 100%)}.points-grid .point-item .point-label[data-v-4bd0f2d6]{font-size:.85rem;color:var(--text-light);font-weight:500}.points-grid .point-item .point-value[data-v-4bd0f2d6]{font-size:1.5rem;font-weight:700;font-family:var(--font-mono);color:var(--text-color)}.points-grid .point-item .point-value.gold[data-v-4bd0f2d6]{color:var(--accent-color)}.points-grid .point-item .point-value.purple[data-v-4bd0f2d6]{color:#9c27b0}.points-grid .point-item .point-value.positive[data-v-4bd0f2d6]{color:var(--success-color)}.points-grid .point-item .point-value.negative[data-v-4bd0f2d6]{color:var(--error-color)}.doc-section[data-v-4bd0f2d6]{padding:var(--spacing-lg) 0}.doc-section[data-v-4bd0f2d6]:last-child{border-bottom:none;padding-bottom:0}.doc-section[data-v-4bd0f2d6]:first-child{padding-top:0}.section-title[data-v-4bd0f2d6]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:1.2rem;color:var(--title-color);margin:0 0 var(--spacing-md) 0;font-weight:700}.section-title i[data-v-4bd0f2d6]{color:var(--accent-color)}.doc-text[data-v-4bd0f2d6]{line-height:1.8;color:var(--text-color)}.doc-text p[data-v-4bd0f2d6]{margin:0 0 var(--spacing-sm) 0}.doc-text p[data-v-4bd0f2d6]:last-child{margin-bottom:0}.doc-text p strong[data-v-4bd0f2d6]{color:var(--text-light);font-weight:600}.doc-text.attributes[data-v-4bd0f2d6]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-sm) var(--spacing-lg)}.doc-text.attributes .attr-detail[data-v-4bd0f2d6]{font-family:var(--font-mono);color:var(--accent-color);font-weight:700;font-size:1.1em}.item-entry[data-v-4bd0f2d6],.destined-entry[data-v-4bd0f2d6]{margin-bottom:var(--spacing-lg);padding-bottom:var(--spacing-lg);border-bottom:1px dashed var(--border-color-light)}.item-entry[data-v-4bd0f2d6]:last-child,.destined-entry[data-v-4bd0f2d6]:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.item-entry .item-title[data-v-4bd0f2d6],.destined-entry .item-title[data-v-4bd0f2d6]{font-size:1.05rem;margin-bottom:var(--spacing-xs) !important}.item-entry .item-title .item-quantity[data-v-4bd0f2d6],.destined-entry .item-title .item-quantity[data-v-4bd0f2d6]{font-size:.9rem;color:#4caf50;font-weight:600;margin-left:var(--spacing-xs)}.item-entry .item-title .item-cost[data-v-4bd0f2d6],.destined-entry .item-title .item-cost[data-v-4bd0f2d6]{font-size:.9rem;color:var(--accent-color);font-weight:600;font-family:var(--font-mono);margin-left:var(--spacing-xs)}.item-entry .item-meta[data-v-4bd0f2d6],.destined-entry .item-meta[data-v-4bd0f2d6]{font-size:.9rem;color:var(--text-light);margin-bottom:var(--spacing-xs) !important}.item-entry .item-desc[data-v-4bd0f2d6],.destined-entry .item-desc[data-v-4bd0f2d6]{margin-bottom:var(--spacing-xs) !important;display:flex;flex-wrap:wrap;gap:6px}.item-entry .effect-inline[data-v-4bd0f2d6],.destined-entry .effect-inline[data-v-4bd0f2d6]{padding:2px 6px;background:rgba(212,175,55,.12);border-radius:var(--radius-sm);font-size:.85rem}.item-entry .item-flavor[data-v-4bd0f2d6],.destined-entry .item-flavor[data-v-4bd0f2d6]{font-size:.9rem;color:var(--text-light);font-style:italic}.item-entry .sub-list[data-v-4bd0f2d6],.destined-entry .sub-list[data-v-4bd0f2d6]{margin-top:var(--spacing-sm);padding-left:var(--spacing-md)}.item-entry .sub-list p[data-v-4bd0f2d6],.destined-entry .sub-list p[data-v-4bd0f2d6]{margin-bottom:4px !important}.item-entry .sub-list p strong[data-v-4bd0f2d6],.destined-entry .sub-list p strong[data-v-4bd0f2d6]{color:var(--text-color)}.item-entry .sub-list .sub-item[data-v-4bd0f2d6],.destined-entry .sub-list .sub-item[data-v-4bd0f2d6]{font-size:.95rem;color:var(--text-light)}.background-story[data-v-4bd0f2d6],.background-desc[data-v-4bd0f2d6]{white-space:pre-wrap;line-height:1.8}.empty-text[data-v-4bd0f2d6]{text-align:center;padding:var(--spacing-lg);color:var(--text-light);font-style:italic}.final-notice[data-v-4bd0f2d6]{margin-top:var(--spacing-lg)}.final-notice .notice[data-v-4bd0f2d6]{display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs);padding:var(--spacing-md);border-radius:var(--radius-md);font-size:.95rem;font-weight:600;text-align:center}.final-notice .notice.warning[data-v-4bd0f2d6]{background:rgba(244,67,54,.1);color:var(--error-color);border:2px solid var(--error-color)}.final-notice .notice.info[data-v-4bd0f2d6]{background:rgba(33,150,243,.1);color:#2196f3;border:2px solid #2196f3}@media (max-width:768px){.panel-header[data-v-4bd0f2d6]{padding:var(--spacing-md)}.panel-header .panel-title[data-v-4bd0f2d6]{font-size:1.3rem}.panel-content[data-v-4bd0f2d6]{padding:var(--spacing-md)}.points-grid[data-v-4bd0f2d6]{grid-template-columns:repeat(2,1fr)}.doc-text.attributes[data-v-4bd0f2d6]{grid-template-columns:1fr}.item-entry[data-v-4bd0f2d6],.destined-entry[data-v-4bd0f2d6]{margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-md)}}
.category-tabs[data-v-53e67b8a]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-sm);background:var(--card-bg);border-radius:var(--radius-lg);border:1px solid var(--border-color);margin-bottom:var(--spacing-lg)}.tab-button[data-v-53e67b8a]{flex:1;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-normal);font-size:.9rem;font-weight:600;color:var(--text-color)}.tab-button[data-v-53e67b8a]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.tab-button.active[data-v-53e67b8a]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg)}.tab-button.active .tab-icon[data-v-53e67b8a]{transform:scale(1.1)}.tab-button .tab-icon[data-v-53e67b8a]{font-size:1.2rem;transition:transform var(--transition-normal)}.tab-button .tab-label[data-v-53e67b8a]{font-family:var(--font-title);font-size:.9rem}@media (max-width:768px){.category-tabs[data-v-53e67b8a]{gap:var(--spacing-sm);padding:var(--spacing-sm)}.tab-button[data-v-53e67b8a]{flex-direction:column;padding:var(--spacing-sm);gap:var(--spacing-xs)}.tab-button .tab-icon[data-v-53e67b8a]{font-size:1.2rem}.tab-button .tab-label[data-v-53e67b8a]{font-size:.85rem}}
.custom-item-form[data-v-77bf4d82]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;transition:all var(--transition-normal)}.custom-item-form:not(.expanded) .form-header[data-v-77bf4d82]{border-bottom:none}.custom-item-form .form-header[data-v-77bf4d82]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:2px solid var(--border-color);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;justify-content:space-between;align-items:center;transition:all var(--transition-fast)}.custom-item-form .form-header[data-v-77bf4d82]:hover{background:linear-gradient(135deg,rgba(212,175,55,0.15) 0%,rgba(212,175,55,0.08) 100%)}.custom-item-form .form-header .header-left[data-v-77bf4d82]{flex:1}.custom-item-form .form-header .form-title[data-v-77bf4d82]{font-size:1.1rem;margin:0 0 var(--spacing-xs) 0;color:var(--title-color);font-weight:700}.custom-item-form .form-header .form-desc[data-v-77bf4d82]{font-size:.85rem;color:var(--text-light)}.custom-item-form .form-header .toggle-icon[data-v-77bf4d82]{font-size:.9rem;color:var(--text-light);transition:transform var(--transition-fast);margin-left:var(--spacing-md)}.custom-item-form .form-header .toggle-icon.rotated[data-v-77bf4d82]{transform:rotate(180deg)}.custom-item-form .form-body[data-v-77bf4d82]{padding:var(--spacing-lg)}.custom-item-form .form-row[data-v-77bf4d82]{margin-bottom:var(--spacing-md)}.custom-item-form .form-row[data-v-77bf4d82]:last-child{margin-bottom:0}.custom-item-form .category-buttons[data-v-77bf4d82],.custom-item-form .rarity-buttons[data-v-77bf4d82]{display:flex;gap:var(--spacing-xs);flex-wrap:wrap}.custom-item-form .category-btn[data-v-77bf4d82]{padding:var(--spacing-sm) var(--spacing-lg);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.9rem;color:var(--text-color)}.custom-item-form .category-btn[data-v-77bf4d82]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.custom-item-form .category-btn.active[data-v-77bf4d82]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600;box-shadow:0 2px 4px rgba(212,175,55,.3)}.custom-item-form .rarity-btn[data-v-77bf4d82]{padding:4px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color)}.custom-item-form .rarity-btn[data-v-77bf4d82]:hover{border-color:var(--rarity-color);color:var(--rarity-color)}.custom-item-form .rarity-btn.active[data-v-77bf4d82]{background:var(--rarity-color);border-color:var(--rarity-color);color:#fff;font-weight:600;box-shadow:0 2px 4px rgba(0,0,0,.2)}.custom-item-form .cost-info[data-v-77bf4d82]{margin-top:var(--spacing-xs);font-size:.85rem;color:var(--text-light)}.custom-item-form .cost-info .cost-value[data-v-77bf4d82]{font-size:1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono);margin:0 var(--spacing-xs)}.custom-item-form .cost-info .cost-range[data-v-77bf4d82]{font-size:.8rem;color:var(--text-light)}.custom-item-form .form-actions[data-v-77bf4d82]{display:flex;gap:var(--spacing-md);margin-top:var(--spacing-lg);padding-top:var(--spacing-md);border-top:1px solid var(--border-color)}.custom-item-form .btn-reset[data-v-77bf4d82],.custom-item-form .btn-submit[data-v-77bf4d82]{flex:1;padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.custom-item-form .btn-reset[data-v-77bf4d82]{background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color)}.custom-item-form .btn-reset[data-v-77bf4d82]:hover{background:var(--card-bg);border-color:var(--border-color-strong)}.custom-item-form .btn-submit[data-v-77bf4d82]{background:var(--accent-color);color:var(--primary-bg)}.custom-item-form .btn-submit[data-v-77bf4d82]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.custom-item-form .btn-submit[data-v-77bf4d82]:disabled{opacity:.5;cursor:not-allowed}@media (max-width:768px){.custom-item-form .form-header[data-v-77bf4d82]{padding:var(--spacing-sm) var(--spacing-md)}.custom-item-form .form-header .header-left .form-title[data-v-77bf4d82]{font-size:1rem}.custom-item-form .form-header .header-left .form-desc[data-v-77bf4d82]{font-size:.8rem}.custom-item-form .form-header .toggle-icon[data-v-77bf4d82]{font-size:.85rem}.custom-item-form .form-body[data-v-77bf4d82]{padding:var(--spacing-md)}.custom-item-form .form-row[data-v-77bf4d82]{margin-bottom:var(--spacing-sm)}.custom-item-form .category-buttons[data-v-77bf4d82],.custom-item-form .rarity-buttons[data-v-77bf4d82]{gap:4px}.custom-item-form .category-btn[data-v-77bf4d82]{padding:6px var(--spacing-sm);font-size:.85rem}.custom-item-form .rarity-btn[data-v-77bf4d82]{padding:3px var(--spacing-xs);font-size:.8rem}.custom-item-form .form-actions[data-v-77bf4d82]{flex-direction:column;gap:var(--spacing-sm)}}
.item-card[data-v-0694f832]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-normal);position:relative;overflow:hidden}.item-card[data-v-0694f832]::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:var(--rarity-color);opacity:.6}.item-card[data-v-0694f832]:hover:not(.is-disabled){border-color:var(--accent-color);box-shadow:var(--shadow-md);transform:translateY(-2px)}.item-card.is-selected[data-v-0694f832]{border-color:var(--accent-color);background:linear-gradient(to bottom,var(--card-bg),rgba(212,175,55,0.05));box-shadow:0 0 0 2px rgba(212,175,55,.2)}.item-card.is-selected[data-v-0694f832]::before{height:4px;opacity:1}.item-card.is-disabled[data-v-0694f832]{opacity:.5;cursor:not-allowed}.card-header[data-v-0694f832]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color-light)}.card-header .item-name[data-v-0694f832]{font-size:1.1rem;font-weight:700;color:var(--title-color)}.card-header .item-rarity[data-v-0694f832]{font-size:.9rem;font-weight:600;padding:2px 8px;border-radius:var(--radius-sm);background:rgba(0,0,0,.1)}.card-body[data-v-0694f832]{margin-bottom:var(--spacing-md)}.card-body .item-info[data-v-0694f832]{display:flex;gap:var(--spacing-xs);margin-bottom:var(--spacing-xs);font-size:.9rem}.card-body .item-info .info-label[data-v-0694f832]{color:var(--text-light);font-weight:600;min-width:50px}.card-body .item-info .info-value[data-v-0694f832]{color:var(--text-color);flex:1}.card-body .item-info .info-value.quantity[data-v-0694f832]{font-family:monospace;font-size:.9rem;font-weight:600;color:#4caf50}.card-body .item-info .info-value.consume[data-v-0694f832]{font-family:monospace;font-size:.85rem;color:#2196f3}.card-body .item-info .tag-list[data-v-0694f832]{display:flex;flex-wrap:wrap;gap:6px;align-items:center}.card-body .item-info .tag-chip[data-v-0694f832]{padding:2px 8px;font-size:.8rem;border-radius:999px;background:rgba(212,175,55,.15);color:var(--accent-color);border:1px solid rgba(212,175,55,.35);font-family:var(--font-mono)}.card-body .item-effect[data-v-0694f832]{margin:var(--spacing-sm) 0;padding:var(--spacing-sm);background:rgba(212,175,55,.05);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm)}.card-body .item-effect .effect-label[data-v-0694f832]{font-size:.9rem;font-weight:600;color:var(--accent-color);margin-bottom:var(--spacing-xs)}.card-body .item-effect .effect-grid[data-v-0694f832]{display:grid;grid-template-columns:minmax(80px,120px) 1fr;gap:6px 12px;font-size:.85rem;color:var(--text-color)}.card-body .item-effect .effect-row[data-v-0694f832]{display:contents}.card-body .item-effect .effect-key[data-v-0694f832]{color:var(--text-light);font-weight:600}.card-body .item-effect .effect-value[data-v-0694f832]{color:var(--text-color)}.card-body .item-description[data-v-0694f832]{margin-top:var(--spacing-sm);font-size:.85rem;line-height:1.6;color:var(--text-light);font-style:italic}.card-footer[data-v-0694f832]{display:flex;justify-content:space-between;align-items:center;padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.card-footer .item-cost[data-v-0694f832]{display:flex;gap:var(--spacing-xs);align-items:center}.card-footer .item-cost .cost-label[data-v-0694f832]{font-size:.9rem;color:var(--text-light)}.card-footer .item-cost .cost-value[data-v-0694f832]{font-size:1.1rem;font-weight:700;color:var(--accent-color)}.card-footer .selected-badge[data-v-0694f832]{padding:4px 12px;background:var(--accent-color);color:var(--primary-bg);border-radius:var(--radius-md);font-size:.85rem;font-weight:600}@media (max-width:768px){.item-card[data-v-0694f832]{padding:var(--spacing-sm)}.card-header .item-name[data-v-0694f832]{font-size:1rem}.card-header .item-rarity[data-v-0694f832]{font-size:.8rem}.card-body .item-info[data-v-0694f832]{font-size:.85rem}.card-body .item-effect .effect-label[data-v-0694f832]{font-size:.85rem}.card-body .item-effect .effect-content[data-v-0694f832]{font-size:.8rem}.card-body .item-description[data-v-0694f832]{font-size:.8rem}.card-footer .item-cost .cost-label[data-v-0694f832]{font-size:.85rem}.card-footer .item-cost .cost-value[data-v-0694f832]{font-size:1rem}.card-footer .selected-badge[data-v-0694f832]{font-size:.8rem;padding:3px 10px}}
.item-list[data-v-0cb1e7b4]{min-height:400px}.empty-state[data-v-0cb1e7b4]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl);min-height:400px}.empty-state .empty-icon[data-v-0cb1e7b4]{font-size:4rem;margin-bottom:var(--spacing-lg);opacity:.5}.empty-state .empty-text[data-v-0cb1e7b4]{font-size:1.1rem;color:var(--text-light);font-style:italic}.item-grid[data-v-0cb1e7b4]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--spacing-lg);padding:var(--spacing-md)}@media (max-width:1200px){.item-grid[data-v-0cb1e7b4]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--spacing-md)}}@media (max-width:768px){.item-grid[data-v-0cb1e7b4]{grid-template-columns:1fr;gap:var(--spacing-md);padding:var(--spacing-sm)}.empty-state[data-v-0cb1e7b4]{padding:var(--spacing-xl);min-height:300px}.empty-state .empty-icon[data-v-0cb1e7b4]{font-size:3rem}.empty-state .empty-text[data-v-0cb1e7b4]{font-size:1rem}}
.rarity-filter[data-v-4102fea8]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-xs);background:var(--card-bg);flex-wrap:wrap}.rarity-filter .filter-label[data-v-4102fea8]{font-size:.9rem;font-weight:600;color:var(--text-color);white-space:nowrap}.rarity-filter .filter-buttons[data-v-4102fea8]{display:flex;gap:var(--spacing-xs);flex-wrap:wrap;flex:1}.rarity-filter .filter-btn[data-v-4102fea8]{padding:4px var(--spacing-sm);background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color);white-space:nowrap}.rarity-filter .filter-btn[data-v-4102fea8]:hover{border-color:var(--rarity-color);background:var(--card-bg);color:var(--rarity-color);transform:translateY(-1px)}.rarity-filter .filter-btn.active[data-v-4102fea8]{background:var(--rarity-color);border-color:var(--rarity-color);color:#fff;font-weight:600;box-shadow:0 2px 4px rgba(0,0,0,.2)}@media (max-width:768px){.rarity-filter[data-v-4102fea8]{padding:var(--spacing-xs) var(--spacing-sm);gap:var(--spacing-sm)}.rarity-filter .filter-label[data-v-4102fea8]{font-size:.85rem}.rarity-filter .filter-buttons[data-v-4102fea8]{gap:4px}.rarity-filter .filter-btn[data-v-4102fea8]{font-size:.8rem;padding:3px var(--spacing-xs)}}@media (max-width:480px){.rarity-filter[data-v-4102fea8]{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs)}.rarity-filter .filter-label[data-v-4102fea8]{font-size:.8rem}.rarity-filter .filter-buttons[data-v-4102fea8]{width:100%;justify-content:flex-start}.rarity-filter .filter-btn[data-v-4102fea8]{font-size:.75rem;padding:2px 6px}}
.selected-panel[data-v-4718b4fc]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);display:flex;flex-direction:column;height:100%}.selected-panel .panel-header[data-v-4718b4fc]{padding:var(--spacing-md);border-bottom:2px solid var(--border-color);display:flex;flex-direction:column;gap:var(--spacing-xs)}.selected-panel .panel-header .header-top[data-v-4718b4fc]{display:flex;justify-content:space-between;align-items:center}.selected-panel .panel-header .title[data-v-4718b4fc]{font-size:1.1rem;margin:0;color:var(--title-color);font-weight:700}.selected-panel .panel-header .count-badge[data-v-4718b4fc]{display:flex;align-items:center;justify-content:center;min-width:32px;height:32px;padding:0 var(--spacing-sm);background:var(--accent-color);color:var(--primary-bg);border-radius:50%;font-weight:700;font-size:1rem}.selected-panel .panel-header .points-info[data-v-4718b4fc]{display:flex;align-items:baseline;gap:var(--spacing-xs);font-size:.9rem}.selected-panel .panel-header .points-info .points-label[data-v-4718b4fc]{color:var(--text-light);font-weight:500}.selected-panel .panel-header .points-info .points-value[data-v-4718b4fc]{font-size:1.1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono)}.selected-panel .panel-header .points-info .points-value.negative[data-v-4718b4fc]{color:var(--error-color)}.selected-panel .panel-header .points-info .points-total[data-v-4718b4fc]{color:var(--text-light);font-family:var(--font-mono)}.selected-panel .panel-header .points-info .points-consumed[data-v-4718b4fc]{color:var(--text-light);font-size:.85rem}.selected-panel .panel-body[data-v-4718b4fc]{flex:1;align-content:center;overflow-y:auto;padding:var(--spacing-lg)}.selected-panel .panel-body .section[data-v-4718b4fc]{margin-bottom:var(--spacing-lg)}.selected-panel .panel-body .section[data-v-4718b4fc]:last-child{margin-bottom:0}.selected-panel .panel-body .section .section-title[data-v-4718b4fc]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:1rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-xs);border-bottom:1px solid var(--border-color-light)}.selected-panel .panel-body .section .section-title .section-label[data-v-4718b4fc]{display:inline-flex;align-items:center;gap:var(--spacing-xs)}.selected-panel .panel-body .section .section-title .section-label i[data-v-4718b4fc]{font-size:1rem;color:var(--accent-color)}.selected-panel .panel-body .section .section-title .count[data-v-4718b4fc]{font-size:.9rem;color:var(--text-light)}.selected-panel .panel-body .section .item-list[data-v-4718b4fc]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.selected-panel .panel-body .section .selected-item[data-v-4718b4fc]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);transition:all var(--transition-fast)}.selected-panel .panel-body .section .selected-item[data-v-4718b4fc]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.selected-panel .panel-body .section .selected-item .item-info[data-v-4718b4fc]{flex:1;min-width:0}.selected-panel .panel-body .section .selected-item .item-info .item-name[data-v-4718b4fc]{font-size:.9rem;font-weight:600;color:var(--text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selected-panel .panel-body .section .selected-item .item-info .item-name .item-quantity[data-v-4718b4fc]{margin-left:var(--spacing-xs);font-size:.85rem;font-weight:500;color:#4caf50}.selected-panel .panel-body .section .selected-item .item-info .item-cost[data-v-4718b4fc]{font-size:.85rem;color:var(--accent-color);font-family:var(--font-mono);margin-top:2px}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-4718b4fc]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--error-color);color:#fff;border:none;border-radius:50%;cursor:pointer;margin-left:var(--spacing-sm);font-size:.75rem}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-4718b4fc]:hover{background:#b71c1c}.selected-panel .panel-body .empty-state[data-v-4718b4fc]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl) var(--spacing-lg);text-align:center}.selected-panel .panel-body .empty-state .empty-icon[data-v-4718b4fc]{font-size:3rem;margin-bottom:var(--spacing-md);opacity:.5}.selected-panel .panel-body .empty-state .empty-text[data-v-4718b4fc]{font-size:.95rem;color:var(--text-light);font-style:italic}.selected-panel .panel-footer[data-v-4718b4fc]{padding:var(--spacing-lg);border-top:2px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.selected-panel .panel-footer .total-info[data-v-4718b4fc]{display:flex;align-items:center;gap:var(--spacing-xs)}.selected-panel .panel-footer .total-info .label[data-v-4718b4fc]{font-size:.95rem;color:var(--text-light)}.selected-panel .panel-footer .total-info .value[data-v-4718b4fc]{font-size:1.2rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono)}.selected-panel .panel-footer .clear-btn[data-v-4718b4fc]{padding:var(--spacing-sm) var(--spacing-lg);background:var(--error-color);color:#fff;border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.selected-panel .panel-footer .clear-btn[data-v-4718b4fc]:hover{background:#b71c1c;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.panel-body[data-v-4718b4fc]::-webkit-scrollbar{width:8px}.panel-body[data-v-4718b4fc]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.panel-body[data-v-4718b4fc]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.panel-body[data-v-4718b4fc]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}@media (max-width:768px){.selected-panel[data-v-4718b4fc]{max-height:none}.selected-panel .panel-header[data-v-4718b4fc]{padding:var(--spacing-md)}.selected-panel .panel-header .title[data-v-4718b4fc]{font-size:1.1rem}.selected-panel .panel-header .count-badge[data-v-4718b4fc]{min-width:28px;height:28px;font-size:.9rem}.selected-panel .panel-body[data-v-4718b4fc]{padding:var(--spacing-md)}.selected-panel .panel-body .section .section-title[data-v-4718b4fc]{font-size:.95rem}.selected-panel .panel-body .section .selected-item[data-v-4718b4fc]{padding:var(--spacing-xs) var(--spacing-sm)}.selected-panel .panel-body .section .selected-item .item-info .item-name[data-v-4718b4fc]{font-size:.85rem}.selected-panel .panel-body .section .selected-item .item-info .item-cost[data-v-4718b4fc]{font-size:.8rem}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-4718b4fc]{width:24px;height:24px}.selected-panel .panel-body .empty-state[data-v-4718b4fc]{padding:var(--spacing-xl) var(--spacing-md)}.selected-panel .panel-body .empty-state .empty-icon[data-v-4718b4fc]{font-size:2.5rem}.selected-panel .panel-body .empty-state .empty-text[data-v-4718b4fc]{font-size:.9rem}.selected-panel .panel-footer[data-v-4718b4fc]{padding:var(--spacing-md);flex-direction:column;align-items:stretch}.selected-panel .panel-footer .total-info[data-v-4718b4fc]{justify-content:center}.selected-panel .panel-footer .total-info .label[data-v-4718b4fc]{font-size:.9rem}.selected-panel .panel-footer .total-info .value[data-v-4718b4fc]{font-size:1.1rem}.selected-panel .panel-footer .clear-btn[data-v-4718b4fc]{width:100%;font-size:.85rem}}
.selections-container[data-v-161a82fc]{display:flex;flex-direction:column;gap:var(--spacing-xl);max-width:1600px;margin:0 auto}.selection-area[data-v-161a82fc]{display:flex;flex-direction:column}.custom-area[data-v-161a82fc]{display:flex;flex-direction:column;gap:var(--spacing-md)}.summary-area[data-v-161a82fc]{height:600px;min-height:300px}@media (max-width:768px){.selections-container[data-v-161a82fc]{gap:var(--spacing-md)}.summary-area[data-v-161a82fc]{height:auto;max-height:none}}
</style></head><body><div id="app"></div></body>